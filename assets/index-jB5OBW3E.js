var Bn=(vt,ht)=>()=>(ht||vt((ht={exports:{}}).exports,ht),ht.exports);var Un=Bn((exports,module)=>{function _mergeNamespaces(vt,ht){for(var xt=0;xt<ht.length;xt++){const _t=ht[xt];if(typeof _t!="string"&&!Array.isArray(_t)){for(const $t in _t)if($t!=="default"&&!($t in vt)){const wt=Object.getOwnPropertyDescriptor(_t,$t);wt&&Object.defineProperty(vt,$t,wt.get?wt:{enumerable:!0,get:()=>_t[$t]})}}}return Object.freeze(Object.defineProperty(vt,Symbol.toStringTag,{value:"Module"}))}(function(){const ht=document.createElement("link").relList;if(ht&&ht.supports&&ht.supports("modulepreload"))return;for(const $t of document.querySelectorAll('link[rel="modulepreload"]'))_t($t);new MutationObserver($t=>{for(const wt of $t)if(wt.type==="childList")for(const Ct of wt.addedNodes)Ct.tagName==="LINK"&&Ct.rel==="modulepreload"&&_t(Ct)}).observe(document,{childList:!0,subtree:!0});function xt($t){const wt={};return $t.integrity&&(wt.integrity=$t.integrity),$t.referrerPolicy&&(wt.referrerPolicy=$t.referrerPolicy),$t.crossOrigin==="use-credentials"?wt.credentials="include":$t.crossOrigin==="anonymous"?wt.credentials="omit":wt.credentials="same-origin",wt}function _t($t){if($t.ep)return;$t.ep=!0;const wt=xt($t);fetch($t.href,wt)}})();function getDefaultExportFromCjs(vt){return vt&&vt.__esModule&&Object.prototype.hasOwnProperty.call(vt,"default")?vt.default:vt}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$2=Symbol.for("react.element"),n$5=Symbol.for("react.portal"),p$5=Symbol.for("react.fragment"),q$2=Symbol.for("react.strict_mode"),r$3=Symbol.for("react.profiler"),t$5=Symbol.for("react.provider"),u$8=Symbol.for("react.context"),v$2=Symbol.for("react.forward_ref"),w$5=Symbol.for("react.suspense"),x$2=Symbol.for("react.memo"),y$5=Symbol.for("react.lazy"),z$1=Symbol.iterator;function A$3(vt){return vt===null||typeof vt!="object"?null:(vt=z$1&&vt[z$1]||vt["@@iterator"],typeof vt=="function"?vt:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$4=Object.assign,D$2={};function E$3(vt,ht,xt){this.props=vt,this.context=ht,this.refs=D$2,this.updater=xt||B$1}E$3.prototype.isReactComponent={};E$3.prototype.setState=function(vt,ht){if(typeof vt!="object"&&typeof vt!="function"&&vt!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,vt,ht,"setState")};E$3.prototype.forceUpdate=function(vt){this.updater.enqueueForceUpdate(this,vt,"forceUpdate")};function F$3(){}F$3.prototype=E$3.prototype;function G$3(vt,ht,xt){this.props=vt,this.context=ht,this.refs=D$2,this.updater=xt||B$1}var H$4=G$3.prototype=new F$3;H$4.constructor=G$3;C$4(H$4,E$3.prototype);H$4.isPureReactComponent=!0;var I$4=Array.isArray,J$2=Object.prototype.hasOwnProperty,K$3={current:null},L$3={key:!0,ref:!0,__self:!0,__source:!0};function M$4(vt,ht,xt){var _t,$t={},wt=null,Ct=null;if(ht!=null)for(_t in ht.ref!==void 0&&(Ct=ht.ref),ht.key!==void 0&&(wt=""+ht.key),ht)J$2.call(ht,_t)&&!L$3.hasOwnProperty(_t)&&($t[_t]=ht[_t]);var Pt=arguments.length-2;if(Pt===1)$t.children=xt;else if(1<Pt){for(var bt=Array(Pt),Rt=0;Rt<Pt;Rt++)bt[Rt]=arguments[Rt+2];$t.children=bt}if(vt&&vt.defaultProps)for(_t in Pt=vt.defaultProps,Pt)$t[_t]===void 0&&($t[_t]=Pt[_t]);return{$$typeof:l$2,type:vt,key:wt,ref:Ct,props:$t,_owner:K$3.current}}function N$3(vt,ht){return{$$typeof:l$2,type:vt.type,key:ht,ref:vt.ref,props:vt.props,_owner:vt._owner}}function O$3(vt){return typeof vt=="object"&&vt!==null&&vt.$$typeof===l$2}function escape(vt){var ht={"=":"=0",":":"=2"};return"$"+vt.replace(/[=:]/g,function(xt){return ht[xt]})}var P$5=/\/+/g;function Q$2(vt,ht){return typeof vt=="object"&&vt!==null&&vt.key!=null?escape(""+vt.key):ht.toString(36)}function R$3(vt,ht,xt,_t,$t){var wt=typeof vt;(wt==="undefined"||wt==="boolean")&&(vt=null);var Ct=!1;if(vt===null)Ct=!0;else switch(wt){case"string":case"number":Ct=!0;break;case"object":switch(vt.$$typeof){case l$2:case n$5:Ct=!0}}if(Ct)return Ct=vt,$t=$t(Ct),vt=_t===""?"."+Q$2(Ct,0):_t,I$4($t)?(xt="",vt!=null&&(xt=vt.replace(P$5,"$&/")+"/"),R$3($t,ht,xt,"",function(Rt){return Rt})):$t!=null&&(O$3($t)&&($t=N$3($t,xt+(!$t.key||Ct&&Ct.key===$t.key?"":(""+$t.key).replace(P$5,"$&/")+"/")+vt)),ht.push($t)),1;if(Ct=0,_t=_t===""?".":_t+":",I$4(vt))for(var Pt=0;Pt<vt.length;Pt++){wt=vt[Pt];var bt=_t+Q$2(wt,Pt);Ct+=R$3(wt,ht,xt,bt,$t)}else if(bt=A$3(vt),typeof bt=="function")for(vt=bt.call(vt),Pt=0;!(wt=vt.next()).done;)wt=wt.value,bt=_t+Q$2(wt,Pt++),Ct+=R$3(wt,ht,xt,bt,$t);else if(wt==="object")throw ht=String(vt),Error("Objects are not valid as a React child (found: "+(ht==="[object Object]"?"object with keys {"+Object.keys(vt).join(", ")+"}":ht)+"). If you meant to render a collection of children, use an array instead.");return Ct}function S$4(vt,ht,xt){if(vt==null)return vt;var _t=[],$t=0;return R$3(vt,_t,"","",function(wt){return ht.call(xt,wt,$t++)}),_t}function T$4(vt){if(vt._status===-1){var ht=vt._result;ht=ht(),ht.then(function(xt){(vt._status===0||vt._status===-1)&&(vt._status=1,vt._result=xt)},function(xt){(vt._status===0||vt._status===-1)&&(vt._status=2,vt._result=xt)}),vt._status===-1&&(vt._status=0,vt._result=ht)}if(vt._status===1)return vt._result.default;throw vt._result}var U$5={current:null},V$2={transition:null},W$2={ReactCurrentDispatcher:U$5,ReactCurrentBatchConfig:V$2,ReactCurrentOwner:K$3};function X$3(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$4,forEach:function(vt,ht,xt){S$4(vt,function(){ht.apply(this,arguments)},xt)},count:function(vt){var ht=0;return S$4(vt,function(){ht++}),ht},toArray:function(vt){return S$4(vt,function(ht){return ht})||[]},only:function(vt){if(!O$3(vt))throw Error("React.Children.only expected to receive a single React element child.");return vt}};react_production_min.Component=E$3;react_production_min.Fragment=p$5;react_production_min.Profiler=r$3;react_production_min.PureComponent=G$3;react_production_min.StrictMode=q$2;react_production_min.Suspense=w$5;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$2;react_production_min.act=X$3;react_production_min.cloneElement=function(vt,ht,xt){if(vt==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+vt+".");var _t=C$4({},vt.props),$t=vt.key,wt=vt.ref,Ct=vt._owner;if(ht!=null){if(ht.ref!==void 0&&(wt=ht.ref,Ct=K$3.current),ht.key!==void 0&&($t=""+ht.key),vt.type&&vt.type.defaultProps)var Pt=vt.type.defaultProps;for(bt in ht)J$2.call(ht,bt)&&!L$3.hasOwnProperty(bt)&&(_t[bt]=ht[bt]===void 0&&Pt!==void 0?Pt[bt]:ht[bt])}var bt=arguments.length-2;if(bt===1)_t.children=xt;else if(1<bt){Pt=Array(bt);for(var Rt=0;Rt<bt;Rt++)Pt[Rt]=arguments[Rt+2];_t.children=Pt}return{$$typeof:l$2,type:vt.type,key:$t,ref:wt,props:_t,_owner:Ct}};react_production_min.createContext=function(vt){return vt={$$typeof:u$8,_currentValue:vt,_currentValue2:vt,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},vt.Provider={$$typeof:t$5,_context:vt},vt.Consumer=vt};react_production_min.createElement=M$4;react_production_min.createFactory=function(vt){var ht=M$4.bind(null,vt);return ht.type=vt,ht};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(vt){return{$$typeof:v$2,render:vt}};react_production_min.isValidElement=O$3;react_production_min.lazy=function(vt){return{$$typeof:y$5,_payload:{_status:-1,_result:vt},_init:T$4}};react_production_min.memo=function(vt,ht){return{$$typeof:x$2,type:vt,compare:ht===void 0?null:ht}};react_production_min.startTransition=function(vt){var ht=V$2.transition;V$2.transition={};try{vt()}finally{V$2.transition=ht}};react_production_min.unstable_act=X$3;react_production_min.useCallback=function(vt,ht){return U$5.current.useCallback(vt,ht)};react_production_min.useContext=function(vt){return U$5.current.useContext(vt)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(vt){return U$5.current.useDeferredValue(vt)};react_production_min.useEffect=function(vt,ht){return U$5.current.useEffect(vt,ht)};react_production_min.useId=function(){return U$5.current.useId()};react_production_min.useImperativeHandle=function(vt,ht,xt){return U$5.current.useImperativeHandle(vt,ht,xt)};react_production_min.useInsertionEffect=function(vt,ht){return U$5.current.useInsertionEffect(vt,ht)};react_production_min.useLayoutEffect=function(vt,ht){return U$5.current.useLayoutEffect(vt,ht)};react_production_min.useMemo=function(vt,ht){return U$5.current.useMemo(vt,ht)};react_production_min.useReducer=function(vt,ht,xt){return U$5.current.useReducer(vt,ht,xt)};react_production_min.useRef=function(vt){return U$5.current.useRef(vt)};react_production_min.useState=function(vt){return U$5.current.useState(vt)};react_production_min.useSyncExternalStore=function(vt,ht,xt){return U$5.current.useSyncExternalStore(vt,ht,xt)};react_production_min.useTransition=function(){return U$5.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const U$4=getDefaultExportFromCjs(reactExports),t$4=_mergeNamespaces({__proto__:null,default:U$4},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$7=reactExports,k=Symbol.for("react.element"),l$1=Symbol.for("react.fragment"),m$5=Object.prototype.hasOwnProperty,n$4=f$7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$4={key:!0,ref:!0,__self:!0,__source:!0};function q$1(vt,ht,xt){var _t,$t={},wt=null,Ct=null;xt!==void 0&&(wt=""+xt),ht.key!==void 0&&(wt=""+ht.key),ht.ref!==void 0&&(Ct=ht.ref);for(_t in ht)m$5.call(ht,_t)&&!p$4.hasOwnProperty(_t)&&($t[_t]=ht[_t]);if(vt&&vt.defaultProps)for(_t in ht=vt.defaultProps,ht)$t[_t]===void 0&&($t[_t]=ht[_t]);return{$$typeof:k,type:vt,key:wt,ref:Ct,props:$t,_owner:n$4.current}}reactJsxRuntime_production_min.Fragment=l$1;reactJsxRuntime_production_min.jsx=q$1;reactJsxRuntime_production_min.jsxs=q$1;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(vt){function ht(Kt,Jt){var Gt=Kt.length;Kt.push(Jt);e:for(;0<Gt;){var Ht=Gt-1>>>1,Zt=Kt[Ht];if(0<$t(Zt,Jt))Kt[Ht]=Jt,Kt[Gt]=Zt,Gt=Ht;else break e}}function xt(Kt){return Kt.length===0?null:Kt[0]}function _t(Kt){if(Kt.length===0)return null;var Jt=Kt[0],Gt=Kt.pop();if(Gt!==Jt){Kt[0]=Gt;e:for(var Ht=0,Zt=Kt.length,sn=Zt>>>1;Ht<sn;){var cn=2*(Ht+1)-1,un=Kt[cn],hn=cn+1,tn=Kt[hn];if(0>$t(un,Gt))hn<Zt&&0>$t(tn,un)?(Kt[Ht]=tn,Kt[hn]=Gt,Ht=hn):(Kt[Ht]=un,Kt[cn]=Gt,Ht=cn);else if(hn<Zt&&0>$t(tn,Gt))Kt[Ht]=tn,Kt[hn]=Gt,Ht=hn;else break e}}return Jt}function $t(Kt,Jt){var Gt=Kt.sortIndex-Jt.sortIndex;return Gt!==0?Gt:Kt.id-Jt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var wt=performance;vt.unstable_now=function(){return wt.now()}}else{var Ct=Date,Pt=Ct.now();vt.unstable_now=function(){return Ct.now()-Pt}}var bt=[],Rt=[],Nt=1,kt=null,Dt=3,Ot=!1,Lt=!1,Ft=!1,Ut=typeof setTimeout=="function"?setTimeout:null,jt=typeof clearTimeout=="function"?clearTimeout:null,Vt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Bt(Kt){for(var Jt=xt(Rt);Jt!==null;){if(Jt.callback===null)_t(Rt);else if(Jt.startTime<=Kt)_t(Rt),Jt.sortIndex=Jt.expirationTime,ht(bt,Jt);else break;Jt=xt(Rt)}}function Wt(Kt){if(Ft=!1,Bt(Kt),!Lt)if(xt(bt)!==null)Lt=!0,pn(zt);else{var Jt=xt(Rt);Jt!==null&&an(Wt,Jt.startTime-Kt)}}function zt(Kt,Jt){Lt=!1,Ft&&(Ft=!1,jt(Yt),Yt=-1),Ot=!0;var Gt=Dt;try{for(Bt(Jt),kt=xt(bt);kt!==null&&(!(kt.expirationTime>Jt)||Kt&&!nn());){var Ht=kt.callback;if(typeof Ht=="function"){kt.callback=null,Dt=kt.priorityLevel;var Zt=Ht(kt.expirationTime<=Jt);Jt=vt.unstable_now(),typeof Zt=="function"?kt.callback=Zt:kt===xt(bt)&&_t(bt),Bt(Jt)}else _t(bt);kt=xt(bt)}if(kt!==null)var sn=!0;else{var cn=xt(Rt);cn!==null&&an(Wt,cn.startTime-Jt),sn=!1}return sn}finally{kt=null,Dt=Gt,Ot=!1}}var qt=!1,Xt=null,Yt=-1,en=5,Qt=-1;function nn(){return!(vt.unstable_now()-Qt<en)}function ln(){if(Xt!==null){var Kt=vt.unstable_now();Qt=Kt;var Jt=!0;try{Jt=Xt(!0,Kt)}finally{Jt?dn():(qt=!1,Xt=null)}}else qt=!1}var dn;if(typeof Vt=="function")dn=function(){Vt(ln)};else if(typeof MessageChannel<"u"){var fn=new MessageChannel,mn=fn.port2;fn.port1.onmessage=ln,dn=function(){mn.postMessage(null)}}else dn=function(){Ut(ln,0)};function pn(Kt){Xt=Kt,qt||(qt=!0,dn())}function an(Kt,Jt){Yt=Ut(function(){Kt(vt.unstable_now())},Jt)}vt.unstable_IdlePriority=5,vt.unstable_ImmediatePriority=1,vt.unstable_LowPriority=4,vt.unstable_NormalPriority=3,vt.unstable_Profiling=null,vt.unstable_UserBlockingPriority=2,vt.unstable_cancelCallback=function(Kt){Kt.callback=null},vt.unstable_continueExecution=function(){Lt||Ot||(Lt=!0,pn(zt))},vt.unstable_forceFrameRate=function(Kt){0>Kt||125<Kt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):en=0<Kt?Math.floor(1e3/Kt):5},vt.unstable_getCurrentPriorityLevel=function(){return Dt},vt.unstable_getFirstCallbackNode=function(){return xt(bt)},vt.unstable_next=function(Kt){switch(Dt){case 1:case 2:case 3:var Jt=3;break;default:Jt=Dt}var Gt=Dt;Dt=Jt;try{return Kt()}finally{Dt=Gt}},vt.unstable_pauseExecution=function(){},vt.unstable_requestPaint=function(){},vt.unstable_runWithPriority=function(Kt,Jt){switch(Kt){case 1:case 2:case 3:case 4:case 5:break;default:Kt=3}var Gt=Dt;Dt=Kt;try{return Jt()}finally{Dt=Gt}},vt.unstable_scheduleCallback=function(Kt,Jt,Gt){var Ht=vt.unstable_now();switch(typeof Gt=="object"&&Gt!==null?(Gt=Gt.delay,Gt=typeof Gt=="number"&&0<Gt?Ht+Gt:Ht):Gt=Ht,Kt){case 1:var Zt=-1;break;case 2:Zt=250;break;case 5:Zt=1073741823;break;case 4:Zt=1e4;break;default:Zt=5e3}return Zt=Gt+Zt,Kt={id:Nt++,callback:Jt,priorityLevel:Kt,startTime:Gt,expirationTime:Zt,sortIndex:-1},Gt>Ht?(Kt.sortIndex=Gt,ht(Rt,Kt),xt(bt)===null&&Kt===xt(Rt)&&(Ft?(jt(Yt),Yt=-1):Ft=!0,an(Wt,Gt-Ht))):(Kt.sortIndex=Zt,ht(bt,Kt),Lt||Ot||(Lt=!0,pn(zt))),Kt},vt.unstable_shouldYield=nn,vt.unstable_wrapCallback=function(Kt){var Jt=Dt;return function(){var Gt=Dt;Dt=Jt;try{return Kt.apply(this,arguments)}finally{Dt=Gt}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p$3(vt){for(var ht="https://reactjs.org/docs/error-decoder.html?invariant="+vt,xt=1;xt<arguments.length;xt++)ht+="&args[]="+encodeURIComponent(arguments[xt]);return"Minified React error #"+vt+"; visit "+ht+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(vt,ht){ha(vt,ht),ha(vt+"Capture",ht)}function ha(vt,ht){for(ea[vt]=ht,vt=0;vt<ht.length;vt++)da.add(ht[vt])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(vt){return ja.call(ma,vt)?!0:ja.call(la,vt)?!1:ka.test(vt)?ma[vt]=!0:(la[vt]=!0,!1)}function pa(vt,ht,xt,_t){if(xt!==null&&xt.type===0)return!1;switch(typeof ht){case"function":case"symbol":return!0;case"boolean":return _t?!1:xt!==null?!xt.acceptsBooleans:(vt=vt.toLowerCase().slice(0,5),vt!=="data-"&&vt!=="aria-");default:return!1}}function qa(vt,ht,xt,_t){if(ht===null||typeof ht>"u"||pa(vt,ht,xt,_t))return!0;if(_t)return!1;if(xt!==null)switch(xt.type){case 3:return!ht;case 4:return ht===!1;case 5:return isNaN(ht);case 6:return isNaN(ht)||1>ht}return!1}function v$1(vt,ht,xt,_t,$t,wt,Ct){this.acceptsBooleans=ht===2||ht===3||ht===4,this.attributeName=_t,this.attributeNamespace=$t,this.mustUseProperty=xt,this.propertyName=vt,this.type=ht,this.sanitizeURL=wt,this.removeEmptyString=Ct}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(vt){z[vt]=new v$1(vt,0,!1,vt,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(vt){var ht=vt[0];z[ht]=new v$1(ht,1,!1,vt[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(vt){z[vt]=new v$1(vt,2,!1,vt.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(vt){z[vt]=new v$1(vt,2,!1,vt,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(vt){z[vt]=new v$1(vt,3,!1,vt.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(vt){z[vt]=new v$1(vt,3,!0,vt,null,!1,!1)});["capture","download"].forEach(function(vt){z[vt]=new v$1(vt,4,!1,vt,null,!1,!1)});["cols","rows","size","span"].forEach(function(vt){z[vt]=new v$1(vt,6,!1,vt,null,!1,!1)});["rowSpan","start"].forEach(function(vt){z[vt]=new v$1(vt,5,!1,vt.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(vt){return vt[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(vt){var ht=vt.replace(ra,sa);z[ht]=new v$1(ht,1,!1,vt,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(vt){var ht=vt.replace(ra,sa);z[ht]=new v$1(ht,1,!1,vt,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(vt){var ht=vt.replace(ra,sa);z[ht]=new v$1(ht,1,!1,vt,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(vt){z[vt]=new v$1(vt,1,!1,vt.toLowerCase(),null,!1,!1)});z.xlinkHref=new v$1("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(vt){z[vt]=new v$1(vt,1,!1,vt.toLowerCase(),null,!0,!0)});function ta(vt,ht,xt,_t){var $t=z.hasOwnProperty(ht)?z[ht]:null;($t!==null?$t.type!==0:_t||!(2<ht.length)||ht[0]!=="o"&&ht[0]!=="O"||ht[1]!=="n"&&ht[1]!=="N")&&(qa(ht,xt,$t,_t)&&(xt=null),_t||$t===null?oa(ht)&&(xt===null?vt.removeAttribute(ht):vt.setAttribute(ht,""+xt)):$t.mustUseProperty?vt[$t.propertyName]=xt===null?$t.type===3?!1:"":xt:(ht=$t.attributeName,_t=$t.attributeNamespace,xt===null?vt.removeAttribute(ht):($t=$t.type,xt=$t===3||$t===4&&xt===!0?"":""+xt,_t?vt.setAttributeNS(_t,ht,xt):vt.setAttribute(ht,xt))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(vt){return vt===null||typeof vt!="object"?null:(vt=Ja&&vt[Ja]||vt["@@iterator"],typeof vt=="function"?vt:null)}var A$2=Object.assign,La;function Ma(vt){if(La===void 0)try{throw Error()}catch(xt){var ht=xt.stack.trim().match(/\n( *(at )?)/);La=ht&&ht[1]||""}return`
`+La+vt}var Na=!1;function Oa(vt,ht){if(!vt||Na)return"";Na=!0;var xt=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(ht)if(ht=function(){throw Error()},Object.defineProperty(ht.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ht,[])}catch(Rt){var _t=Rt}Reflect.construct(vt,[],ht)}else{try{ht.call()}catch(Rt){_t=Rt}vt.call(ht.prototype)}else{try{throw Error()}catch(Rt){_t=Rt}vt()}}catch(Rt){if(Rt&&_t&&typeof Rt.stack=="string"){for(var $t=Rt.stack.split(`
`),wt=_t.stack.split(`
`),Ct=$t.length-1,Pt=wt.length-1;1<=Ct&&0<=Pt&&$t[Ct]!==wt[Pt];)Pt--;for(;1<=Ct&&0<=Pt;Ct--,Pt--)if($t[Ct]!==wt[Pt]){if(Ct!==1||Pt!==1)do if(Ct--,Pt--,0>Pt||$t[Ct]!==wt[Pt]){var bt=`
`+$t[Ct].replace(" at new "," at ");return vt.displayName&&bt.includes("<anonymous>")&&(bt=bt.replace("<anonymous>",vt.displayName)),bt}while(1<=Ct&&0<=Pt);break}}}finally{Na=!1,Error.prepareStackTrace=xt}return(vt=vt?vt.displayName||vt.name:"")?Ma(vt):""}function Pa(vt){switch(vt.tag){case 5:return Ma(vt.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return vt=Oa(vt.type,!1),vt;case 11:return vt=Oa(vt.type.render,!1),vt;case 1:return vt=Oa(vt.type,!0),vt;default:return""}}function Qa(vt){if(vt==null)return null;if(typeof vt=="function")return vt.displayName||vt.name||null;if(typeof vt=="string")return vt;switch(vt){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof vt=="object")switch(vt.$$typeof){case Ca:return(vt.displayName||"Context")+".Consumer";case Ba:return(vt._context.displayName||"Context")+".Provider";case Da:var ht=vt.render;return vt=vt.displayName,vt||(vt=ht.displayName||ht.name||"",vt=vt!==""?"ForwardRef("+vt+")":"ForwardRef"),vt;case Ga:return ht=vt.displayName||null,ht!==null?ht:Qa(vt.type)||"Memo";case Ha:ht=vt._payload,vt=vt._init;try{return Qa(vt(ht))}catch{}}return null}function Ra(vt){var ht=vt.type;switch(vt.tag){case 24:return"Cache";case 9:return(ht.displayName||"Context")+".Consumer";case 10:return(ht._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return vt=ht.render,vt=vt.displayName||vt.name||"",ht.displayName||(vt!==""?"ForwardRef("+vt+")":"ForwardRef");case 7:return"Fragment";case 5:return ht;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(ht);case 8:return ht===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof ht=="function")return ht.displayName||ht.name||null;if(typeof ht=="string")return ht}return null}function Sa(vt){switch(typeof vt){case"boolean":case"number":case"string":case"undefined":return vt;case"object":return vt;default:return""}}function Ta(vt){var ht=vt.type;return(vt=vt.nodeName)&&vt.toLowerCase()==="input"&&(ht==="checkbox"||ht==="radio")}function Ua(vt){var ht=Ta(vt)?"checked":"value",xt=Object.getOwnPropertyDescriptor(vt.constructor.prototype,ht),_t=""+vt[ht];if(!vt.hasOwnProperty(ht)&&typeof xt<"u"&&typeof xt.get=="function"&&typeof xt.set=="function"){var $t=xt.get,wt=xt.set;return Object.defineProperty(vt,ht,{configurable:!0,get:function(){return $t.call(this)},set:function(Ct){_t=""+Ct,wt.call(this,Ct)}}),Object.defineProperty(vt,ht,{enumerable:xt.enumerable}),{getValue:function(){return _t},setValue:function(Ct){_t=""+Ct},stopTracking:function(){vt._valueTracker=null,delete vt[ht]}}}}function Va(vt){vt._valueTracker||(vt._valueTracker=Ua(vt))}function Wa(vt){if(!vt)return!1;var ht=vt._valueTracker;if(!ht)return!0;var xt=ht.getValue(),_t="";return vt&&(_t=Ta(vt)?vt.checked?"true":"false":vt.value),vt=_t,vt!==xt?(ht.setValue(vt),!0):!1}function Xa(vt){if(vt=vt||(typeof document<"u"?document:void 0),typeof vt>"u")return null;try{return vt.activeElement||vt.body}catch{return vt.body}}function Ya(vt,ht){var xt=ht.checked;return A$2({},ht,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:xt??vt._wrapperState.initialChecked})}function Za(vt,ht){var xt=ht.defaultValue==null?"":ht.defaultValue,_t=ht.checked!=null?ht.checked:ht.defaultChecked;xt=Sa(ht.value!=null?ht.value:xt),vt._wrapperState={initialChecked:_t,initialValue:xt,controlled:ht.type==="checkbox"||ht.type==="radio"?ht.checked!=null:ht.value!=null}}function ab(vt,ht){ht=ht.checked,ht!=null&&ta(vt,"checked",ht,!1)}function bb(vt,ht){ab(vt,ht);var xt=Sa(ht.value),_t=ht.type;if(xt!=null)_t==="number"?(xt===0&&vt.value===""||vt.value!=xt)&&(vt.value=""+xt):vt.value!==""+xt&&(vt.value=""+xt);else if(_t==="submit"||_t==="reset"){vt.removeAttribute("value");return}ht.hasOwnProperty("value")?cb(vt,ht.type,xt):ht.hasOwnProperty("defaultValue")&&cb(vt,ht.type,Sa(ht.defaultValue)),ht.checked==null&&ht.defaultChecked!=null&&(vt.defaultChecked=!!ht.defaultChecked)}function db(vt,ht,xt){if(ht.hasOwnProperty("value")||ht.hasOwnProperty("defaultValue")){var _t=ht.type;if(!(_t!=="submit"&&_t!=="reset"||ht.value!==void 0&&ht.value!==null))return;ht=""+vt._wrapperState.initialValue,xt||ht===vt.value||(vt.value=ht),vt.defaultValue=ht}xt=vt.name,xt!==""&&(vt.name=""),vt.defaultChecked=!!vt._wrapperState.initialChecked,xt!==""&&(vt.name=xt)}function cb(vt,ht,xt){(ht!=="number"||Xa(vt.ownerDocument)!==vt)&&(xt==null?vt.defaultValue=""+vt._wrapperState.initialValue:vt.defaultValue!==""+xt&&(vt.defaultValue=""+xt))}var eb=Array.isArray;function fb(vt,ht,xt,_t){if(vt=vt.options,ht){ht={};for(var $t=0;$t<xt.length;$t++)ht["$"+xt[$t]]=!0;for(xt=0;xt<vt.length;xt++)$t=ht.hasOwnProperty("$"+vt[xt].value),vt[xt].selected!==$t&&(vt[xt].selected=$t),$t&&_t&&(vt[xt].defaultSelected=!0)}else{for(xt=""+Sa(xt),ht=null,$t=0;$t<vt.length;$t++){if(vt[$t].value===xt){vt[$t].selected=!0,_t&&(vt[$t].defaultSelected=!0);return}ht!==null||vt[$t].disabled||(ht=vt[$t])}ht!==null&&(ht.selected=!0)}}function gb(vt,ht){if(ht.dangerouslySetInnerHTML!=null)throw Error(p$3(91));return A$2({},ht,{value:void 0,defaultValue:void 0,children:""+vt._wrapperState.initialValue})}function hb(vt,ht){var xt=ht.value;if(xt==null){if(xt=ht.children,ht=ht.defaultValue,xt!=null){if(ht!=null)throw Error(p$3(92));if(eb(xt)){if(1<xt.length)throw Error(p$3(93));xt=xt[0]}ht=xt}ht==null&&(ht=""),xt=ht}vt._wrapperState={initialValue:Sa(xt)}}function ib(vt,ht){var xt=Sa(ht.value),_t=Sa(ht.defaultValue);xt!=null&&(xt=""+xt,xt!==vt.value&&(vt.value=xt),ht.defaultValue==null&&vt.defaultValue!==xt&&(vt.defaultValue=xt)),_t!=null&&(vt.defaultValue=""+_t)}function jb(vt){var ht=vt.textContent;ht===vt._wrapperState.initialValue&&ht!==""&&ht!==null&&(vt.value=ht)}function kb(vt){switch(vt){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(vt,ht){return vt==null||vt==="http://www.w3.org/1999/xhtml"?kb(ht):vt==="http://www.w3.org/2000/svg"&&ht==="foreignObject"?"http://www.w3.org/1999/xhtml":vt}var mb,nb=function(vt){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(ht,xt,_t,$t){MSApp.execUnsafeLocalFunction(function(){return vt(ht,xt,_t,$t)})}:vt}(function(vt,ht){if(vt.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in vt)vt.innerHTML=ht;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+ht.valueOf().toString()+"</svg>",ht=mb.firstChild;vt.firstChild;)vt.removeChild(vt.firstChild);for(;ht.firstChild;)vt.appendChild(ht.firstChild)}});function ob(vt,ht){if(ht){var xt=vt.firstChild;if(xt&&xt===vt.lastChild&&xt.nodeType===3){xt.nodeValue=ht;return}}vt.textContent=ht}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(vt){qb.forEach(function(ht){ht=ht+vt.charAt(0).toUpperCase()+vt.substring(1),pb[ht]=pb[vt]})});function rb(vt,ht,xt){return ht==null||typeof ht=="boolean"||ht===""?"":xt||typeof ht!="number"||ht===0||pb.hasOwnProperty(vt)&&pb[vt]?(""+ht).trim():ht+"px"}function sb(vt,ht){vt=vt.style;for(var xt in ht)if(ht.hasOwnProperty(xt)){var _t=xt.indexOf("--")===0,$t=rb(xt,ht[xt],_t);xt==="float"&&(xt="cssFloat"),_t?vt.setProperty(xt,$t):vt[xt]=$t}}var tb=A$2({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(vt,ht){if(ht){if(tb[vt]&&(ht.children!=null||ht.dangerouslySetInnerHTML!=null))throw Error(p$3(137,vt));if(ht.dangerouslySetInnerHTML!=null){if(ht.children!=null)throw Error(p$3(60));if(typeof ht.dangerouslySetInnerHTML!="object"||!("__html"in ht.dangerouslySetInnerHTML))throw Error(p$3(61))}if(ht.style!=null&&typeof ht.style!="object")throw Error(p$3(62))}}function vb(vt,ht){if(vt.indexOf("-")===-1)return typeof ht.is=="string";switch(vt){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(vt){return vt=vt.target||vt.srcElement||window,vt.correspondingUseElement&&(vt=vt.correspondingUseElement),vt.nodeType===3?vt.parentNode:vt}var yb=null,zb=null,Ab=null;function Bb(vt){if(vt=Cb(vt)){if(typeof yb!="function")throw Error(p$3(280));var ht=vt.stateNode;ht&&(ht=Db(ht),yb(vt.stateNode,vt.type,ht))}}function Eb(vt){zb?Ab?Ab.push(vt):Ab=[vt]:zb=vt}function Fb(){if(zb){var vt=zb,ht=Ab;if(Ab=zb=null,Bb(vt),ht)for(vt=0;vt<ht.length;vt++)Bb(ht[vt])}}function Gb(vt,ht){return vt(ht)}function Hb(){}var Ib=!1;function Jb(vt,ht,xt){if(Ib)return vt(ht,xt);Ib=!0;try{return Gb(vt,ht,xt)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(vt,ht){var xt=vt.stateNode;if(xt===null)return null;var _t=Db(xt);if(_t===null)return null;xt=_t[ht];e:switch(ht){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(_t=!_t.disabled)||(vt=vt.type,_t=!(vt==="button"||vt==="input"||vt==="select"||vt==="textarea")),vt=!_t;break e;default:vt=!1}if(vt)return null;if(xt&&typeof xt!="function")throw Error(p$3(231,ht,typeof xt));return xt}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(vt,ht,xt,_t,$t,wt,Ct,Pt,bt){var Rt=Array.prototype.slice.call(arguments,3);try{ht.apply(xt,Rt)}catch(Nt){this.onError(Nt)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(vt){Ob=!0,Pb=vt}};function Tb(vt,ht,xt,_t,$t,wt,Ct,Pt,bt){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(vt,ht,xt,_t,$t,wt,Ct,Pt,bt){if(Tb.apply(this,arguments),Ob){if(Ob){var Rt=Pb;Ob=!1,Pb=null}else throw Error(p$3(198));Qb||(Qb=!0,Rb=Rt)}}function Vb(vt){var ht=vt,xt=vt;if(vt.alternate)for(;ht.return;)ht=ht.return;else{vt=ht;do ht=vt,ht.flags&4098&&(xt=ht.return),vt=ht.return;while(vt)}return ht.tag===3?xt:null}function Wb(vt){if(vt.tag===13){var ht=vt.memoizedState;if(ht===null&&(vt=vt.alternate,vt!==null&&(ht=vt.memoizedState)),ht!==null)return ht.dehydrated}return null}function Xb(vt){if(Vb(vt)!==vt)throw Error(p$3(188))}function Yb(vt){var ht=vt.alternate;if(!ht){if(ht=Vb(vt),ht===null)throw Error(p$3(188));return ht!==vt?null:vt}for(var xt=vt,_t=ht;;){var $t=xt.return;if($t===null)break;var wt=$t.alternate;if(wt===null){if(_t=$t.return,_t!==null){xt=_t;continue}break}if($t.child===wt.child){for(wt=$t.child;wt;){if(wt===xt)return Xb($t),vt;if(wt===_t)return Xb($t),ht;wt=wt.sibling}throw Error(p$3(188))}if(xt.return!==_t.return)xt=$t,_t=wt;else{for(var Ct=!1,Pt=$t.child;Pt;){if(Pt===xt){Ct=!0,xt=$t,_t=wt;break}if(Pt===_t){Ct=!0,_t=$t,xt=wt;break}Pt=Pt.sibling}if(!Ct){for(Pt=wt.child;Pt;){if(Pt===xt){Ct=!0,xt=wt,_t=$t;break}if(Pt===_t){Ct=!0,_t=wt,xt=$t;break}Pt=Pt.sibling}if(!Ct)throw Error(p$3(189))}}if(xt.alternate!==_t)throw Error(p$3(190))}if(xt.tag!==3)throw Error(p$3(188));return xt.stateNode.current===xt?vt:ht}function Zb(vt){return vt=Yb(vt),vt!==null?$b(vt):null}function $b(vt){if(vt.tag===5||vt.tag===6)return vt;for(vt=vt.child;vt!==null;){var ht=$b(vt);if(ht!==null)return ht;vt=vt.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(vt){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,vt,void 0,(vt.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(vt){return vt>>>=0,vt===0?32:31-(pc(vt)/qc|0)|0}var rc=64,sc=4194304;function tc(vt){switch(vt&-vt){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return vt&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return vt&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return vt}}function uc(vt,ht){var xt=vt.pendingLanes;if(xt===0)return 0;var _t=0,$t=vt.suspendedLanes,wt=vt.pingedLanes,Ct=xt&268435455;if(Ct!==0){var Pt=Ct&~$t;Pt!==0?_t=tc(Pt):(wt&=Ct,wt!==0&&(_t=tc(wt)))}else Ct=xt&~$t,Ct!==0?_t=tc(Ct):wt!==0&&(_t=tc(wt));if(_t===0)return 0;if(ht!==0&&ht!==_t&&!(ht&$t)&&($t=_t&-_t,wt=ht&-ht,$t>=wt||$t===16&&(wt&4194240)!==0))return ht;if(_t&4&&(_t|=xt&16),ht=vt.entangledLanes,ht!==0)for(vt=vt.entanglements,ht&=_t;0<ht;)xt=31-oc(ht),$t=1<<xt,_t|=vt[xt],ht&=~$t;return _t}function vc(vt,ht){switch(vt){case 1:case 2:case 4:return ht+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return ht+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(vt,ht){for(var xt=vt.suspendedLanes,_t=vt.pingedLanes,$t=vt.expirationTimes,wt=vt.pendingLanes;0<wt;){var Ct=31-oc(wt),Pt=1<<Ct,bt=$t[Ct];bt===-1?(!(Pt&xt)||Pt&_t)&&($t[Ct]=vc(Pt,ht)):bt<=ht&&(vt.expiredLanes|=Pt),wt&=~Pt}}function xc(vt){return vt=vt.pendingLanes&-1073741825,vt!==0?vt:vt&1073741824?1073741824:0}function yc(){var vt=rc;return rc<<=1,!(rc&4194240)&&(rc=64),vt}function zc(vt){for(var ht=[],xt=0;31>xt;xt++)ht.push(vt);return ht}function Ac(vt,ht,xt){vt.pendingLanes|=ht,ht!==536870912&&(vt.suspendedLanes=0,vt.pingedLanes=0),vt=vt.eventTimes,ht=31-oc(ht),vt[ht]=xt}function Bc(vt,ht){var xt=vt.pendingLanes&~ht;vt.pendingLanes=ht,vt.suspendedLanes=0,vt.pingedLanes=0,vt.expiredLanes&=ht,vt.mutableReadLanes&=ht,vt.entangledLanes&=ht,ht=vt.entanglements;var _t=vt.eventTimes;for(vt=vt.expirationTimes;0<xt;){var $t=31-oc(xt),wt=1<<$t;ht[$t]=0,_t[$t]=-1,vt[$t]=-1,xt&=~wt}}function Cc(vt,ht){var xt=vt.entangledLanes|=ht;for(vt=vt.entanglements;xt;){var _t=31-oc(xt),$t=1<<_t;$t&ht|vt[_t]&ht&&(vt[_t]|=ht),xt&=~$t}}var C$3=0;function Dc(vt){return vt&=-vt,1<vt?4<vt?vt&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(vt,ht){switch(vt){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(ht.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(ht.pointerId)}}function Tc(vt,ht,xt,_t,$t,wt){return vt===null||vt.nativeEvent!==wt?(vt={blockedOn:ht,domEventName:xt,eventSystemFlags:_t,nativeEvent:wt,targetContainers:[$t]},ht!==null&&(ht=Cb(ht),ht!==null&&Fc(ht)),vt):(vt.eventSystemFlags|=_t,ht=vt.targetContainers,$t!==null&&ht.indexOf($t)===-1&&ht.push($t),vt)}function Uc(vt,ht,xt,_t,$t){switch(ht){case"focusin":return Lc=Tc(Lc,vt,ht,xt,_t,$t),!0;case"dragenter":return Mc=Tc(Mc,vt,ht,xt,_t,$t),!0;case"mouseover":return Nc=Tc(Nc,vt,ht,xt,_t,$t),!0;case"pointerover":var wt=$t.pointerId;return Oc.set(wt,Tc(Oc.get(wt)||null,vt,ht,xt,_t,$t)),!0;case"gotpointercapture":return wt=$t.pointerId,Pc.set(wt,Tc(Pc.get(wt)||null,vt,ht,xt,_t,$t)),!0}return!1}function Vc(vt){var ht=Wc(vt.target);if(ht!==null){var xt=Vb(ht);if(xt!==null){if(ht=xt.tag,ht===13){if(ht=Wb(xt),ht!==null){vt.blockedOn=ht,Ic(vt.priority,function(){Gc(xt)});return}}else if(ht===3&&xt.stateNode.current.memoizedState.isDehydrated){vt.blockedOn=xt.tag===3?xt.stateNode.containerInfo:null;return}}}vt.blockedOn=null}function Xc(vt){if(vt.blockedOn!==null)return!1;for(var ht=vt.targetContainers;0<ht.length;){var xt=Yc(vt.domEventName,vt.eventSystemFlags,ht[0],vt.nativeEvent);if(xt===null){xt=vt.nativeEvent;var _t=new xt.constructor(xt.type,xt);wb=_t,xt.target.dispatchEvent(_t),wb=null}else return ht=Cb(xt),ht!==null&&Fc(ht),vt.blockedOn=xt,!1;ht.shift()}return!0}function Zc(vt,ht,xt){Xc(vt)&&xt.delete(ht)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(vt,ht){vt.blockedOn===ht&&(vt.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(vt){function ht($t){return ad($t,vt)}if(0<Kc.length){ad(Kc[0],vt);for(var xt=1;xt<Kc.length;xt++){var _t=Kc[xt];_t.blockedOn===vt&&(_t.blockedOn=null)}}for(Lc!==null&&ad(Lc,vt),Mc!==null&&ad(Mc,vt),Nc!==null&&ad(Nc,vt),Oc.forEach(ht),Pc.forEach(ht),xt=0;xt<Qc.length;xt++)_t=Qc[xt],_t.blockedOn===vt&&(_t.blockedOn=null);for(;0<Qc.length&&(xt=Qc[0],xt.blockedOn===null);)Vc(xt),xt.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(vt,ht,xt,_t){var $t=C$3,wt=cd.transition;cd.transition=null;try{C$3=1,fd(vt,ht,xt,_t)}finally{C$3=$t,cd.transition=wt}}function gd(vt,ht,xt,_t){var $t=C$3,wt=cd.transition;cd.transition=null;try{C$3=4,fd(vt,ht,xt,_t)}finally{C$3=$t,cd.transition=wt}}function fd(vt,ht,xt,_t){if(dd){var $t=Yc(vt,ht,xt,_t);if($t===null)hd(vt,ht,_t,id$4,xt),Sc(vt,_t);else if(Uc($t,vt,ht,xt,_t))_t.stopPropagation();else if(Sc(vt,_t),ht&4&&-1<Rc.indexOf(vt)){for(;$t!==null;){var wt=Cb($t);if(wt!==null&&Ec(wt),wt=Yc(vt,ht,xt,_t),wt===null&&hd(vt,ht,_t,id$4,xt),wt===$t)break;$t=wt}$t!==null&&_t.stopPropagation()}else hd(vt,ht,_t,null,xt)}}var id$4=null;function Yc(vt,ht,xt,_t){if(id$4=null,vt=xb(_t),vt=Wc(vt),vt!==null)if(ht=Vb(vt),ht===null)vt=null;else if(xt=ht.tag,xt===13){if(vt=Wb(ht),vt!==null)return vt;vt=null}else if(xt===3){if(ht.stateNode.current.memoizedState.isDehydrated)return ht.tag===3?ht.stateNode.containerInfo:null;vt=null}else ht!==vt&&(vt=null);return id$4=vt,null}function jd(vt){switch(vt){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var vt,ht=ld,xt=ht.length,_t,$t="value"in kd?kd.value:kd.textContent,wt=$t.length;for(vt=0;vt<xt&&ht[vt]===$t[vt];vt++);var Ct=xt-vt;for(_t=1;_t<=Ct&&ht[xt-_t]===$t[wt-_t];_t++);return md=$t.slice(vt,1<_t?1-_t:void 0)}function od(vt){var ht=vt.keyCode;return"charCode"in vt?(vt=vt.charCode,vt===0&&ht===13&&(vt=13)):vt=ht,vt===10&&(vt=13),32<=vt||vt===13?vt:0}function pd(){return!0}function qd(){return!1}function rd(vt){function ht(xt,_t,$t,wt,Ct){this._reactName=xt,this._targetInst=$t,this.type=_t,this.nativeEvent=wt,this.target=Ct,this.currentTarget=null;for(var Pt in vt)vt.hasOwnProperty(Pt)&&(xt=vt[Pt],this[Pt]=xt?xt(wt):wt[Pt]);return this.isDefaultPrevented=(wt.defaultPrevented!=null?wt.defaultPrevented:wt.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$2(ht.prototype,{preventDefault:function(){this.defaultPrevented=!0;var xt=this.nativeEvent;xt&&(xt.preventDefault?xt.preventDefault():typeof xt.returnValue!="unknown"&&(xt.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var xt=this.nativeEvent;xt&&(xt.stopPropagation?xt.stopPropagation():typeof xt.cancelBubble!="unknown"&&(xt.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),ht}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(vt){return vt.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$2({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$2({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(vt){return vt.relatedTarget===void 0?vt.fromElement===vt.srcElement?vt.toElement:vt.fromElement:vt.relatedTarget},movementX:function(vt){return"movementX"in vt?vt.movementX:(vt!==yd&&(yd&&vt.type==="mousemove"?(wd=vt.screenX-yd.screenX,xd=vt.screenY-yd.screenY):xd=wd=0,yd=vt),wd)},movementY:function(vt){return"movementY"in vt?vt.movementY:xd}}),Bd=rd(Ad),Cd=A$2({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$2({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$2({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$2({},sd,{clipboardData:function(vt){return"clipboardData"in vt?vt.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$2({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(vt){var ht=this.nativeEvent;return ht.getModifierState?ht.getModifierState(vt):(vt=Od[vt])?!!ht[vt]:!1}function zd(){return Pd}var Qd=A$2({},ud,{key:function(vt){if(vt.key){var ht=Md[vt.key]||vt.key;if(ht!=="Unidentified")return ht}return vt.type==="keypress"?(vt=od(vt),vt===13?"Enter":String.fromCharCode(vt)):vt.type==="keydown"||vt.type==="keyup"?Nd[vt.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(vt){return vt.type==="keypress"?od(vt):0},keyCode:function(vt){return vt.type==="keydown"||vt.type==="keyup"?vt.keyCode:0},which:function(vt){return vt.type==="keypress"?od(vt):vt.type==="keydown"||vt.type==="keyup"?vt.keyCode:0}}),Rd=rd(Qd),Sd=A$2({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$2({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$2({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$2({},Ad,{deltaX:function(vt){return"deltaX"in vt?vt.deltaX:"wheelDeltaX"in vt?-vt.wheelDeltaX:0},deltaY:function(vt){return"deltaY"in vt?vt.deltaY:"wheelDeltaY"in vt?-vt.wheelDeltaY:"wheelDelta"in vt?-vt.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be$1=null;ia&&"documentMode"in document&&(be$1=document.documentMode);var ce$1=ia&&"TextEvent"in window&&!be$1,de$1=ia&&(!ae||be$1&&8<be$1&&11>=be$1),ee=" ",fe$1=!1;function ge(vt,ht){switch(vt){case"keyup":return $d.indexOf(ht.keyCode)!==-1;case"keydown":return ht.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(vt){return vt=vt.detail,typeof vt=="object"&&"data"in vt?vt.data:null}var ie=!1;function je(vt,ht){switch(vt){case"compositionend":return he(ht);case"keypress":return ht.which!==32?null:(fe$1=!0,ee);case"textInput":return vt=ht.data,vt===ee&&fe$1?null:vt;default:return null}}function ke(vt,ht){if(ie)return vt==="compositionend"||!ae&&ge(vt,ht)?(vt=nd(),md=ld=kd=null,ie=!1,vt):null;switch(vt){case"paste":return null;case"keypress":if(!(ht.ctrlKey||ht.altKey||ht.metaKey)||ht.ctrlKey&&ht.altKey){if(ht.char&&1<ht.char.length)return ht.char;if(ht.which)return String.fromCharCode(ht.which)}return null;case"compositionend":return de$1&&ht.locale!=="ko"?null:ht.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me$1(vt){var ht=vt&&vt.nodeName&&vt.nodeName.toLowerCase();return ht==="input"?!!le[vt.type]:ht==="textarea"}function ne(vt,ht,xt,_t){Eb(_t),ht=oe(ht,"onChange"),0<ht.length&&(xt=new td("onChange","change",null,xt,_t),vt.push({event:xt,listeners:ht}))}var pe$1=null,qe$1=null;function re$1(vt){se(vt,0)}function te(vt){var ht=ue$1(vt);if(Wa(ht))return vt}function ve(vt,ht){if(vt==="change")return ht}var we=!1;if(ia){var xe$1;if(ia){var ye$1="oninput"in document;if(!ye$1){var ze$2=document.createElement("div");ze$2.setAttribute("oninput","return;"),ye$1=typeof ze$2.oninput=="function"}xe$1=ye$1}else xe$1=!1;we=xe$1&&(!document.documentMode||9<document.documentMode)}function Ae$1(){pe$1&&(pe$1.detachEvent("onpropertychange",Be),qe$1=pe$1=null)}function Be(vt){if(vt.propertyName==="value"&&te(qe$1)){var ht=[];ne(ht,qe$1,vt,xb(vt)),Jb(re$1,ht)}}function Ce(vt,ht,xt){vt==="focusin"?(Ae$1(),pe$1=ht,qe$1=xt,pe$1.attachEvent("onpropertychange",Be)):vt==="focusout"&&Ae$1()}function De$1(vt){if(vt==="selectionchange"||vt==="keyup"||vt==="keydown")return te(qe$1)}function Ee(vt,ht){if(vt==="click")return te(ht)}function Fe$2(vt,ht){if(vt==="input"||vt==="change")return te(ht)}function Ge(vt,ht){return vt===ht&&(vt!==0||1/vt===1/ht)||vt!==vt&&ht!==ht}var He$1=typeof Object.is=="function"?Object.is:Ge;function Ie$1(vt,ht){if(He$1(vt,ht))return!0;if(typeof vt!="object"||vt===null||typeof ht!="object"||ht===null)return!1;var xt=Object.keys(vt),_t=Object.keys(ht);if(xt.length!==_t.length)return!1;for(_t=0;_t<xt.length;_t++){var $t=xt[_t];if(!ja.call(ht,$t)||!He$1(vt[$t],ht[$t]))return!1}return!0}function Je(vt){for(;vt&&vt.firstChild;)vt=vt.firstChild;return vt}function Ke(vt,ht){var xt=Je(vt);vt=0;for(var _t;xt;){if(xt.nodeType===3){if(_t=vt+xt.textContent.length,vt<=ht&&_t>=ht)return{node:xt,offset:ht-vt};vt=_t}e:{for(;xt;){if(xt.nextSibling){xt=xt.nextSibling;break e}xt=xt.parentNode}xt=void 0}xt=Je(xt)}}function Le$1(vt,ht){return vt&&ht?vt===ht?!0:vt&&vt.nodeType===3?!1:ht&&ht.nodeType===3?Le$1(vt,ht.parentNode):"contains"in vt?vt.contains(ht):vt.compareDocumentPosition?!!(vt.compareDocumentPosition(ht)&16):!1:!1}function Me$1(){for(var vt=window,ht=Xa();ht instanceof vt.HTMLIFrameElement;){try{var xt=typeof ht.contentWindow.location.href=="string"}catch{xt=!1}if(xt)vt=ht.contentWindow;else break;ht=Xa(vt.document)}return ht}function Ne(vt){var ht=vt&&vt.nodeName&&vt.nodeName.toLowerCase();return ht&&(ht==="input"&&(vt.type==="text"||vt.type==="search"||vt.type==="tel"||vt.type==="url"||vt.type==="password")||ht==="textarea"||vt.contentEditable==="true")}function Oe(vt){var ht=Me$1(),xt=vt.focusedElem,_t=vt.selectionRange;if(ht!==xt&&xt&&xt.ownerDocument&&Le$1(xt.ownerDocument.documentElement,xt)){if(_t!==null&&Ne(xt)){if(ht=_t.start,vt=_t.end,vt===void 0&&(vt=ht),"selectionStart"in xt)xt.selectionStart=ht,xt.selectionEnd=Math.min(vt,xt.value.length);else if(vt=(ht=xt.ownerDocument||document)&&ht.defaultView||window,vt.getSelection){vt=vt.getSelection();var $t=xt.textContent.length,wt=Math.min(_t.start,$t);_t=_t.end===void 0?wt:Math.min(_t.end,$t),!vt.extend&&wt>_t&&($t=_t,_t=wt,wt=$t),$t=Ke(xt,wt);var Ct=Ke(xt,_t);$t&&Ct&&(vt.rangeCount!==1||vt.anchorNode!==$t.node||vt.anchorOffset!==$t.offset||vt.focusNode!==Ct.node||vt.focusOffset!==Ct.offset)&&(ht=ht.createRange(),ht.setStart($t.node,$t.offset),vt.removeAllRanges(),wt>_t?(vt.addRange(ht),vt.extend(Ct.node,Ct.offset)):(ht.setEnd(Ct.node,Ct.offset),vt.addRange(ht)))}}for(ht=[],vt=xt;vt=vt.parentNode;)vt.nodeType===1&&ht.push({element:vt,left:vt.scrollLeft,top:vt.scrollTop});for(typeof xt.focus=="function"&&xt.focus(),xt=0;xt<ht.length;xt++)vt=ht[xt],vt.element.scrollLeft=vt.left,vt.element.scrollTop=vt.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re$1=null,Se=null,Te$1=!1;function Ue(vt,ht,xt){var _t=xt.window===xt?xt.document:xt.nodeType===9?xt:xt.ownerDocument;Te$1||Qe==null||Qe!==Xa(_t)||(_t=Qe,"selectionStart"in _t&&Ne(_t)?_t={start:_t.selectionStart,end:_t.selectionEnd}:(_t=(_t.ownerDocument&&_t.ownerDocument.defaultView||window).getSelection(),_t={anchorNode:_t.anchorNode,anchorOffset:_t.anchorOffset,focusNode:_t.focusNode,focusOffset:_t.focusOffset}),Se&&Ie$1(Se,_t)||(Se=_t,_t=oe(Re$1,"onSelect"),0<_t.length&&(ht=new td("onSelect","select",null,ht,xt),vt.push({event:ht,listeners:_t}),ht.target=Qe)))}function Ve(vt,ht){var xt={};return xt[vt.toLowerCase()]=ht.toLowerCase(),xt["Webkit"+vt]="webkit"+ht,xt["Moz"+vt]="moz"+ht,xt}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye$1={};ia&&(Ye$1=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze$1(vt){if(Xe[vt])return Xe[vt];if(!We[vt])return vt;var ht=We[vt],xt;for(xt in ht)if(ht.hasOwnProperty(xt)&&xt in Ye$1)return Xe[vt]=ht[xt];return vt}var $e=Ze$1("animationend"),af=Ze$1("animationiteration"),bf=Ze$1("animationstart"),cf=Ze$1("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(vt,ht){df.set(vt,ht),fa(ht,[vt])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(vt,ht,xt){var _t=vt.type||"unknown-event";vt.currentTarget=xt,Ub(_t,ht,void 0,vt),vt.currentTarget=null}function se(vt,ht){ht=(ht&4)!==0;for(var xt=0;xt<vt.length;xt++){var _t=vt[xt],$t=_t.event;_t=_t.listeners;e:{var wt=void 0;if(ht)for(var Ct=_t.length-1;0<=Ct;Ct--){var Pt=_t[Ct],bt=Pt.instance,Rt=Pt.currentTarget;if(Pt=Pt.listener,bt!==wt&&$t.isPropagationStopped())break e;nf($t,Pt,Rt),wt=bt}else for(Ct=0;Ct<_t.length;Ct++){if(Pt=_t[Ct],bt=Pt.instance,Rt=Pt.currentTarget,Pt=Pt.listener,bt!==wt&&$t.isPropagationStopped())break e;nf($t,Pt,Rt),wt=bt}}}if(Qb)throw vt=Rb,Qb=!1,Rb=null,vt}function D$1(vt,ht){var xt=ht[of];xt===void 0&&(xt=ht[of]=new Set);var _t=vt+"__bubble";xt.has(_t)||(pf(ht,vt,2,!1),xt.add(_t))}function qf(vt,ht,xt){var _t=0;ht&&(_t|=4),pf(xt,vt,_t,ht)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(vt){if(!vt[rf]){vt[rf]=!0,da.forEach(function(xt){xt!=="selectionchange"&&(mf.has(xt)||qf(xt,!1,vt),qf(xt,!0,vt))});var ht=vt.nodeType===9?vt:vt.ownerDocument;ht===null||ht[rf]||(ht[rf]=!0,qf("selectionchange",!1,ht))}}function pf(vt,ht,xt,_t){switch(jd(ht)){case 1:var $t=ed;break;case 4:$t=gd;break;default:$t=fd}xt=$t.bind(null,ht,xt,vt),$t=void 0,!Lb||ht!=="touchstart"&&ht!=="touchmove"&&ht!=="wheel"||($t=!0),_t?$t!==void 0?vt.addEventListener(ht,xt,{capture:!0,passive:$t}):vt.addEventListener(ht,xt,!0):$t!==void 0?vt.addEventListener(ht,xt,{passive:$t}):vt.addEventListener(ht,xt,!1)}function hd(vt,ht,xt,_t,$t){var wt=_t;if(!(ht&1)&&!(ht&2)&&_t!==null)e:for(;;){if(_t===null)return;var Ct=_t.tag;if(Ct===3||Ct===4){var Pt=_t.stateNode.containerInfo;if(Pt===$t||Pt.nodeType===8&&Pt.parentNode===$t)break;if(Ct===4)for(Ct=_t.return;Ct!==null;){var bt=Ct.tag;if((bt===3||bt===4)&&(bt=Ct.stateNode.containerInfo,bt===$t||bt.nodeType===8&&bt.parentNode===$t))return;Ct=Ct.return}for(;Pt!==null;){if(Ct=Wc(Pt),Ct===null)return;if(bt=Ct.tag,bt===5||bt===6){_t=wt=Ct;continue e}Pt=Pt.parentNode}}_t=_t.return}Jb(function(){var Rt=wt,Nt=xb(xt),kt=[];e:{var Dt=df.get(vt);if(Dt!==void 0){var Ot=td,Lt=vt;switch(vt){case"keypress":if(od(xt)===0)break e;case"keydown":case"keyup":Ot=Rd;break;case"focusin":Lt="focus",Ot=Fd;break;case"focusout":Lt="blur",Ot=Fd;break;case"beforeblur":case"afterblur":Ot=Fd;break;case"click":if(xt.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ot=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ot=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ot=Vd;break;case $e:case af:case bf:Ot=Hd;break;case cf:Ot=Xd;break;case"scroll":Ot=vd;break;case"wheel":Ot=Zd;break;case"copy":case"cut":case"paste":Ot=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ot=Td}var Ft=(ht&4)!==0,Ut=!Ft&&vt==="scroll",jt=Ft?Dt!==null?Dt+"Capture":null:Dt;Ft=[];for(var Vt=Rt,Bt;Vt!==null;){Bt=Vt;var Wt=Bt.stateNode;if(Bt.tag===5&&Wt!==null&&(Bt=Wt,jt!==null&&(Wt=Kb(Vt,jt),Wt!=null&&Ft.push(tf(Vt,Wt,Bt)))),Ut)break;Vt=Vt.return}0<Ft.length&&(Dt=new Ot(Dt,Lt,null,xt,Nt),kt.push({event:Dt,listeners:Ft}))}}if(!(ht&7)){e:{if(Dt=vt==="mouseover"||vt==="pointerover",Ot=vt==="mouseout"||vt==="pointerout",Dt&&xt!==wb&&(Lt=xt.relatedTarget||xt.fromElement)&&(Wc(Lt)||Lt[uf]))break e;if((Ot||Dt)&&(Dt=Nt.window===Nt?Nt:(Dt=Nt.ownerDocument)?Dt.defaultView||Dt.parentWindow:window,Ot?(Lt=xt.relatedTarget||xt.toElement,Ot=Rt,Lt=Lt?Wc(Lt):null,Lt!==null&&(Ut=Vb(Lt),Lt!==Ut||Lt.tag!==5&&Lt.tag!==6)&&(Lt=null)):(Ot=null,Lt=Rt),Ot!==Lt)){if(Ft=Bd,Wt="onMouseLeave",jt="onMouseEnter",Vt="mouse",(vt==="pointerout"||vt==="pointerover")&&(Ft=Td,Wt="onPointerLeave",jt="onPointerEnter",Vt="pointer"),Ut=Ot==null?Dt:ue$1(Ot),Bt=Lt==null?Dt:ue$1(Lt),Dt=new Ft(Wt,Vt+"leave",Ot,xt,Nt),Dt.target=Ut,Dt.relatedTarget=Bt,Wt=null,Wc(Nt)===Rt&&(Ft=new Ft(jt,Vt+"enter",Lt,xt,Nt),Ft.target=Bt,Ft.relatedTarget=Ut,Wt=Ft),Ut=Wt,Ot&&Lt)t:{for(Ft=Ot,jt=Lt,Vt=0,Bt=Ft;Bt;Bt=vf(Bt))Vt++;for(Bt=0,Wt=jt;Wt;Wt=vf(Wt))Bt++;for(;0<Vt-Bt;)Ft=vf(Ft),Vt--;for(;0<Bt-Vt;)jt=vf(jt),Bt--;for(;Vt--;){if(Ft===jt||jt!==null&&Ft===jt.alternate)break t;Ft=vf(Ft),jt=vf(jt)}Ft=null}else Ft=null;Ot!==null&&wf(kt,Dt,Ot,Ft,!1),Lt!==null&&Ut!==null&&wf(kt,Ut,Lt,Ft,!0)}}e:{if(Dt=Rt?ue$1(Rt):window,Ot=Dt.nodeName&&Dt.nodeName.toLowerCase(),Ot==="select"||Ot==="input"&&Dt.type==="file")var zt=ve;else if(me$1(Dt))if(we)zt=Fe$2;else{zt=De$1;var qt=Ce}else(Ot=Dt.nodeName)&&Ot.toLowerCase()==="input"&&(Dt.type==="checkbox"||Dt.type==="radio")&&(zt=Ee);if(zt&&(zt=zt(vt,Rt))){ne(kt,zt,xt,Nt);break e}qt&&qt(vt,Dt,Rt),vt==="focusout"&&(qt=Dt._wrapperState)&&qt.controlled&&Dt.type==="number"&&cb(Dt,"number",Dt.value)}switch(qt=Rt?ue$1(Rt):window,vt){case"focusin":(me$1(qt)||qt.contentEditable==="true")&&(Qe=qt,Re$1=Rt,Se=null);break;case"focusout":Se=Re$1=Qe=null;break;case"mousedown":Te$1=!0;break;case"contextmenu":case"mouseup":case"dragend":Te$1=!1,Ue(kt,xt,Nt);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(kt,xt,Nt)}var Xt;if(ae)e:{switch(vt){case"compositionstart":var Yt="onCompositionStart";break e;case"compositionend":Yt="onCompositionEnd";break e;case"compositionupdate":Yt="onCompositionUpdate";break e}Yt=void 0}else ie?ge(vt,xt)&&(Yt="onCompositionEnd"):vt==="keydown"&&xt.keyCode===229&&(Yt="onCompositionStart");Yt&&(de$1&&xt.locale!=="ko"&&(ie||Yt!=="onCompositionStart"?Yt==="onCompositionEnd"&&ie&&(Xt=nd()):(kd=Nt,ld="value"in kd?kd.value:kd.textContent,ie=!0)),qt=oe(Rt,Yt),0<qt.length&&(Yt=new Ld(Yt,vt,null,xt,Nt),kt.push({event:Yt,listeners:qt}),Xt?Yt.data=Xt:(Xt=he(xt),Xt!==null&&(Yt.data=Xt)))),(Xt=ce$1?je(vt,xt):ke(vt,xt))&&(Rt=oe(Rt,"onBeforeInput"),0<Rt.length&&(Nt=new Ld("onBeforeInput","beforeinput",null,xt,Nt),kt.push({event:Nt,listeners:Rt}),Nt.data=Xt))}se(kt,ht)})}function tf(vt,ht,xt){return{instance:vt,listener:ht,currentTarget:xt}}function oe(vt,ht){for(var xt=ht+"Capture",_t=[];vt!==null;){var $t=vt,wt=$t.stateNode;$t.tag===5&&wt!==null&&($t=wt,wt=Kb(vt,xt),wt!=null&&_t.unshift(tf(vt,wt,$t)),wt=Kb(vt,ht),wt!=null&&_t.push(tf(vt,wt,$t))),vt=vt.return}return _t}function vf(vt){if(vt===null)return null;do vt=vt.return;while(vt&&vt.tag!==5);return vt||null}function wf(vt,ht,xt,_t,$t){for(var wt=ht._reactName,Ct=[];xt!==null&&xt!==_t;){var Pt=xt,bt=Pt.alternate,Rt=Pt.stateNode;if(bt!==null&&bt===_t)break;Pt.tag===5&&Rt!==null&&(Pt=Rt,$t?(bt=Kb(xt,wt),bt!=null&&Ct.unshift(tf(xt,bt,Pt))):$t||(bt=Kb(xt,wt),bt!=null&&Ct.push(tf(xt,bt,Pt)))),xt=xt.return}Ct.length!==0&&vt.push({event:ht,listeners:Ct})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(vt){return(typeof vt=="string"?vt:""+vt).replace(xf,`
`).replace(yf,"")}function Af(vt,ht,xt){if(ht=zf(ht),zf(vt)!==ht&&xt)throw Error(p$3(425))}function Bf(){}var Cf=null,Df=null;function Ef(vt,ht){return vt==="textarea"||vt==="noscript"||typeof ht.children=="string"||typeof ht.children=="number"||typeof ht.dangerouslySetInnerHTML=="object"&&ht.dangerouslySetInnerHTML!==null&&ht.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(vt){return Hf.resolve(null).then(vt).catch(If)}:Ff;function If(vt){setTimeout(function(){throw vt})}function Kf(vt,ht){var xt=ht,_t=0;do{var $t=xt.nextSibling;if(vt.removeChild(xt),$t&&$t.nodeType===8)if(xt=$t.data,xt==="/$"){if(_t===0){vt.removeChild($t),bd(ht);return}_t--}else xt!=="$"&&xt!=="$?"&&xt!=="$!"||_t++;xt=$t}while(xt);bd(ht)}function Lf(vt){for(;vt!=null;vt=vt.nextSibling){var ht=vt.nodeType;if(ht===1||ht===3)break;if(ht===8){if(ht=vt.data,ht==="$"||ht==="$!"||ht==="$?")break;if(ht==="/$")return null}}return vt}function Mf(vt){vt=vt.previousSibling;for(var ht=0;vt;){if(vt.nodeType===8){var xt=vt.data;if(xt==="$"||xt==="$!"||xt==="$?"){if(ht===0)return vt;ht--}else xt==="/$"&&ht++}vt=vt.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(vt){var ht=vt[Of];if(ht)return ht;for(var xt=vt.parentNode;xt;){if(ht=xt[uf]||xt[Of]){if(xt=ht.alternate,ht.child!==null||xt!==null&&xt.child!==null)for(vt=Mf(vt);vt!==null;){if(xt=vt[Of])return xt;vt=Mf(vt)}return ht}vt=xt,xt=vt.parentNode}return null}function Cb(vt){return vt=vt[Of]||vt[uf],!vt||vt.tag!==5&&vt.tag!==6&&vt.tag!==13&&vt.tag!==3?null:vt}function ue$1(vt){if(vt.tag===5||vt.tag===6)return vt.stateNode;throw Error(p$3(33))}function Db(vt){return vt[Pf]||null}var Sf=[],Tf=-1;function Uf(vt){return{current:vt}}function E$2(vt){0>Tf||(vt.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G$2(vt,ht){Tf++,Sf[Tf]=vt.current,vt.current=ht}var Vf={},H$3=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(vt,ht){var xt=vt.type.contextTypes;if(!xt)return Vf;var _t=vt.stateNode;if(_t&&_t.__reactInternalMemoizedUnmaskedChildContext===ht)return _t.__reactInternalMemoizedMaskedChildContext;var $t={},wt;for(wt in xt)$t[wt]=ht[wt];return _t&&(vt=vt.stateNode,vt.__reactInternalMemoizedUnmaskedChildContext=ht,vt.__reactInternalMemoizedMaskedChildContext=$t),$t}function Zf(vt){return vt=vt.childContextTypes,vt!=null}function $f(){E$2(Wf),E$2(H$3)}function ag(vt,ht,xt){if(H$3.current!==Vf)throw Error(p$3(168));G$2(H$3,ht),G$2(Wf,xt)}function bg(vt,ht,xt){var _t=vt.stateNode;if(ht=ht.childContextTypes,typeof _t.getChildContext!="function")return xt;_t=_t.getChildContext();for(var $t in _t)if(!($t in ht))throw Error(p$3(108,Ra(vt)||"Unknown",$t));return A$2({},xt,_t)}function cg(vt){return vt=(vt=vt.stateNode)&&vt.__reactInternalMemoizedMergedChildContext||Vf,Xf=H$3.current,G$2(H$3,vt),G$2(Wf,Wf.current),!0}function dg(vt,ht,xt){var _t=vt.stateNode;if(!_t)throw Error(p$3(169));xt?(vt=bg(vt,ht,Xf),_t.__reactInternalMemoizedMergedChildContext=vt,E$2(Wf),E$2(H$3),G$2(H$3,vt)):E$2(Wf),G$2(Wf,xt)}var eg=null,fg=!1,gg=!1;function hg(vt){eg===null?eg=[vt]:eg.push(vt)}function ig(vt){fg=!0,hg(vt)}function jg(){if(!gg&&eg!==null){gg=!0;var vt=0,ht=C$3;try{var xt=eg;for(C$3=1;vt<xt.length;vt++){var _t=xt[vt];do _t=_t(!0);while(_t!==null)}eg=null,fg=!1}catch($t){throw eg!==null&&(eg=eg.slice(vt+1)),ac(fc,jg),$t}finally{C$3=ht,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(vt,ht){kg[lg++]=ng,kg[lg++]=mg,mg=vt,ng=ht}function ug(vt,ht,xt){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=vt;var _t=rg;vt=sg;var $t=32-oc(_t)-1;_t&=~(1<<$t),xt+=1;var wt=32-oc(ht)+$t;if(30<wt){var Ct=$t-$t%5;wt=(_t&(1<<Ct)-1).toString(32),_t>>=Ct,$t-=Ct,rg=1<<32-oc(ht)+$t|xt<<$t|_t,sg=wt+vt}else rg=1<<wt|xt<<$t|_t,sg=vt}function vg(vt){vt.return!==null&&(tg(vt,1),ug(vt,1,0))}function wg(vt){for(;vt===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;vt===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$3=!1,zg=null;function Ag(vt,ht){var xt=Bg(5,null,null,0);xt.elementType="DELETED",xt.stateNode=ht,xt.return=vt,ht=vt.deletions,ht===null?(vt.deletions=[xt],vt.flags|=16):ht.push(xt)}function Cg(vt,ht){switch(vt.tag){case 5:var xt=vt.type;return ht=ht.nodeType!==1||xt.toLowerCase()!==ht.nodeName.toLowerCase()?null:ht,ht!==null?(vt.stateNode=ht,xg=vt,yg=Lf(ht.firstChild),!0):!1;case 6:return ht=vt.pendingProps===""||ht.nodeType!==3?null:ht,ht!==null?(vt.stateNode=ht,xg=vt,yg=null,!0):!1;case 13:return ht=ht.nodeType!==8?null:ht,ht!==null?(xt=qg!==null?{id:rg,overflow:sg}:null,vt.memoizedState={dehydrated:ht,treeContext:xt,retryLane:1073741824},xt=Bg(18,null,null,0),xt.stateNode=ht,xt.return=vt,vt.child=xt,xg=vt,yg=null,!0):!1;default:return!1}}function Dg(vt){return(vt.mode&1)!==0&&(vt.flags&128)===0}function Eg(vt){if(I$3){var ht=yg;if(ht){var xt=ht;if(!Cg(vt,ht)){if(Dg(vt))throw Error(p$3(418));ht=Lf(xt.nextSibling);var _t=xg;ht&&Cg(vt,ht)?Ag(_t,xt):(vt.flags=vt.flags&-4097|2,I$3=!1,xg=vt)}}else{if(Dg(vt))throw Error(p$3(418));vt.flags=vt.flags&-4097|2,I$3=!1,xg=vt}}}function Fg(vt){for(vt=vt.return;vt!==null&&vt.tag!==5&&vt.tag!==3&&vt.tag!==13;)vt=vt.return;xg=vt}function Gg(vt){if(vt!==xg)return!1;if(!I$3)return Fg(vt),I$3=!0,!1;var ht;if((ht=vt.tag!==3)&&!(ht=vt.tag!==5)&&(ht=vt.type,ht=ht!=="head"&&ht!=="body"&&!Ef(vt.type,vt.memoizedProps)),ht&&(ht=yg)){if(Dg(vt))throw Hg(),Error(p$3(418));for(;ht;)Ag(vt,ht),ht=Lf(ht.nextSibling)}if(Fg(vt),vt.tag===13){if(vt=vt.memoizedState,vt=vt!==null?vt.dehydrated:null,!vt)throw Error(p$3(317));e:{for(vt=vt.nextSibling,ht=0;vt;){if(vt.nodeType===8){var xt=vt.data;if(xt==="/$"){if(ht===0){yg=Lf(vt.nextSibling);break e}ht--}else xt!=="$"&&xt!=="$!"&&xt!=="$?"||ht++}vt=vt.nextSibling}yg=null}}else yg=xg?Lf(vt.stateNode.nextSibling):null;return!0}function Hg(){for(var vt=yg;vt;)vt=Lf(vt.nextSibling)}function Ig(){yg=xg=null,I$3=!1}function Jg(vt){zg===null?zg=[vt]:zg.push(vt)}var Kg=ua.ReactCurrentBatchConfig;function Lg(vt,ht,xt){if(vt=xt.ref,vt!==null&&typeof vt!="function"&&typeof vt!="object"){if(xt._owner){if(xt=xt._owner,xt){if(xt.tag!==1)throw Error(p$3(309));var _t=xt.stateNode}if(!_t)throw Error(p$3(147,vt));var $t=_t,wt=""+vt;return ht!==null&&ht.ref!==null&&typeof ht.ref=="function"&&ht.ref._stringRef===wt?ht.ref:(ht=function(Ct){var Pt=$t.refs;Ct===null?delete Pt[wt]:Pt[wt]=Ct},ht._stringRef=wt,ht)}if(typeof vt!="string")throw Error(p$3(284));if(!xt._owner)throw Error(p$3(290,vt))}return vt}function Mg(vt,ht){throw vt=Object.prototype.toString.call(ht),Error(p$3(31,vt==="[object Object]"?"object with keys {"+Object.keys(ht).join(", ")+"}":vt))}function Ng(vt){var ht=vt._init;return ht(vt._payload)}function Og(vt){function ht(jt,Vt){if(vt){var Bt=jt.deletions;Bt===null?(jt.deletions=[Vt],jt.flags|=16):Bt.push(Vt)}}function xt(jt,Vt){if(!vt)return null;for(;Vt!==null;)ht(jt,Vt),Vt=Vt.sibling;return null}function _t(jt,Vt){for(jt=new Map;Vt!==null;)Vt.key!==null?jt.set(Vt.key,Vt):jt.set(Vt.index,Vt),Vt=Vt.sibling;return jt}function $t(jt,Vt){return jt=Pg(jt,Vt),jt.index=0,jt.sibling=null,jt}function wt(jt,Vt,Bt){return jt.index=Bt,vt?(Bt=jt.alternate,Bt!==null?(Bt=Bt.index,Bt<Vt?(jt.flags|=2,Vt):Bt):(jt.flags|=2,Vt)):(jt.flags|=1048576,Vt)}function Ct(jt){return vt&&jt.alternate===null&&(jt.flags|=2),jt}function Pt(jt,Vt,Bt,Wt){return Vt===null||Vt.tag!==6?(Vt=Qg(Bt,jt.mode,Wt),Vt.return=jt,Vt):(Vt=$t(Vt,Bt),Vt.return=jt,Vt)}function bt(jt,Vt,Bt,Wt){var zt=Bt.type;return zt===ya?Nt(jt,Vt,Bt.props.children,Wt,Bt.key):Vt!==null&&(Vt.elementType===zt||typeof zt=="object"&&zt!==null&&zt.$$typeof===Ha&&Ng(zt)===Vt.type)?(Wt=$t(Vt,Bt.props),Wt.ref=Lg(jt,Vt,Bt),Wt.return=jt,Wt):(Wt=Rg(Bt.type,Bt.key,Bt.props,null,jt.mode,Wt),Wt.ref=Lg(jt,Vt,Bt),Wt.return=jt,Wt)}function Rt(jt,Vt,Bt,Wt){return Vt===null||Vt.tag!==4||Vt.stateNode.containerInfo!==Bt.containerInfo||Vt.stateNode.implementation!==Bt.implementation?(Vt=Sg(Bt,jt.mode,Wt),Vt.return=jt,Vt):(Vt=$t(Vt,Bt.children||[]),Vt.return=jt,Vt)}function Nt(jt,Vt,Bt,Wt,zt){return Vt===null||Vt.tag!==7?(Vt=Tg(Bt,jt.mode,Wt,zt),Vt.return=jt,Vt):(Vt=$t(Vt,Bt),Vt.return=jt,Vt)}function kt(jt,Vt,Bt){if(typeof Vt=="string"&&Vt!==""||typeof Vt=="number")return Vt=Qg(""+Vt,jt.mode,Bt),Vt.return=jt,Vt;if(typeof Vt=="object"&&Vt!==null){switch(Vt.$$typeof){case va:return Bt=Rg(Vt.type,Vt.key,Vt.props,null,jt.mode,Bt),Bt.ref=Lg(jt,null,Vt),Bt.return=jt,Bt;case wa:return Vt=Sg(Vt,jt.mode,Bt),Vt.return=jt,Vt;case Ha:var Wt=Vt._init;return kt(jt,Wt(Vt._payload),Bt)}if(eb(Vt)||Ka(Vt))return Vt=Tg(Vt,jt.mode,Bt,null),Vt.return=jt,Vt;Mg(jt,Vt)}return null}function Dt(jt,Vt,Bt,Wt){var zt=Vt!==null?Vt.key:null;if(typeof Bt=="string"&&Bt!==""||typeof Bt=="number")return zt!==null?null:Pt(jt,Vt,""+Bt,Wt);if(typeof Bt=="object"&&Bt!==null){switch(Bt.$$typeof){case va:return Bt.key===zt?bt(jt,Vt,Bt,Wt):null;case wa:return Bt.key===zt?Rt(jt,Vt,Bt,Wt):null;case Ha:return zt=Bt._init,Dt(jt,Vt,zt(Bt._payload),Wt)}if(eb(Bt)||Ka(Bt))return zt!==null?null:Nt(jt,Vt,Bt,Wt,null);Mg(jt,Bt)}return null}function Ot(jt,Vt,Bt,Wt,zt){if(typeof Wt=="string"&&Wt!==""||typeof Wt=="number")return jt=jt.get(Bt)||null,Pt(Vt,jt,""+Wt,zt);if(typeof Wt=="object"&&Wt!==null){switch(Wt.$$typeof){case va:return jt=jt.get(Wt.key===null?Bt:Wt.key)||null,bt(Vt,jt,Wt,zt);case wa:return jt=jt.get(Wt.key===null?Bt:Wt.key)||null,Rt(Vt,jt,Wt,zt);case Ha:var qt=Wt._init;return Ot(jt,Vt,Bt,qt(Wt._payload),zt)}if(eb(Wt)||Ka(Wt))return jt=jt.get(Bt)||null,Nt(Vt,jt,Wt,zt,null);Mg(Vt,Wt)}return null}function Lt(jt,Vt,Bt,Wt){for(var zt=null,qt=null,Xt=Vt,Yt=Vt=0,en=null;Xt!==null&&Yt<Bt.length;Yt++){Xt.index>Yt?(en=Xt,Xt=null):en=Xt.sibling;var Qt=Dt(jt,Xt,Bt[Yt],Wt);if(Qt===null){Xt===null&&(Xt=en);break}vt&&Xt&&Qt.alternate===null&&ht(jt,Xt),Vt=wt(Qt,Vt,Yt),qt===null?zt=Qt:qt.sibling=Qt,qt=Qt,Xt=en}if(Yt===Bt.length)return xt(jt,Xt),I$3&&tg(jt,Yt),zt;if(Xt===null){for(;Yt<Bt.length;Yt++)Xt=kt(jt,Bt[Yt],Wt),Xt!==null&&(Vt=wt(Xt,Vt,Yt),qt===null?zt=Xt:qt.sibling=Xt,qt=Xt);return I$3&&tg(jt,Yt),zt}for(Xt=_t(jt,Xt);Yt<Bt.length;Yt++)en=Ot(Xt,jt,Yt,Bt[Yt],Wt),en!==null&&(vt&&en.alternate!==null&&Xt.delete(en.key===null?Yt:en.key),Vt=wt(en,Vt,Yt),qt===null?zt=en:qt.sibling=en,qt=en);return vt&&Xt.forEach(function(nn){return ht(jt,nn)}),I$3&&tg(jt,Yt),zt}function Ft(jt,Vt,Bt,Wt){var zt=Ka(Bt);if(typeof zt!="function")throw Error(p$3(150));if(Bt=zt.call(Bt),Bt==null)throw Error(p$3(151));for(var qt=zt=null,Xt=Vt,Yt=Vt=0,en=null,Qt=Bt.next();Xt!==null&&!Qt.done;Yt++,Qt=Bt.next()){Xt.index>Yt?(en=Xt,Xt=null):en=Xt.sibling;var nn=Dt(jt,Xt,Qt.value,Wt);if(nn===null){Xt===null&&(Xt=en);break}vt&&Xt&&nn.alternate===null&&ht(jt,Xt),Vt=wt(nn,Vt,Yt),qt===null?zt=nn:qt.sibling=nn,qt=nn,Xt=en}if(Qt.done)return xt(jt,Xt),I$3&&tg(jt,Yt),zt;if(Xt===null){for(;!Qt.done;Yt++,Qt=Bt.next())Qt=kt(jt,Qt.value,Wt),Qt!==null&&(Vt=wt(Qt,Vt,Yt),qt===null?zt=Qt:qt.sibling=Qt,qt=Qt);return I$3&&tg(jt,Yt),zt}for(Xt=_t(jt,Xt);!Qt.done;Yt++,Qt=Bt.next())Qt=Ot(Xt,jt,Yt,Qt.value,Wt),Qt!==null&&(vt&&Qt.alternate!==null&&Xt.delete(Qt.key===null?Yt:Qt.key),Vt=wt(Qt,Vt,Yt),qt===null?zt=Qt:qt.sibling=Qt,qt=Qt);return vt&&Xt.forEach(function(ln){return ht(jt,ln)}),I$3&&tg(jt,Yt),zt}function Ut(jt,Vt,Bt,Wt){if(typeof Bt=="object"&&Bt!==null&&Bt.type===ya&&Bt.key===null&&(Bt=Bt.props.children),typeof Bt=="object"&&Bt!==null){switch(Bt.$$typeof){case va:e:{for(var zt=Bt.key,qt=Vt;qt!==null;){if(qt.key===zt){if(zt=Bt.type,zt===ya){if(qt.tag===7){xt(jt,qt.sibling),Vt=$t(qt,Bt.props.children),Vt.return=jt,jt=Vt;break e}}else if(qt.elementType===zt||typeof zt=="object"&&zt!==null&&zt.$$typeof===Ha&&Ng(zt)===qt.type){xt(jt,qt.sibling),Vt=$t(qt,Bt.props),Vt.ref=Lg(jt,qt,Bt),Vt.return=jt,jt=Vt;break e}xt(jt,qt);break}else ht(jt,qt);qt=qt.sibling}Bt.type===ya?(Vt=Tg(Bt.props.children,jt.mode,Wt,Bt.key),Vt.return=jt,jt=Vt):(Wt=Rg(Bt.type,Bt.key,Bt.props,null,jt.mode,Wt),Wt.ref=Lg(jt,Vt,Bt),Wt.return=jt,jt=Wt)}return Ct(jt);case wa:e:{for(qt=Bt.key;Vt!==null;){if(Vt.key===qt)if(Vt.tag===4&&Vt.stateNode.containerInfo===Bt.containerInfo&&Vt.stateNode.implementation===Bt.implementation){xt(jt,Vt.sibling),Vt=$t(Vt,Bt.children||[]),Vt.return=jt,jt=Vt;break e}else{xt(jt,Vt);break}else ht(jt,Vt);Vt=Vt.sibling}Vt=Sg(Bt,jt.mode,Wt),Vt.return=jt,jt=Vt}return Ct(jt);case Ha:return qt=Bt._init,Ut(jt,Vt,qt(Bt._payload),Wt)}if(eb(Bt))return Lt(jt,Vt,Bt,Wt);if(Ka(Bt))return Ft(jt,Vt,Bt,Wt);Mg(jt,Bt)}return typeof Bt=="string"&&Bt!==""||typeof Bt=="number"?(Bt=""+Bt,Vt!==null&&Vt.tag===6?(xt(jt,Vt.sibling),Vt=$t(Vt,Bt),Vt.return=jt,jt=Vt):(xt(jt,Vt),Vt=Qg(Bt,jt.mode,Wt),Vt.return=jt,jt=Vt),Ct(jt)):xt(jt,Vt)}return Ut}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(vt){var ht=Wg.current;E$2(Wg),vt._currentValue=ht}function bh(vt,ht,xt){for(;vt!==null;){var _t=vt.alternate;if((vt.childLanes&ht)!==ht?(vt.childLanes|=ht,_t!==null&&(_t.childLanes|=ht)):_t!==null&&(_t.childLanes&ht)!==ht&&(_t.childLanes|=ht),vt===xt)break;vt=vt.return}}function ch(vt,ht){Xg=vt,Zg=Yg=null,vt=vt.dependencies,vt!==null&&vt.firstContext!==null&&(vt.lanes&ht&&(dh=!0),vt.firstContext=null)}function eh(vt){var ht=vt._currentValue;if(Zg!==vt)if(vt={context:vt,memoizedValue:ht,next:null},Yg===null){if(Xg===null)throw Error(p$3(308));Yg=vt,Xg.dependencies={lanes:0,firstContext:vt}}else Yg=Yg.next=vt;return ht}var fh=null;function gh(vt){fh===null?fh=[vt]:fh.push(vt)}function hh(vt,ht,xt,_t){var $t=ht.interleaved;return $t===null?(xt.next=xt,gh(ht)):(xt.next=$t.next,$t.next=xt),ht.interleaved=xt,ih(vt,_t)}function ih(vt,ht){vt.lanes|=ht;var xt=vt.alternate;for(xt!==null&&(xt.lanes|=ht),xt=vt,vt=vt.return;vt!==null;)vt.childLanes|=ht,xt=vt.alternate,xt!==null&&(xt.childLanes|=ht),xt=vt,vt=vt.return;return xt.tag===3?xt.stateNode:null}var jh=!1;function kh(vt){vt.updateQueue={baseState:vt.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(vt,ht){vt=vt.updateQueue,ht.updateQueue===vt&&(ht.updateQueue={baseState:vt.baseState,firstBaseUpdate:vt.firstBaseUpdate,lastBaseUpdate:vt.lastBaseUpdate,shared:vt.shared,effects:vt.effects})}function mh(vt,ht){return{eventTime:vt,lane:ht,tag:0,payload:null,callback:null,next:null}}function nh(vt,ht,xt){var _t=vt.updateQueue;if(_t===null)return null;if(_t=_t.shared,K$2&2){var $t=_t.pending;return $t===null?ht.next=ht:(ht.next=$t.next,$t.next=ht),_t.pending=ht,ih(vt,xt)}return $t=_t.interleaved,$t===null?(ht.next=ht,gh(_t)):(ht.next=$t.next,$t.next=ht),_t.interleaved=ht,ih(vt,xt)}function oh(vt,ht,xt){if(ht=ht.updateQueue,ht!==null&&(ht=ht.shared,(xt&4194240)!==0)){var _t=ht.lanes;_t&=vt.pendingLanes,xt|=_t,ht.lanes=xt,Cc(vt,xt)}}function ph(vt,ht){var xt=vt.updateQueue,_t=vt.alternate;if(_t!==null&&(_t=_t.updateQueue,xt===_t)){var $t=null,wt=null;if(xt=xt.firstBaseUpdate,xt!==null){do{var Ct={eventTime:xt.eventTime,lane:xt.lane,tag:xt.tag,payload:xt.payload,callback:xt.callback,next:null};wt===null?$t=wt=Ct:wt=wt.next=Ct,xt=xt.next}while(xt!==null);wt===null?$t=wt=ht:wt=wt.next=ht}else $t=wt=ht;xt={baseState:_t.baseState,firstBaseUpdate:$t,lastBaseUpdate:wt,shared:_t.shared,effects:_t.effects},vt.updateQueue=xt;return}vt=xt.lastBaseUpdate,vt===null?xt.firstBaseUpdate=ht:vt.next=ht,xt.lastBaseUpdate=ht}function qh(vt,ht,xt,_t){var $t=vt.updateQueue;jh=!1;var wt=$t.firstBaseUpdate,Ct=$t.lastBaseUpdate,Pt=$t.shared.pending;if(Pt!==null){$t.shared.pending=null;var bt=Pt,Rt=bt.next;bt.next=null,Ct===null?wt=Rt:Ct.next=Rt,Ct=bt;var Nt=vt.alternate;Nt!==null&&(Nt=Nt.updateQueue,Pt=Nt.lastBaseUpdate,Pt!==Ct&&(Pt===null?Nt.firstBaseUpdate=Rt:Pt.next=Rt,Nt.lastBaseUpdate=bt))}if(wt!==null){var kt=$t.baseState;Ct=0,Nt=Rt=bt=null,Pt=wt;do{var Dt=Pt.lane,Ot=Pt.eventTime;if((_t&Dt)===Dt){Nt!==null&&(Nt=Nt.next={eventTime:Ot,lane:0,tag:Pt.tag,payload:Pt.payload,callback:Pt.callback,next:null});e:{var Lt=vt,Ft=Pt;switch(Dt=ht,Ot=xt,Ft.tag){case 1:if(Lt=Ft.payload,typeof Lt=="function"){kt=Lt.call(Ot,kt,Dt);break e}kt=Lt;break e;case 3:Lt.flags=Lt.flags&-65537|128;case 0:if(Lt=Ft.payload,Dt=typeof Lt=="function"?Lt.call(Ot,kt,Dt):Lt,Dt==null)break e;kt=A$2({},kt,Dt);break e;case 2:jh=!0}}Pt.callback!==null&&Pt.lane!==0&&(vt.flags|=64,Dt=$t.effects,Dt===null?$t.effects=[Pt]:Dt.push(Pt))}else Ot={eventTime:Ot,lane:Dt,tag:Pt.tag,payload:Pt.payload,callback:Pt.callback,next:null},Nt===null?(Rt=Nt=Ot,bt=kt):Nt=Nt.next=Ot,Ct|=Dt;if(Pt=Pt.next,Pt===null){if(Pt=$t.shared.pending,Pt===null)break;Dt=Pt,Pt=Dt.next,Dt.next=null,$t.lastBaseUpdate=Dt,$t.shared.pending=null}}while(!0);if(Nt===null&&(bt=kt),$t.baseState=bt,$t.firstBaseUpdate=Rt,$t.lastBaseUpdate=Nt,ht=$t.shared.interleaved,ht!==null){$t=ht;do Ct|=$t.lane,$t=$t.next;while($t!==ht)}else wt===null&&($t.shared.lanes=0);rh|=Ct,vt.lanes=Ct,vt.memoizedState=kt}}function sh(vt,ht,xt){if(vt=ht.effects,ht.effects=null,vt!==null)for(ht=0;ht<vt.length;ht++){var _t=vt[ht],$t=_t.callback;if($t!==null){if(_t.callback=null,_t=xt,typeof $t!="function")throw Error(p$3(191,$t));$t.call(_t)}}}var th={},uh=Uf(th),vh$2=Uf(th),wh=Uf(th);function xh(vt){if(vt===th)throw Error(p$3(174));return vt}function yh(vt,ht){switch(G$2(wh,ht),G$2(vh$2,vt),G$2(uh,th),vt=ht.nodeType,vt){case 9:case 11:ht=(ht=ht.documentElement)?ht.namespaceURI:lb(null,"");break;default:vt=vt===8?ht.parentNode:ht,ht=vt.namespaceURI||null,vt=vt.tagName,ht=lb(ht,vt)}E$2(uh),G$2(uh,ht)}function zh(){E$2(uh),E$2(vh$2),E$2(wh)}function Ah(vt){xh(wh.current);var ht=xh(uh.current),xt=lb(ht,vt.type);ht!==xt&&(G$2(vh$2,vt),G$2(uh,xt))}function Bh(vt){vh$2.current===vt&&(E$2(uh),E$2(vh$2))}var L$2=Uf(0);function Ch(vt){for(var ht=vt;ht!==null;){if(ht.tag===13){var xt=ht.memoizedState;if(xt!==null&&(xt=xt.dehydrated,xt===null||xt.data==="$?"||xt.data==="$!"))return ht}else if(ht.tag===19&&ht.memoizedProps.revealOrder!==void 0){if(ht.flags&128)return ht}else if(ht.child!==null){ht.child.return=ht,ht=ht.child;continue}if(ht===vt)break;for(;ht.sibling===null;){if(ht.return===null||ht.return===vt)return null;ht=ht.return}ht.sibling.return=ht.return,ht=ht.sibling}return null}var Dh=[];function Eh(){for(var vt=0;vt<Dh.length;vt++)Dh[vt]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M$3=null,N$2=null,O$2=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P$4(){throw Error(p$3(321))}function Mh(vt,ht){if(ht===null)return!1;for(var xt=0;xt<ht.length&&xt<vt.length;xt++)if(!He$1(vt[xt],ht[xt]))return!1;return!0}function Nh(vt,ht,xt,_t,$t,wt){if(Hh=wt,M$3=ht,ht.memoizedState=null,ht.updateQueue=null,ht.lanes=0,Fh.current=vt===null||vt.memoizedState===null?Oh:Ph,vt=xt(_t,$t),Jh){wt=0;do{if(Jh=!1,Kh=0,25<=wt)throw Error(p$3(301));wt+=1,O$2=N$2=null,ht.updateQueue=null,Fh.current=Qh,vt=xt(_t,$t)}while(Jh)}if(Fh.current=Rh,ht=N$2!==null&&N$2.next!==null,Hh=0,O$2=N$2=M$3=null,Ih=!1,ht)throw Error(p$3(300));return vt}function Sh(){var vt=Kh!==0;return Kh=0,vt}function Th(){var vt={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O$2===null?M$3.memoizedState=O$2=vt:O$2=O$2.next=vt,O$2}function Uh(){if(N$2===null){var vt=M$3.alternate;vt=vt!==null?vt.memoizedState:null}else vt=N$2.next;var ht=O$2===null?M$3.memoizedState:O$2.next;if(ht!==null)O$2=ht,N$2=vt;else{if(vt===null)throw Error(p$3(310));N$2=vt,vt={memoizedState:N$2.memoizedState,baseState:N$2.baseState,baseQueue:N$2.baseQueue,queue:N$2.queue,next:null},O$2===null?M$3.memoizedState=O$2=vt:O$2=O$2.next=vt}return O$2}function Vh(vt,ht){return typeof ht=="function"?ht(vt):ht}function Wh(vt){var ht=Uh(),xt=ht.queue;if(xt===null)throw Error(p$3(311));xt.lastRenderedReducer=vt;var _t=N$2,$t=_t.baseQueue,wt=xt.pending;if(wt!==null){if($t!==null){var Ct=$t.next;$t.next=wt.next,wt.next=Ct}_t.baseQueue=$t=wt,xt.pending=null}if($t!==null){wt=$t.next,_t=_t.baseState;var Pt=Ct=null,bt=null,Rt=wt;do{var Nt=Rt.lane;if((Hh&Nt)===Nt)bt!==null&&(bt=bt.next={lane:0,action:Rt.action,hasEagerState:Rt.hasEagerState,eagerState:Rt.eagerState,next:null}),_t=Rt.hasEagerState?Rt.eagerState:vt(_t,Rt.action);else{var kt={lane:Nt,action:Rt.action,hasEagerState:Rt.hasEagerState,eagerState:Rt.eagerState,next:null};bt===null?(Pt=bt=kt,Ct=_t):bt=bt.next=kt,M$3.lanes|=Nt,rh|=Nt}Rt=Rt.next}while(Rt!==null&&Rt!==wt);bt===null?Ct=_t:bt.next=Pt,He$1(_t,ht.memoizedState)||(dh=!0),ht.memoizedState=_t,ht.baseState=Ct,ht.baseQueue=bt,xt.lastRenderedState=_t}if(vt=xt.interleaved,vt!==null){$t=vt;do wt=$t.lane,M$3.lanes|=wt,rh|=wt,$t=$t.next;while($t!==vt)}else $t===null&&(xt.lanes=0);return[ht.memoizedState,xt.dispatch]}function Xh(vt){var ht=Uh(),xt=ht.queue;if(xt===null)throw Error(p$3(311));xt.lastRenderedReducer=vt;var _t=xt.dispatch,$t=xt.pending,wt=ht.memoizedState;if($t!==null){xt.pending=null;var Ct=$t=$t.next;do wt=vt(wt,Ct.action),Ct=Ct.next;while(Ct!==$t);He$1(wt,ht.memoizedState)||(dh=!0),ht.memoizedState=wt,ht.baseQueue===null&&(ht.baseState=wt),xt.lastRenderedState=wt}return[wt,_t]}function Yh(){}function Zh(vt,ht){var xt=M$3,_t=Uh(),$t=ht(),wt=!He$1(_t.memoizedState,$t);if(wt&&(_t.memoizedState=$t,dh=!0),_t=_t.queue,$h(ai.bind(null,xt,_t,vt),[vt]),_t.getSnapshot!==ht||wt||O$2!==null&&O$2.memoizedState.tag&1){if(xt.flags|=2048,bi(9,ci.bind(null,xt,_t,$t,ht),void 0,null),Q$1===null)throw Error(p$3(349));Hh&30||di(xt,ht,$t)}return $t}function di(vt,ht,xt){vt.flags|=16384,vt={getSnapshot:ht,value:xt},ht=M$3.updateQueue,ht===null?(ht={lastEffect:null,stores:null},M$3.updateQueue=ht,ht.stores=[vt]):(xt=ht.stores,xt===null?ht.stores=[vt]:xt.push(vt))}function ci(vt,ht,xt,_t){ht.value=xt,ht.getSnapshot=_t,ei(ht)&&fi(vt)}function ai(vt,ht,xt){return xt(function(){ei(ht)&&fi(vt)})}function ei(vt){var ht=vt.getSnapshot;vt=vt.value;try{var xt=ht();return!He$1(vt,xt)}catch{return!0}}function fi(vt){var ht=ih(vt,1);ht!==null&&gi(ht,vt,1,-1)}function hi(vt){var ht=Th();return typeof vt=="function"&&(vt=vt()),ht.memoizedState=ht.baseState=vt,vt={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:vt},ht.queue=vt,vt=vt.dispatch=ii.bind(null,M$3,vt),[ht.memoizedState,vt]}function bi(vt,ht,xt,_t){return vt={tag:vt,create:ht,destroy:xt,deps:_t,next:null},ht=M$3.updateQueue,ht===null?(ht={lastEffect:null,stores:null},M$3.updateQueue=ht,ht.lastEffect=vt.next=vt):(xt=ht.lastEffect,xt===null?ht.lastEffect=vt.next=vt:(_t=xt.next,xt.next=vt,vt.next=_t,ht.lastEffect=vt)),vt}function ji(){return Uh().memoizedState}function ki(vt,ht,xt,_t){var $t=Th();M$3.flags|=vt,$t.memoizedState=bi(1|ht,xt,void 0,_t===void 0?null:_t)}function li(vt,ht,xt,_t){var $t=Uh();_t=_t===void 0?null:_t;var wt=void 0;if(N$2!==null){var Ct=N$2.memoizedState;if(wt=Ct.destroy,_t!==null&&Mh(_t,Ct.deps)){$t.memoizedState=bi(ht,xt,wt,_t);return}}M$3.flags|=vt,$t.memoizedState=bi(1|ht,xt,wt,_t)}function mi(vt,ht){return ki(8390656,8,vt,ht)}function $h(vt,ht){return li(2048,8,vt,ht)}function ni(vt,ht){return li(4,2,vt,ht)}function oi(vt,ht){return li(4,4,vt,ht)}function pi(vt,ht){if(typeof ht=="function")return vt=vt(),ht(vt),function(){ht(null)};if(ht!=null)return vt=vt(),ht.current=vt,function(){ht.current=null}}function qi(vt,ht,xt){return xt=xt!=null?xt.concat([vt]):null,li(4,4,pi.bind(null,ht,vt),xt)}function ri(){}function si(vt,ht){var xt=Uh();ht=ht===void 0?null:ht;var _t=xt.memoizedState;return _t!==null&&ht!==null&&Mh(ht,_t[1])?_t[0]:(xt.memoizedState=[vt,ht],vt)}function ti(vt,ht){var xt=Uh();ht=ht===void 0?null:ht;var _t=xt.memoizedState;return _t!==null&&ht!==null&&Mh(ht,_t[1])?_t[0]:(vt=vt(),xt.memoizedState=[vt,ht],vt)}function ui(vt,ht,xt){return Hh&21?(He$1(xt,ht)||(xt=yc(),M$3.lanes|=xt,rh|=xt,vt.baseState=!0),ht):(vt.baseState&&(vt.baseState=!1,dh=!0),vt.memoizedState=xt)}function vi(vt,ht){var xt=C$3;C$3=xt!==0&&4>xt?xt:4,vt(!0);var _t=Gh.transition;Gh.transition={};try{vt(!1),ht()}finally{C$3=xt,Gh.transition=_t}}function wi(){return Uh().memoizedState}function xi(vt,ht,xt){var _t=yi(vt);if(xt={lane:_t,action:xt,hasEagerState:!1,eagerState:null,next:null},zi(vt))Ai(ht,xt);else if(xt=hh(vt,ht,xt,_t),xt!==null){var $t=R$2();gi(xt,vt,_t,$t),Bi(xt,ht,_t)}}function ii(vt,ht,xt){var _t=yi(vt),$t={lane:_t,action:xt,hasEagerState:!1,eagerState:null,next:null};if(zi(vt))Ai(ht,$t);else{var wt=vt.alternate;if(vt.lanes===0&&(wt===null||wt.lanes===0)&&(wt=ht.lastRenderedReducer,wt!==null))try{var Ct=ht.lastRenderedState,Pt=wt(Ct,xt);if($t.hasEagerState=!0,$t.eagerState=Pt,He$1(Pt,Ct)){var bt=ht.interleaved;bt===null?($t.next=$t,gh(ht)):($t.next=bt.next,bt.next=$t),ht.interleaved=$t;return}}catch{}finally{}xt=hh(vt,ht,$t,_t),xt!==null&&($t=R$2(),gi(xt,vt,_t,$t),Bi(xt,ht,_t))}}function zi(vt){var ht=vt.alternate;return vt===M$3||ht!==null&&ht===M$3}function Ai(vt,ht){Jh=Ih=!0;var xt=vt.pending;xt===null?ht.next=ht:(ht.next=xt.next,xt.next=ht),vt.pending=ht}function Bi(vt,ht,xt){if(xt&4194240){var _t=ht.lanes;_t&=vt.pendingLanes,xt|=_t,ht.lanes=xt,Cc(vt,xt)}}var Rh={readContext:eh,useCallback:P$4,useContext:P$4,useEffect:P$4,useImperativeHandle:P$4,useInsertionEffect:P$4,useLayoutEffect:P$4,useMemo:P$4,useReducer:P$4,useRef:P$4,useState:P$4,useDebugValue:P$4,useDeferredValue:P$4,useTransition:P$4,useMutableSource:P$4,useSyncExternalStore:P$4,useId:P$4,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(vt,ht){return Th().memoizedState=[vt,ht===void 0?null:ht],vt},useContext:eh,useEffect:mi,useImperativeHandle:function(vt,ht,xt){return xt=xt!=null?xt.concat([vt]):null,ki(4194308,4,pi.bind(null,ht,vt),xt)},useLayoutEffect:function(vt,ht){return ki(4194308,4,vt,ht)},useInsertionEffect:function(vt,ht){return ki(4,2,vt,ht)},useMemo:function(vt,ht){var xt=Th();return ht=ht===void 0?null:ht,vt=vt(),xt.memoizedState=[vt,ht],vt},useReducer:function(vt,ht,xt){var _t=Th();return ht=xt!==void 0?xt(ht):ht,_t.memoizedState=_t.baseState=ht,vt={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vt,lastRenderedState:ht},_t.queue=vt,vt=vt.dispatch=xi.bind(null,M$3,vt),[_t.memoizedState,vt]},useRef:function(vt){var ht=Th();return vt={current:vt},ht.memoizedState=vt},useState:hi,useDebugValue:ri,useDeferredValue:function(vt){return Th().memoizedState=vt},useTransition:function(){var vt=hi(!1),ht=vt[0];return vt=vi.bind(null,vt[1]),Th().memoizedState=vt,[ht,vt]},useMutableSource:function(){},useSyncExternalStore:function(vt,ht,xt){var _t=M$3,$t=Th();if(I$3){if(xt===void 0)throw Error(p$3(407));xt=xt()}else{if(xt=ht(),Q$1===null)throw Error(p$3(349));Hh&30||di(_t,ht,xt)}$t.memoizedState=xt;var wt={value:xt,getSnapshot:ht};return $t.queue=wt,mi(ai.bind(null,_t,wt,vt),[vt]),_t.flags|=2048,bi(9,ci.bind(null,_t,wt,xt,ht),void 0,null),xt},useId:function(){var vt=Th(),ht=Q$1.identifierPrefix;if(I$3){var xt=sg,_t=rg;xt=(_t&~(1<<32-oc(_t)-1)).toString(32)+xt,ht=":"+ht+"R"+xt,xt=Kh++,0<xt&&(ht+="H"+xt.toString(32)),ht+=":"}else xt=Lh++,ht=":"+ht+"r"+xt.toString(32)+":";return vt.memoizedState=ht},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function(vt){var ht=Uh();return ui(ht,N$2.memoizedState,vt)},useTransition:function(){var vt=Wh(Vh)[0],ht=Uh().memoizedState;return[vt,ht]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(vt){var ht=Uh();return N$2===null?ht.memoizedState=vt:ui(ht,N$2.memoizedState,vt)},useTransition:function(){var vt=Xh(Vh)[0],ht=Uh().memoizedState;return[vt,ht]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(vt,ht){if(vt&&vt.defaultProps){ht=A$2({},ht),vt=vt.defaultProps;for(var xt in vt)ht[xt]===void 0&&(ht[xt]=vt[xt]);return ht}return ht}function Di(vt,ht,xt,_t){ht=vt.memoizedState,xt=xt(_t,ht),xt=xt==null?ht:A$2({},ht,xt),vt.memoizedState=xt,vt.lanes===0&&(vt.updateQueue.baseState=xt)}var Ei={isMounted:function(vt){return(vt=vt._reactInternals)?Vb(vt)===vt:!1},enqueueSetState:function(vt,ht,xt){vt=vt._reactInternals;var _t=R$2(),$t=yi(vt),wt=mh(_t,$t);wt.payload=ht,xt!=null&&(wt.callback=xt),ht=nh(vt,wt,$t),ht!==null&&(gi(ht,vt,$t,_t),oh(ht,vt,$t))},enqueueReplaceState:function(vt,ht,xt){vt=vt._reactInternals;var _t=R$2(),$t=yi(vt),wt=mh(_t,$t);wt.tag=1,wt.payload=ht,xt!=null&&(wt.callback=xt),ht=nh(vt,wt,$t),ht!==null&&(gi(ht,vt,$t,_t),oh(ht,vt,$t))},enqueueForceUpdate:function(vt,ht){vt=vt._reactInternals;var xt=R$2(),_t=yi(vt),$t=mh(xt,_t);$t.tag=2,ht!=null&&($t.callback=ht),ht=nh(vt,$t,_t),ht!==null&&(gi(ht,vt,_t,xt),oh(ht,vt,_t))}};function Fi(vt,ht,xt,_t,$t,wt,Ct){return vt=vt.stateNode,typeof vt.shouldComponentUpdate=="function"?vt.shouldComponentUpdate(_t,wt,Ct):ht.prototype&&ht.prototype.isPureReactComponent?!Ie$1(xt,_t)||!Ie$1($t,wt):!0}function Gi(vt,ht,xt){var _t=!1,$t=Vf,wt=ht.contextType;return typeof wt=="object"&&wt!==null?wt=eh(wt):($t=Zf(ht)?Xf:H$3.current,_t=ht.contextTypes,wt=(_t=_t!=null)?Yf(vt,$t):Vf),ht=new ht(xt,wt),vt.memoizedState=ht.state!==null&&ht.state!==void 0?ht.state:null,ht.updater=Ei,vt.stateNode=ht,ht._reactInternals=vt,_t&&(vt=vt.stateNode,vt.__reactInternalMemoizedUnmaskedChildContext=$t,vt.__reactInternalMemoizedMaskedChildContext=wt),ht}function Hi(vt,ht,xt,_t){vt=ht.state,typeof ht.componentWillReceiveProps=="function"&&ht.componentWillReceiveProps(xt,_t),typeof ht.UNSAFE_componentWillReceiveProps=="function"&&ht.UNSAFE_componentWillReceiveProps(xt,_t),ht.state!==vt&&Ei.enqueueReplaceState(ht,ht.state,null)}function Ii(vt,ht,xt,_t){var $t=vt.stateNode;$t.props=xt,$t.state=vt.memoizedState,$t.refs={},kh(vt);var wt=ht.contextType;typeof wt=="object"&&wt!==null?$t.context=eh(wt):(wt=Zf(ht)?Xf:H$3.current,$t.context=Yf(vt,wt)),$t.state=vt.memoizedState,wt=ht.getDerivedStateFromProps,typeof wt=="function"&&(Di(vt,ht,wt,xt),$t.state=vt.memoizedState),typeof ht.getDerivedStateFromProps=="function"||typeof $t.getSnapshotBeforeUpdate=="function"||typeof $t.UNSAFE_componentWillMount!="function"&&typeof $t.componentWillMount!="function"||(ht=$t.state,typeof $t.componentWillMount=="function"&&$t.componentWillMount(),typeof $t.UNSAFE_componentWillMount=="function"&&$t.UNSAFE_componentWillMount(),ht!==$t.state&&Ei.enqueueReplaceState($t,$t.state,null),qh(vt,xt,$t,_t),$t.state=vt.memoizedState),typeof $t.componentDidMount=="function"&&(vt.flags|=4194308)}function Ji(vt,ht){try{var xt="",_t=ht;do xt+=Pa(_t),_t=_t.return;while(_t);var $t=xt}catch(wt){$t=`
Error generating stack: `+wt.message+`
`+wt.stack}return{value:vt,source:ht,stack:$t,digest:null}}function Ki(vt,ht,xt){return{value:vt,source:null,stack:xt??null,digest:ht??null}}function Li(vt,ht){try{console.error(ht.value)}catch(xt){setTimeout(function(){throw xt})}}var Mi=typeof WeakMap=="function"?WeakMap:Map;function Ni(vt,ht,xt){xt=mh(-1,xt),xt.tag=3,xt.payload={element:null};var _t=ht.value;return xt.callback=function(){Oi||(Oi=!0,Pi=_t),Li(vt,ht)},xt}function Qi(vt,ht,xt){xt=mh(-1,xt),xt.tag=3;var _t=vt.type.getDerivedStateFromError;if(typeof _t=="function"){var $t=ht.value;xt.payload=function(){return _t($t)},xt.callback=function(){Li(vt,ht)}}var wt=vt.stateNode;return wt!==null&&typeof wt.componentDidCatch=="function"&&(xt.callback=function(){Li(vt,ht),typeof _t!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var Ct=ht.stack;this.componentDidCatch(ht.value,{componentStack:Ct!==null?Ct:""})}),xt}function Si(vt,ht,xt){var _t=vt.pingCache;if(_t===null){_t=vt.pingCache=new Mi;var $t=new Set;_t.set(ht,$t)}else $t=_t.get(ht),$t===void 0&&($t=new Set,_t.set(ht,$t));$t.has(xt)||($t.add(xt),vt=Ti.bind(null,vt,ht,xt),ht.then(vt,vt))}function Ui(vt){do{var ht;if((ht=vt.tag===13)&&(ht=vt.memoizedState,ht=ht!==null?ht.dehydrated!==null:!0),ht)return vt;vt=vt.return}while(vt!==null);return null}function Vi(vt,ht,xt,_t,$t){return vt.mode&1?(vt.flags|=65536,vt.lanes=$t,vt):(vt===ht?vt.flags|=65536:(vt.flags|=128,xt.flags|=131072,xt.flags&=-52805,xt.tag===1&&(xt.alternate===null?xt.tag=17:(ht=mh(-1,1),ht.tag=2,nh(xt,ht,1))),xt.lanes|=1),vt)}var Wi=ua.ReactCurrentOwner,dh=!1;function Xi(vt,ht,xt,_t){ht.child=vt===null?Vg(ht,null,xt,_t):Ug(ht,vt.child,xt,_t)}function Yi(vt,ht,xt,_t,$t){xt=xt.render;var wt=ht.ref;return ch(ht,$t),_t=Nh(vt,ht,xt,_t,wt,$t),xt=Sh(),vt!==null&&!dh?(ht.updateQueue=vt.updateQueue,ht.flags&=-2053,vt.lanes&=~$t,Zi(vt,ht,$t)):(I$3&&xt&&vg(ht),ht.flags|=1,Xi(vt,ht,_t,$t),ht.child)}function $i(vt,ht,xt,_t,$t){if(vt===null){var wt=xt.type;return typeof wt=="function"&&!aj(wt)&&wt.defaultProps===void 0&&xt.compare===null&&xt.defaultProps===void 0?(ht.tag=15,ht.type=wt,bj(vt,ht,wt,_t,$t)):(vt=Rg(xt.type,null,_t,ht,ht.mode,$t),vt.ref=ht.ref,vt.return=ht,ht.child=vt)}if(wt=vt.child,!(vt.lanes&$t)){var Ct=wt.memoizedProps;if(xt=xt.compare,xt=xt!==null?xt:Ie$1,xt(Ct,_t)&&vt.ref===ht.ref)return Zi(vt,ht,$t)}return ht.flags|=1,vt=Pg(wt,_t),vt.ref=ht.ref,vt.return=ht,ht.child=vt}function bj(vt,ht,xt,_t,$t){if(vt!==null){var wt=vt.memoizedProps;if(Ie$1(wt,_t)&&vt.ref===ht.ref)if(dh=!1,ht.pendingProps=_t=wt,(vt.lanes&$t)!==0)vt.flags&131072&&(dh=!0);else return ht.lanes=vt.lanes,Zi(vt,ht,$t)}return cj(vt,ht,xt,_t,$t)}function dj(vt,ht,xt){var _t=ht.pendingProps,$t=_t.children,wt=vt!==null?vt.memoizedState:null;if(_t.mode==="hidden")if(!(ht.mode&1))ht.memoizedState={baseLanes:0,cachePool:null,transitions:null},G$2(ej,fj),fj|=xt;else{if(!(xt&1073741824))return vt=wt!==null?wt.baseLanes|xt:xt,ht.lanes=ht.childLanes=1073741824,ht.memoizedState={baseLanes:vt,cachePool:null,transitions:null},ht.updateQueue=null,G$2(ej,fj),fj|=vt,null;ht.memoizedState={baseLanes:0,cachePool:null,transitions:null},_t=wt!==null?wt.baseLanes:xt,G$2(ej,fj),fj|=_t}else wt!==null?(_t=wt.baseLanes|xt,ht.memoizedState=null):_t=xt,G$2(ej,fj),fj|=_t;return Xi(vt,ht,$t,xt),ht.child}function gj(vt,ht){var xt=ht.ref;(vt===null&&xt!==null||vt!==null&&vt.ref!==xt)&&(ht.flags|=512,ht.flags|=2097152)}function cj(vt,ht,xt,_t,$t){var wt=Zf(xt)?Xf:H$3.current;return wt=Yf(ht,wt),ch(ht,$t),xt=Nh(vt,ht,xt,_t,wt,$t),_t=Sh(),vt!==null&&!dh?(ht.updateQueue=vt.updateQueue,ht.flags&=-2053,vt.lanes&=~$t,Zi(vt,ht,$t)):(I$3&&_t&&vg(ht),ht.flags|=1,Xi(vt,ht,xt,$t),ht.child)}function hj(vt,ht,xt,_t,$t){if(Zf(xt)){var wt=!0;cg(ht)}else wt=!1;if(ch(ht,$t),ht.stateNode===null)ij(vt,ht),Gi(ht,xt,_t),Ii(ht,xt,_t,$t),_t=!0;else if(vt===null){var Ct=ht.stateNode,Pt=ht.memoizedProps;Ct.props=Pt;var bt=Ct.context,Rt=xt.contextType;typeof Rt=="object"&&Rt!==null?Rt=eh(Rt):(Rt=Zf(xt)?Xf:H$3.current,Rt=Yf(ht,Rt));var Nt=xt.getDerivedStateFromProps,kt=typeof Nt=="function"||typeof Ct.getSnapshotBeforeUpdate=="function";kt||typeof Ct.UNSAFE_componentWillReceiveProps!="function"&&typeof Ct.componentWillReceiveProps!="function"||(Pt!==_t||bt!==Rt)&&Hi(ht,Ct,_t,Rt),jh=!1;var Dt=ht.memoizedState;Ct.state=Dt,qh(ht,_t,Ct,$t),bt=ht.memoizedState,Pt!==_t||Dt!==bt||Wf.current||jh?(typeof Nt=="function"&&(Di(ht,xt,Nt,_t),bt=ht.memoizedState),(Pt=jh||Fi(ht,xt,Pt,_t,Dt,bt,Rt))?(kt||typeof Ct.UNSAFE_componentWillMount!="function"&&typeof Ct.componentWillMount!="function"||(typeof Ct.componentWillMount=="function"&&Ct.componentWillMount(),typeof Ct.UNSAFE_componentWillMount=="function"&&Ct.UNSAFE_componentWillMount()),typeof Ct.componentDidMount=="function"&&(ht.flags|=4194308)):(typeof Ct.componentDidMount=="function"&&(ht.flags|=4194308),ht.memoizedProps=_t,ht.memoizedState=bt),Ct.props=_t,Ct.state=bt,Ct.context=Rt,_t=Pt):(typeof Ct.componentDidMount=="function"&&(ht.flags|=4194308),_t=!1)}else{Ct=ht.stateNode,lh(vt,ht),Pt=ht.memoizedProps,Rt=ht.type===ht.elementType?Pt:Ci(ht.type,Pt),Ct.props=Rt,kt=ht.pendingProps,Dt=Ct.context,bt=xt.contextType,typeof bt=="object"&&bt!==null?bt=eh(bt):(bt=Zf(xt)?Xf:H$3.current,bt=Yf(ht,bt));var Ot=xt.getDerivedStateFromProps;(Nt=typeof Ot=="function"||typeof Ct.getSnapshotBeforeUpdate=="function")||typeof Ct.UNSAFE_componentWillReceiveProps!="function"&&typeof Ct.componentWillReceiveProps!="function"||(Pt!==kt||Dt!==bt)&&Hi(ht,Ct,_t,bt),jh=!1,Dt=ht.memoizedState,Ct.state=Dt,qh(ht,_t,Ct,$t);var Lt=ht.memoizedState;Pt!==kt||Dt!==Lt||Wf.current||jh?(typeof Ot=="function"&&(Di(ht,xt,Ot,_t),Lt=ht.memoizedState),(Rt=jh||Fi(ht,xt,Rt,_t,Dt,Lt,bt)||!1)?(Nt||typeof Ct.UNSAFE_componentWillUpdate!="function"&&typeof Ct.componentWillUpdate!="function"||(typeof Ct.componentWillUpdate=="function"&&Ct.componentWillUpdate(_t,Lt,bt),typeof Ct.UNSAFE_componentWillUpdate=="function"&&Ct.UNSAFE_componentWillUpdate(_t,Lt,bt)),typeof Ct.componentDidUpdate=="function"&&(ht.flags|=4),typeof Ct.getSnapshotBeforeUpdate=="function"&&(ht.flags|=1024)):(typeof Ct.componentDidUpdate!="function"||Pt===vt.memoizedProps&&Dt===vt.memoizedState||(ht.flags|=4),typeof Ct.getSnapshotBeforeUpdate!="function"||Pt===vt.memoizedProps&&Dt===vt.memoizedState||(ht.flags|=1024),ht.memoizedProps=_t,ht.memoizedState=Lt),Ct.props=_t,Ct.state=Lt,Ct.context=bt,_t=Rt):(typeof Ct.componentDidUpdate!="function"||Pt===vt.memoizedProps&&Dt===vt.memoizedState||(ht.flags|=4),typeof Ct.getSnapshotBeforeUpdate!="function"||Pt===vt.memoizedProps&&Dt===vt.memoizedState||(ht.flags|=1024),_t=!1)}return jj(vt,ht,xt,_t,wt,$t)}function jj(vt,ht,xt,_t,$t,wt){gj(vt,ht);var Ct=(ht.flags&128)!==0;if(!_t&&!Ct)return $t&&dg(ht,xt,!1),Zi(vt,ht,wt);_t=ht.stateNode,Wi.current=ht;var Pt=Ct&&typeof xt.getDerivedStateFromError!="function"?null:_t.render();return ht.flags|=1,vt!==null&&Ct?(ht.child=Ug(ht,vt.child,null,wt),ht.child=Ug(ht,null,Pt,wt)):Xi(vt,ht,Pt,wt),ht.memoizedState=_t.state,$t&&dg(ht,xt,!0),ht.child}function kj(vt){var ht=vt.stateNode;ht.pendingContext?ag(vt,ht.pendingContext,ht.pendingContext!==ht.context):ht.context&&ag(vt,ht.context,!1),yh(vt,ht.containerInfo)}function lj(vt,ht,xt,_t,$t){return Ig(),Jg($t),ht.flags|=256,Xi(vt,ht,xt,_t),ht.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(vt){return{baseLanes:vt,cachePool:null,transitions:null}}function oj(vt,ht,xt){var _t=ht.pendingProps,$t=L$2.current,wt=!1,Ct=(ht.flags&128)!==0,Pt;if((Pt=Ct)||(Pt=vt!==null&&vt.memoizedState===null?!1:($t&2)!==0),Pt?(wt=!0,ht.flags&=-129):(vt===null||vt.memoizedState!==null)&&($t|=1),G$2(L$2,$t&1),vt===null)return Eg(ht),vt=ht.memoizedState,vt!==null&&(vt=vt.dehydrated,vt!==null)?(ht.mode&1?vt.data==="$!"?ht.lanes=8:ht.lanes=1073741824:ht.lanes=1,null):(Ct=_t.children,vt=_t.fallback,wt?(_t=ht.mode,wt=ht.child,Ct={mode:"hidden",children:Ct},!(_t&1)&&wt!==null?(wt.childLanes=0,wt.pendingProps=Ct):wt=pj(Ct,_t,0,null),vt=Tg(vt,_t,xt,null),wt.return=ht,vt.return=ht,wt.sibling=vt,ht.child=wt,ht.child.memoizedState=nj(xt),ht.memoizedState=mj,vt):qj(ht,Ct));if($t=vt.memoizedState,$t!==null&&(Pt=$t.dehydrated,Pt!==null))return rj(vt,ht,Ct,_t,Pt,$t,xt);if(wt){wt=_t.fallback,Ct=ht.mode,$t=vt.child,Pt=$t.sibling;var bt={mode:"hidden",children:_t.children};return!(Ct&1)&&ht.child!==$t?(_t=ht.child,_t.childLanes=0,_t.pendingProps=bt,ht.deletions=null):(_t=Pg($t,bt),_t.subtreeFlags=$t.subtreeFlags&14680064),Pt!==null?wt=Pg(Pt,wt):(wt=Tg(wt,Ct,xt,null),wt.flags|=2),wt.return=ht,_t.return=ht,_t.sibling=wt,ht.child=_t,_t=wt,wt=ht.child,Ct=vt.child.memoizedState,Ct=Ct===null?nj(xt):{baseLanes:Ct.baseLanes|xt,cachePool:null,transitions:Ct.transitions},wt.memoizedState=Ct,wt.childLanes=vt.childLanes&~xt,ht.memoizedState=mj,_t}return wt=vt.child,vt=wt.sibling,_t=Pg(wt,{mode:"visible",children:_t.children}),!(ht.mode&1)&&(_t.lanes=xt),_t.return=ht,_t.sibling=null,vt!==null&&(xt=ht.deletions,xt===null?(ht.deletions=[vt],ht.flags|=16):xt.push(vt)),ht.child=_t,ht.memoizedState=null,_t}function qj(vt,ht){return ht=pj({mode:"visible",children:ht},vt.mode,0,null),ht.return=vt,vt.child=ht}function sj(vt,ht,xt,_t){return _t!==null&&Jg(_t),Ug(ht,vt.child,null,xt),vt=qj(ht,ht.pendingProps.children),vt.flags|=2,ht.memoizedState=null,vt}function rj(vt,ht,xt,_t,$t,wt,Ct){if(xt)return ht.flags&256?(ht.flags&=-257,_t=Ki(Error(p$3(422))),sj(vt,ht,Ct,_t)):ht.memoizedState!==null?(ht.child=vt.child,ht.flags|=128,null):(wt=_t.fallback,$t=ht.mode,_t=pj({mode:"visible",children:_t.children},$t,0,null),wt=Tg(wt,$t,Ct,null),wt.flags|=2,_t.return=ht,wt.return=ht,_t.sibling=wt,ht.child=_t,ht.mode&1&&Ug(ht,vt.child,null,Ct),ht.child.memoizedState=nj(Ct),ht.memoizedState=mj,wt);if(!(ht.mode&1))return sj(vt,ht,Ct,null);if($t.data==="$!"){if(_t=$t.nextSibling&&$t.nextSibling.dataset,_t)var Pt=_t.dgst;return _t=Pt,wt=Error(p$3(419)),_t=Ki(wt,_t,void 0),sj(vt,ht,Ct,_t)}if(Pt=(Ct&vt.childLanes)!==0,dh||Pt){if(_t=Q$1,_t!==null){switch(Ct&-Ct){case 4:$t=2;break;case 16:$t=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:$t=32;break;case 536870912:$t=268435456;break;default:$t=0}$t=$t&(_t.suspendedLanes|Ct)?0:$t,$t!==0&&$t!==wt.retryLane&&(wt.retryLane=$t,ih(vt,$t),gi(_t,vt,$t,-1))}return tj(),_t=Ki(Error(p$3(421))),sj(vt,ht,Ct,_t)}return $t.data==="$?"?(ht.flags|=128,ht.child=vt.child,ht=uj.bind(null,vt),$t._reactRetry=ht,null):(vt=wt.treeContext,yg=Lf($t.nextSibling),xg=ht,I$3=!0,zg=null,vt!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=vt.id,sg=vt.overflow,qg=ht),ht=qj(ht,_t.children),ht.flags|=4096,ht)}function vj(vt,ht,xt){vt.lanes|=ht;var _t=vt.alternate;_t!==null&&(_t.lanes|=ht),bh(vt.return,ht,xt)}function wj(vt,ht,xt,_t,$t){var wt=vt.memoizedState;wt===null?vt.memoizedState={isBackwards:ht,rendering:null,renderingStartTime:0,last:_t,tail:xt,tailMode:$t}:(wt.isBackwards=ht,wt.rendering=null,wt.renderingStartTime=0,wt.last=_t,wt.tail=xt,wt.tailMode=$t)}function xj(vt,ht,xt){var _t=ht.pendingProps,$t=_t.revealOrder,wt=_t.tail;if(Xi(vt,ht,_t.children,xt),_t=L$2.current,_t&2)_t=_t&1|2,ht.flags|=128;else{if(vt!==null&&vt.flags&128)e:for(vt=ht.child;vt!==null;){if(vt.tag===13)vt.memoizedState!==null&&vj(vt,xt,ht);else if(vt.tag===19)vj(vt,xt,ht);else if(vt.child!==null){vt.child.return=vt,vt=vt.child;continue}if(vt===ht)break e;for(;vt.sibling===null;){if(vt.return===null||vt.return===ht)break e;vt=vt.return}vt.sibling.return=vt.return,vt=vt.sibling}_t&=1}if(G$2(L$2,_t),!(ht.mode&1))ht.memoizedState=null;else switch($t){case"forwards":for(xt=ht.child,$t=null;xt!==null;)vt=xt.alternate,vt!==null&&Ch(vt)===null&&($t=xt),xt=xt.sibling;xt=$t,xt===null?($t=ht.child,ht.child=null):($t=xt.sibling,xt.sibling=null),wj(ht,!1,$t,xt,wt);break;case"backwards":for(xt=null,$t=ht.child,ht.child=null;$t!==null;){if(vt=$t.alternate,vt!==null&&Ch(vt)===null){ht.child=$t;break}vt=$t.sibling,$t.sibling=xt,xt=$t,$t=vt}wj(ht,!0,xt,null,wt);break;case"together":wj(ht,!1,null,null,void 0);break;default:ht.memoizedState=null}return ht.child}function ij(vt,ht){!(ht.mode&1)&&vt!==null&&(vt.alternate=null,ht.alternate=null,ht.flags|=2)}function Zi(vt,ht,xt){if(vt!==null&&(ht.dependencies=vt.dependencies),rh|=ht.lanes,!(xt&ht.childLanes))return null;if(vt!==null&&ht.child!==vt.child)throw Error(p$3(153));if(ht.child!==null){for(vt=ht.child,xt=Pg(vt,vt.pendingProps),ht.child=xt,xt.return=ht;vt.sibling!==null;)vt=vt.sibling,xt=xt.sibling=Pg(vt,vt.pendingProps),xt.return=ht;xt.sibling=null}return ht.child}function yj(vt,ht,xt){switch(ht.tag){case 3:kj(ht),Ig();break;case 5:Ah(ht);break;case 1:Zf(ht.type)&&cg(ht);break;case 4:yh(ht,ht.stateNode.containerInfo);break;case 10:var _t=ht.type._context,$t=ht.memoizedProps.value;G$2(Wg,_t._currentValue),_t._currentValue=$t;break;case 13:if(_t=ht.memoizedState,_t!==null)return _t.dehydrated!==null?(G$2(L$2,L$2.current&1),ht.flags|=128,null):xt&ht.child.childLanes?oj(vt,ht,xt):(G$2(L$2,L$2.current&1),vt=Zi(vt,ht,xt),vt!==null?vt.sibling:null);G$2(L$2,L$2.current&1);break;case 19:if(_t=(xt&ht.childLanes)!==0,vt.flags&128){if(_t)return xj(vt,ht,xt);ht.flags|=128}if($t=ht.memoizedState,$t!==null&&($t.rendering=null,$t.tail=null,$t.lastEffect=null),G$2(L$2,L$2.current),_t)break;return null;case 22:case 23:return ht.lanes=0,dj(vt,ht,xt)}return Zi(vt,ht,xt)}var zj,Aj,Bj,Cj;zj=function(vt,ht){for(var xt=ht.child;xt!==null;){if(xt.tag===5||xt.tag===6)vt.appendChild(xt.stateNode);else if(xt.tag!==4&&xt.child!==null){xt.child.return=xt,xt=xt.child;continue}if(xt===ht)break;for(;xt.sibling===null;){if(xt.return===null||xt.return===ht)return;xt=xt.return}xt.sibling.return=xt.return,xt=xt.sibling}};Aj=function(){};Bj=function(vt,ht,xt,_t){var $t=vt.memoizedProps;if($t!==_t){vt=ht.stateNode,xh(uh.current);var wt=null;switch(xt){case"input":$t=Ya(vt,$t),_t=Ya(vt,_t),wt=[];break;case"select":$t=A$2({},$t,{value:void 0}),_t=A$2({},_t,{value:void 0}),wt=[];break;case"textarea":$t=gb(vt,$t),_t=gb(vt,_t),wt=[];break;default:typeof $t.onClick!="function"&&typeof _t.onClick=="function"&&(vt.onclick=Bf)}ub(xt,_t);var Ct;xt=null;for(Rt in $t)if(!_t.hasOwnProperty(Rt)&&$t.hasOwnProperty(Rt)&&$t[Rt]!=null)if(Rt==="style"){var Pt=$t[Rt];for(Ct in Pt)Pt.hasOwnProperty(Ct)&&(xt||(xt={}),xt[Ct]="")}else Rt!=="dangerouslySetInnerHTML"&&Rt!=="children"&&Rt!=="suppressContentEditableWarning"&&Rt!=="suppressHydrationWarning"&&Rt!=="autoFocus"&&(ea.hasOwnProperty(Rt)?wt||(wt=[]):(wt=wt||[]).push(Rt,null));for(Rt in _t){var bt=_t[Rt];if(Pt=$t!=null?$t[Rt]:void 0,_t.hasOwnProperty(Rt)&&bt!==Pt&&(bt!=null||Pt!=null))if(Rt==="style")if(Pt){for(Ct in Pt)!Pt.hasOwnProperty(Ct)||bt&&bt.hasOwnProperty(Ct)||(xt||(xt={}),xt[Ct]="");for(Ct in bt)bt.hasOwnProperty(Ct)&&Pt[Ct]!==bt[Ct]&&(xt||(xt={}),xt[Ct]=bt[Ct])}else xt||(wt||(wt=[]),wt.push(Rt,xt)),xt=bt;else Rt==="dangerouslySetInnerHTML"?(bt=bt?bt.__html:void 0,Pt=Pt?Pt.__html:void 0,bt!=null&&Pt!==bt&&(wt=wt||[]).push(Rt,bt)):Rt==="children"?typeof bt!="string"&&typeof bt!="number"||(wt=wt||[]).push(Rt,""+bt):Rt!=="suppressContentEditableWarning"&&Rt!=="suppressHydrationWarning"&&(ea.hasOwnProperty(Rt)?(bt!=null&&Rt==="onScroll"&&D$1("scroll",vt),wt||Pt===bt||(wt=[])):(wt=wt||[]).push(Rt,bt))}xt&&(wt=wt||[]).push("style",xt);var Rt=wt;(ht.updateQueue=Rt)&&(ht.flags|=4)}};Cj=function(vt,ht,xt,_t){xt!==_t&&(ht.flags|=4)};function Dj(vt,ht){if(!I$3)switch(vt.tailMode){case"hidden":ht=vt.tail;for(var xt=null;ht!==null;)ht.alternate!==null&&(xt=ht),ht=ht.sibling;xt===null?vt.tail=null:xt.sibling=null;break;case"collapsed":xt=vt.tail;for(var _t=null;xt!==null;)xt.alternate!==null&&(_t=xt),xt=xt.sibling;_t===null?ht||vt.tail===null?vt.tail=null:vt.tail.sibling=null:_t.sibling=null}}function S$3(vt){var ht=vt.alternate!==null&&vt.alternate.child===vt.child,xt=0,_t=0;if(ht)for(var $t=vt.child;$t!==null;)xt|=$t.lanes|$t.childLanes,_t|=$t.subtreeFlags&14680064,_t|=$t.flags&14680064,$t.return=vt,$t=$t.sibling;else for($t=vt.child;$t!==null;)xt|=$t.lanes|$t.childLanes,_t|=$t.subtreeFlags,_t|=$t.flags,$t.return=vt,$t=$t.sibling;return vt.subtreeFlags|=_t,vt.childLanes=xt,ht}function Ej(vt,ht,xt){var _t=ht.pendingProps;switch(wg(ht),ht.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$3(ht),null;case 1:return Zf(ht.type)&&$f(),S$3(ht),null;case 3:return _t=ht.stateNode,zh(),E$2(Wf),E$2(H$3),Eh(),_t.pendingContext&&(_t.context=_t.pendingContext,_t.pendingContext=null),(vt===null||vt.child===null)&&(Gg(ht)?ht.flags|=4:vt===null||vt.memoizedState.isDehydrated&&!(ht.flags&256)||(ht.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(vt,ht),S$3(ht),null;case 5:Bh(ht);var $t=xh(wh.current);if(xt=ht.type,vt!==null&&ht.stateNode!=null)Bj(vt,ht,xt,_t,$t),vt.ref!==ht.ref&&(ht.flags|=512,ht.flags|=2097152);else{if(!_t){if(ht.stateNode===null)throw Error(p$3(166));return S$3(ht),null}if(vt=xh(uh.current),Gg(ht)){_t=ht.stateNode,xt=ht.type;var wt=ht.memoizedProps;switch(_t[Of]=ht,_t[Pf]=wt,vt=(ht.mode&1)!==0,xt){case"dialog":D$1("cancel",_t),D$1("close",_t);break;case"iframe":case"object":case"embed":D$1("load",_t);break;case"video":case"audio":for($t=0;$t<lf.length;$t++)D$1(lf[$t],_t);break;case"source":D$1("error",_t);break;case"img":case"image":case"link":D$1("error",_t),D$1("load",_t);break;case"details":D$1("toggle",_t);break;case"input":Za(_t,wt),D$1("invalid",_t);break;case"select":_t._wrapperState={wasMultiple:!!wt.multiple},D$1("invalid",_t);break;case"textarea":hb(_t,wt),D$1("invalid",_t)}ub(xt,wt),$t=null;for(var Ct in wt)if(wt.hasOwnProperty(Ct)){var Pt=wt[Ct];Ct==="children"?typeof Pt=="string"?_t.textContent!==Pt&&(wt.suppressHydrationWarning!==!0&&Af(_t.textContent,Pt,vt),$t=["children",Pt]):typeof Pt=="number"&&_t.textContent!==""+Pt&&(wt.suppressHydrationWarning!==!0&&Af(_t.textContent,Pt,vt),$t=["children",""+Pt]):ea.hasOwnProperty(Ct)&&Pt!=null&&Ct==="onScroll"&&D$1("scroll",_t)}switch(xt){case"input":Va(_t),db(_t,wt,!0);break;case"textarea":Va(_t),jb(_t);break;case"select":case"option":break;default:typeof wt.onClick=="function"&&(_t.onclick=Bf)}_t=$t,ht.updateQueue=_t,_t!==null&&(ht.flags|=4)}else{Ct=$t.nodeType===9?$t:$t.ownerDocument,vt==="http://www.w3.org/1999/xhtml"&&(vt=kb(xt)),vt==="http://www.w3.org/1999/xhtml"?xt==="script"?(vt=Ct.createElement("div"),vt.innerHTML="<script><\/script>",vt=vt.removeChild(vt.firstChild)):typeof _t.is=="string"?vt=Ct.createElement(xt,{is:_t.is}):(vt=Ct.createElement(xt),xt==="select"&&(Ct=vt,_t.multiple?Ct.multiple=!0:_t.size&&(Ct.size=_t.size))):vt=Ct.createElementNS(vt,xt),vt[Of]=ht,vt[Pf]=_t,zj(vt,ht,!1,!1),ht.stateNode=vt;e:{switch(Ct=vb(xt,_t),xt){case"dialog":D$1("cancel",vt),D$1("close",vt),$t=_t;break;case"iframe":case"object":case"embed":D$1("load",vt),$t=_t;break;case"video":case"audio":for($t=0;$t<lf.length;$t++)D$1(lf[$t],vt);$t=_t;break;case"source":D$1("error",vt),$t=_t;break;case"img":case"image":case"link":D$1("error",vt),D$1("load",vt),$t=_t;break;case"details":D$1("toggle",vt),$t=_t;break;case"input":Za(vt,_t),$t=Ya(vt,_t),D$1("invalid",vt);break;case"option":$t=_t;break;case"select":vt._wrapperState={wasMultiple:!!_t.multiple},$t=A$2({},_t,{value:void 0}),D$1("invalid",vt);break;case"textarea":hb(vt,_t),$t=gb(vt,_t),D$1("invalid",vt);break;default:$t=_t}ub(xt,$t),Pt=$t;for(wt in Pt)if(Pt.hasOwnProperty(wt)){var bt=Pt[wt];wt==="style"?sb(vt,bt):wt==="dangerouslySetInnerHTML"?(bt=bt?bt.__html:void 0,bt!=null&&nb(vt,bt)):wt==="children"?typeof bt=="string"?(xt!=="textarea"||bt!=="")&&ob(vt,bt):typeof bt=="number"&&ob(vt,""+bt):wt!=="suppressContentEditableWarning"&&wt!=="suppressHydrationWarning"&&wt!=="autoFocus"&&(ea.hasOwnProperty(wt)?bt!=null&&wt==="onScroll"&&D$1("scroll",vt):bt!=null&&ta(vt,wt,bt,Ct))}switch(xt){case"input":Va(vt),db(vt,_t,!1);break;case"textarea":Va(vt),jb(vt);break;case"option":_t.value!=null&&vt.setAttribute("value",""+Sa(_t.value));break;case"select":vt.multiple=!!_t.multiple,wt=_t.value,wt!=null?fb(vt,!!_t.multiple,wt,!1):_t.defaultValue!=null&&fb(vt,!!_t.multiple,_t.defaultValue,!0);break;default:typeof $t.onClick=="function"&&(vt.onclick=Bf)}switch(xt){case"button":case"input":case"select":case"textarea":_t=!!_t.autoFocus;break e;case"img":_t=!0;break e;default:_t=!1}}_t&&(ht.flags|=4)}ht.ref!==null&&(ht.flags|=512,ht.flags|=2097152)}return S$3(ht),null;case 6:if(vt&&ht.stateNode!=null)Cj(vt,ht,vt.memoizedProps,_t);else{if(typeof _t!="string"&&ht.stateNode===null)throw Error(p$3(166));if(xt=xh(wh.current),xh(uh.current),Gg(ht)){if(_t=ht.stateNode,xt=ht.memoizedProps,_t[Of]=ht,(wt=_t.nodeValue!==xt)&&(vt=xg,vt!==null))switch(vt.tag){case 3:Af(_t.nodeValue,xt,(vt.mode&1)!==0);break;case 5:vt.memoizedProps.suppressHydrationWarning!==!0&&Af(_t.nodeValue,xt,(vt.mode&1)!==0)}wt&&(ht.flags|=4)}else _t=(xt.nodeType===9?xt:xt.ownerDocument).createTextNode(_t),_t[Of]=ht,ht.stateNode=_t}return S$3(ht),null;case 13:if(E$2(L$2),_t=ht.memoizedState,vt===null||vt.memoizedState!==null&&vt.memoizedState.dehydrated!==null){if(I$3&&yg!==null&&ht.mode&1&&!(ht.flags&128))Hg(),Ig(),ht.flags|=98560,wt=!1;else if(wt=Gg(ht),_t!==null&&_t.dehydrated!==null){if(vt===null){if(!wt)throw Error(p$3(318));if(wt=ht.memoizedState,wt=wt!==null?wt.dehydrated:null,!wt)throw Error(p$3(317));wt[Of]=ht}else Ig(),!(ht.flags&128)&&(ht.memoizedState=null),ht.flags|=4;S$3(ht),wt=!1}else zg!==null&&(Fj(zg),zg=null),wt=!0;if(!wt)return ht.flags&65536?ht:null}return ht.flags&128?(ht.lanes=xt,ht):(_t=_t!==null,_t!==(vt!==null&&vt.memoizedState!==null)&&_t&&(ht.child.flags|=8192,ht.mode&1&&(vt===null||L$2.current&1?T$3===0&&(T$3=3):tj())),ht.updateQueue!==null&&(ht.flags|=4),S$3(ht),null);case 4:return zh(),Aj(vt,ht),vt===null&&sf(ht.stateNode.containerInfo),S$3(ht),null;case 10:return ah(ht.type._context),S$3(ht),null;case 17:return Zf(ht.type)&&$f(),S$3(ht),null;case 19:if(E$2(L$2),wt=ht.memoizedState,wt===null)return S$3(ht),null;if(_t=(ht.flags&128)!==0,Ct=wt.rendering,Ct===null)if(_t)Dj(wt,!1);else{if(T$3!==0||vt!==null&&vt.flags&128)for(vt=ht.child;vt!==null;){if(Ct=Ch(vt),Ct!==null){for(ht.flags|=128,Dj(wt,!1),_t=Ct.updateQueue,_t!==null&&(ht.updateQueue=_t,ht.flags|=4),ht.subtreeFlags=0,_t=xt,xt=ht.child;xt!==null;)wt=xt,vt=_t,wt.flags&=14680066,Ct=wt.alternate,Ct===null?(wt.childLanes=0,wt.lanes=vt,wt.child=null,wt.subtreeFlags=0,wt.memoizedProps=null,wt.memoizedState=null,wt.updateQueue=null,wt.dependencies=null,wt.stateNode=null):(wt.childLanes=Ct.childLanes,wt.lanes=Ct.lanes,wt.child=Ct.child,wt.subtreeFlags=0,wt.deletions=null,wt.memoizedProps=Ct.memoizedProps,wt.memoizedState=Ct.memoizedState,wt.updateQueue=Ct.updateQueue,wt.type=Ct.type,vt=Ct.dependencies,wt.dependencies=vt===null?null:{lanes:vt.lanes,firstContext:vt.firstContext}),xt=xt.sibling;return G$2(L$2,L$2.current&1|2),ht.child}vt=vt.sibling}wt.tail!==null&&B()>Gj&&(ht.flags|=128,_t=!0,Dj(wt,!1),ht.lanes=4194304)}else{if(!_t)if(vt=Ch(Ct),vt!==null){if(ht.flags|=128,_t=!0,xt=vt.updateQueue,xt!==null&&(ht.updateQueue=xt,ht.flags|=4),Dj(wt,!0),wt.tail===null&&wt.tailMode==="hidden"&&!Ct.alternate&&!I$3)return S$3(ht),null}else 2*B()-wt.renderingStartTime>Gj&&xt!==1073741824&&(ht.flags|=128,_t=!0,Dj(wt,!1),ht.lanes=4194304);wt.isBackwards?(Ct.sibling=ht.child,ht.child=Ct):(xt=wt.last,xt!==null?xt.sibling=Ct:ht.child=Ct,wt.last=Ct)}return wt.tail!==null?(ht=wt.tail,wt.rendering=ht,wt.tail=ht.sibling,wt.renderingStartTime=B(),ht.sibling=null,xt=L$2.current,G$2(L$2,_t?xt&1|2:xt&1),ht):(S$3(ht),null);case 22:case 23:return Hj(),_t=ht.memoizedState!==null,vt!==null&&vt.memoizedState!==null!==_t&&(ht.flags|=8192),_t&&ht.mode&1?fj&1073741824&&(S$3(ht),ht.subtreeFlags&6&&(ht.flags|=8192)):S$3(ht),null;case 24:return null;case 25:return null}throw Error(p$3(156,ht.tag))}function Ij(vt,ht){switch(wg(ht),ht.tag){case 1:return Zf(ht.type)&&$f(),vt=ht.flags,vt&65536?(ht.flags=vt&-65537|128,ht):null;case 3:return zh(),E$2(Wf),E$2(H$3),Eh(),vt=ht.flags,vt&65536&&!(vt&128)?(ht.flags=vt&-65537|128,ht):null;case 5:return Bh(ht),null;case 13:if(E$2(L$2),vt=ht.memoizedState,vt!==null&&vt.dehydrated!==null){if(ht.alternate===null)throw Error(p$3(340));Ig()}return vt=ht.flags,vt&65536?(ht.flags=vt&-65537|128,ht):null;case 19:return E$2(L$2),null;case 4:return zh(),null;case 10:return ah(ht.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U$3=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V$1=null;function Lj(vt,ht){var xt=vt.ref;if(xt!==null)if(typeof xt=="function")try{xt(null)}catch(_t){W$1(vt,ht,_t)}else xt.current=null}function Mj(vt,ht,xt){try{xt()}catch(_t){W$1(vt,ht,_t)}}var Nj=!1;function Oj(vt,ht){if(Cf=dd,vt=Me$1(),Ne(vt)){if("selectionStart"in vt)var xt={start:vt.selectionStart,end:vt.selectionEnd};else e:{xt=(xt=vt.ownerDocument)&&xt.defaultView||window;var _t=xt.getSelection&&xt.getSelection();if(_t&&_t.rangeCount!==0){xt=_t.anchorNode;var $t=_t.anchorOffset,wt=_t.focusNode;_t=_t.focusOffset;try{xt.nodeType,wt.nodeType}catch{xt=null;break e}var Ct=0,Pt=-1,bt=-1,Rt=0,Nt=0,kt=vt,Dt=null;t:for(;;){for(var Ot;kt!==xt||$t!==0&&kt.nodeType!==3||(Pt=Ct+$t),kt!==wt||_t!==0&&kt.nodeType!==3||(bt=Ct+_t),kt.nodeType===3&&(Ct+=kt.nodeValue.length),(Ot=kt.firstChild)!==null;)Dt=kt,kt=Ot;for(;;){if(kt===vt)break t;if(Dt===xt&&++Rt===$t&&(Pt=Ct),Dt===wt&&++Nt===_t&&(bt=Ct),(Ot=kt.nextSibling)!==null)break;kt=Dt,Dt=kt.parentNode}kt=Ot}xt=Pt===-1||bt===-1?null:{start:Pt,end:bt}}else xt=null}xt=xt||{start:0,end:0}}else xt=null;for(Df={focusedElem:vt,selectionRange:xt},dd=!1,V$1=ht;V$1!==null;)if(ht=V$1,vt=ht.child,(ht.subtreeFlags&1028)!==0&&vt!==null)vt.return=ht,V$1=vt;else for(;V$1!==null;){ht=V$1;try{var Lt=ht.alternate;if(ht.flags&1024)switch(ht.tag){case 0:case 11:case 15:break;case 1:if(Lt!==null){var Ft=Lt.memoizedProps,Ut=Lt.memoizedState,jt=ht.stateNode,Vt=jt.getSnapshotBeforeUpdate(ht.elementType===ht.type?Ft:Ci(ht.type,Ft),Ut);jt.__reactInternalSnapshotBeforeUpdate=Vt}break;case 3:var Bt=ht.stateNode.containerInfo;Bt.nodeType===1?Bt.textContent="":Bt.nodeType===9&&Bt.documentElement&&Bt.removeChild(Bt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$3(163))}}catch(Wt){W$1(ht,ht.return,Wt)}if(vt=ht.sibling,vt!==null){vt.return=ht.return,V$1=vt;break}V$1=ht.return}return Lt=Nj,Nj=!1,Lt}function Pj(vt,ht,xt){var _t=ht.updateQueue;if(_t=_t!==null?_t.lastEffect:null,_t!==null){var $t=_t=_t.next;do{if(($t.tag&vt)===vt){var wt=$t.destroy;$t.destroy=void 0,wt!==void 0&&Mj(ht,xt,wt)}$t=$t.next}while($t!==_t)}}function Qj(vt,ht){if(ht=ht.updateQueue,ht=ht!==null?ht.lastEffect:null,ht!==null){var xt=ht=ht.next;do{if((xt.tag&vt)===vt){var _t=xt.create;xt.destroy=_t()}xt=xt.next}while(xt!==ht)}}function Rj(vt){var ht=vt.ref;if(ht!==null){var xt=vt.stateNode;switch(vt.tag){case 5:vt=xt;break;default:vt=xt}typeof ht=="function"?ht(vt):ht.current=vt}}function Sj(vt){var ht=vt.alternate;ht!==null&&(vt.alternate=null,Sj(ht)),vt.child=null,vt.deletions=null,vt.sibling=null,vt.tag===5&&(ht=vt.stateNode,ht!==null&&(delete ht[Of],delete ht[Pf],delete ht[of],delete ht[Qf],delete ht[Rf])),vt.stateNode=null,vt.return=null,vt.dependencies=null,vt.memoizedProps=null,vt.memoizedState=null,vt.pendingProps=null,vt.stateNode=null,vt.updateQueue=null}function Tj(vt){return vt.tag===5||vt.tag===3||vt.tag===4}function Uj(vt){e:for(;;){for(;vt.sibling===null;){if(vt.return===null||Tj(vt.return))return null;vt=vt.return}for(vt.sibling.return=vt.return,vt=vt.sibling;vt.tag!==5&&vt.tag!==6&&vt.tag!==18;){if(vt.flags&2||vt.child===null||vt.tag===4)continue e;vt.child.return=vt,vt=vt.child}if(!(vt.flags&2))return vt.stateNode}}function Vj(vt,ht,xt){var _t=vt.tag;if(_t===5||_t===6)vt=vt.stateNode,ht?xt.nodeType===8?xt.parentNode.insertBefore(vt,ht):xt.insertBefore(vt,ht):(xt.nodeType===8?(ht=xt.parentNode,ht.insertBefore(vt,xt)):(ht=xt,ht.appendChild(vt)),xt=xt._reactRootContainer,xt!=null||ht.onclick!==null||(ht.onclick=Bf));else if(_t!==4&&(vt=vt.child,vt!==null))for(Vj(vt,ht,xt),vt=vt.sibling;vt!==null;)Vj(vt,ht,xt),vt=vt.sibling}function Wj(vt,ht,xt){var _t=vt.tag;if(_t===5||_t===6)vt=vt.stateNode,ht?xt.insertBefore(vt,ht):xt.appendChild(vt);else if(_t!==4&&(vt=vt.child,vt!==null))for(Wj(vt,ht,xt),vt=vt.sibling;vt!==null;)Wj(vt,ht,xt),vt=vt.sibling}var X$2=null,Xj=!1;function Yj(vt,ht,xt){for(xt=xt.child;xt!==null;)Zj(vt,ht,xt),xt=xt.sibling}function Zj(vt,ht,xt){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,xt)}catch{}switch(xt.tag){case 5:U$3||Lj(xt,ht);case 6:var _t=X$2,$t=Xj;X$2=null,Yj(vt,ht,xt),X$2=_t,Xj=$t,X$2!==null&&(Xj?(vt=X$2,xt=xt.stateNode,vt.nodeType===8?vt.parentNode.removeChild(xt):vt.removeChild(xt)):X$2.removeChild(xt.stateNode));break;case 18:X$2!==null&&(Xj?(vt=X$2,xt=xt.stateNode,vt.nodeType===8?Kf(vt.parentNode,xt):vt.nodeType===1&&Kf(vt,xt),bd(vt)):Kf(X$2,xt.stateNode));break;case 4:_t=X$2,$t=Xj,X$2=xt.stateNode.containerInfo,Xj=!0,Yj(vt,ht,xt),X$2=_t,Xj=$t;break;case 0:case 11:case 14:case 15:if(!U$3&&(_t=xt.updateQueue,_t!==null&&(_t=_t.lastEffect,_t!==null))){$t=_t=_t.next;do{var wt=$t,Ct=wt.destroy;wt=wt.tag,Ct!==void 0&&(wt&2||wt&4)&&Mj(xt,ht,Ct),$t=$t.next}while($t!==_t)}Yj(vt,ht,xt);break;case 1:if(!U$3&&(Lj(xt,ht),_t=xt.stateNode,typeof _t.componentWillUnmount=="function"))try{_t.props=xt.memoizedProps,_t.state=xt.memoizedState,_t.componentWillUnmount()}catch(Pt){W$1(xt,ht,Pt)}Yj(vt,ht,xt);break;case 21:Yj(vt,ht,xt);break;case 22:xt.mode&1?(U$3=(_t=U$3)||xt.memoizedState!==null,Yj(vt,ht,xt),U$3=_t):Yj(vt,ht,xt);break;default:Yj(vt,ht,xt)}}function ak(vt){var ht=vt.updateQueue;if(ht!==null){vt.updateQueue=null;var xt=vt.stateNode;xt===null&&(xt=vt.stateNode=new Kj),ht.forEach(function(_t){var $t=bk.bind(null,vt,_t);xt.has(_t)||(xt.add(_t),_t.then($t,$t))})}}function ck(vt,ht){var xt=ht.deletions;if(xt!==null)for(var _t=0;_t<xt.length;_t++){var $t=xt[_t];try{var wt=vt,Ct=ht,Pt=Ct;e:for(;Pt!==null;){switch(Pt.tag){case 5:X$2=Pt.stateNode,Xj=!1;break e;case 3:X$2=Pt.stateNode.containerInfo,Xj=!0;break e;case 4:X$2=Pt.stateNode.containerInfo,Xj=!0;break e}Pt=Pt.return}if(X$2===null)throw Error(p$3(160));Zj(wt,Ct,$t),X$2=null,Xj=!1;var bt=$t.alternate;bt!==null&&(bt.return=null),$t.return=null}catch(Rt){W$1($t,ht,Rt)}}if(ht.subtreeFlags&12854)for(ht=ht.child;ht!==null;)dk(ht,vt),ht=ht.sibling}function dk(vt,ht){var xt=vt.alternate,_t=vt.flags;switch(vt.tag){case 0:case 11:case 14:case 15:if(ck(ht,vt),ek(vt),_t&4){try{Pj(3,vt,vt.return),Qj(3,vt)}catch(Ft){W$1(vt,vt.return,Ft)}try{Pj(5,vt,vt.return)}catch(Ft){W$1(vt,vt.return,Ft)}}break;case 1:ck(ht,vt),ek(vt),_t&512&&xt!==null&&Lj(xt,xt.return);break;case 5:if(ck(ht,vt),ek(vt),_t&512&&xt!==null&&Lj(xt,xt.return),vt.flags&32){var $t=vt.stateNode;try{ob($t,"")}catch(Ft){W$1(vt,vt.return,Ft)}}if(_t&4&&($t=vt.stateNode,$t!=null)){var wt=vt.memoizedProps,Ct=xt!==null?xt.memoizedProps:wt,Pt=vt.type,bt=vt.updateQueue;if(vt.updateQueue=null,bt!==null)try{Pt==="input"&&wt.type==="radio"&&wt.name!=null&&ab($t,wt),vb(Pt,Ct);var Rt=vb(Pt,wt);for(Ct=0;Ct<bt.length;Ct+=2){var Nt=bt[Ct],kt=bt[Ct+1];Nt==="style"?sb($t,kt):Nt==="dangerouslySetInnerHTML"?nb($t,kt):Nt==="children"?ob($t,kt):ta($t,Nt,kt,Rt)}switch(Pt){case"input":bb($t,wt);break;case"textarea":ib($t,wt);break;case"select":var Dt=$t._wrapperState.wasMultiple;$t._wrapperState.wasMultiple=!!wt.multiple;var Ot=wt.value;Ot!=null?fb($t,!!wt.multiple,Ot,!1):Dt!==!!wt.multiple&&(wt.defaultValue!=null?fb($t,!!wt.multiple,wt.defaultValue,!0):fb($t,!!wt.multiple,wt.multiple?[]:"",!1))}$t[Pf]=wt}catch(Ft){W$1(vt,vt.return,Ft)}}break;case 6:if(ck(ht,vt),ek(vt),_t&4){if(vt.stateNode===null)throw Error(p$3(162));$t=vt.stateNode,wt=vt.memoizedProps;try{$t.nodeValue=wt}catch(Ft){W$1(vt,vt.return,Ft)}}break;case 3:if(ck(ht,vt),ek(vt),_t&4&&xt!==null&&xt.memoizedState.isDehydrated)try{bd(ht.containerInfo)}catch(Ft){W$1(vt,vt.return,Ft)}break;case 4:ck(ht,vt),ek(vt);break;case 13:ck(ht,vt),ek(vt),$t=vt.child,$t.flags&8192&&(wt=$t.memoizedState!==null,$t.stateNode.isHidden=wt,!wt||$t.alternate!==null&&$t.alternate.memoizedState!==null||(fk=B())),_t&4&&ak(vt);break;case 22:if(Nt=xt!==null&&xt.memoizedState!==null,vt.mode&1?(U$3=(Rt=U$3)||Nt,ck(ht,vt),U$3=Rt):ck(ht,vt),ek(vt),_t&8192){if(Rt=vt.memoizedState!==null,(vt.stateNode.isHidden=Rt)&&!Nt&&vt.mode&1)for(V$1=vt,Nt=vt.child;Nt!==null;){for(kt=V$1=Nt;V$1!==null;){switch(Dt=V$1,Ot=Dt.child,Dt.tag){case 0:case 11:case 14:case 15:Pj(4,Dt,Dt.return);break;case 1:Lj(Dt,Dt.return);var Lt=Dt.stateNode;if(typeof Lt.componentWillUnmount=="function"){_t=Dt,xt=Dt.return;try{ht=_t,Lt.props=ht.memoizedProps,Lt.state=ht.memoizedState,Lt.componentWillUnmount()}catch(Ft){W$1(_t,xt,Ft)}}break;case 5:Lj(Dt,Dt.return);break;case 22:if(Dt.memoizedState!==null){gk(kt);continue}}Ot!==null?(Ot.return=Dt,V$1=Ot):gk(kt)}Nt=Nt.sibling}e:for(Nt=null,kt=vt;;){if(kt.tag===5){if(Nt===null){Nt=kt;try{$t=kt.stateNode,Rt?(wt=$t.style,typeof wt.setProperty=="function"?wt.setProperty("display","none","important"):wt.display="none"):(Pt=kt.stateNode,bt=kt.memoizedProps.style,Ct=bt!=null&&bt.hasOwnProperty("display")?bt.display:null,Pt.style.display=rb("display",Ct))}catch(Ft){W$1(vt,vt.return,Ft)}}}else if(kt.tag===6){if(Nt===null)try{kt.stateNode.nodeValue=Rt?"":kt.memoizedProps}catch(Ft){W$1(vt,vt.return,Ft)}}else if((kt.tag!==22&&kt.tag!==23||kt.memoizedState===null||kt===vt)&&kt.child!==null){kt.child.return=kt,kt=kt.child;continue}if(kt===vt)break e;for(;kt.sibling===null;){if(kt.return===null||kt.return===vt)break e;Nt===kt&&(Nt=null),kt=kt.return}Nt===kt&&(Nt=null),kt.sibling.return=kt.return,kt=kt.sibling}}break;case 19:ck(ht,vt),ek(vt),_t&4&&ak(vt);break;case 21:break;default:ck(ht,vt),ek(vt)}}function ek(vt){var ht=vt.flags;if(ht&2){try{e:{for(var xt=vt.return;xt!==null;){if(Tj(xt)){var _t=xt;break e}xt=xt.return}throw Error(p$3(160))}switch(_t.tag){case 5:var $t=_t.stateNode;_t.flags&32&&(ob($t,""),_t.flags&=-33);var wt=Uj(vt);Wj(vt,wt,$t);break;case 3:case 4:var Ct=_t.stateNode.containerInfo,Pt=Uj(vt);Vj(vt,Pt,Ct);break;default:throw Error(p$3(161))}}catch(bt){W$1(vt,vt.return,bt)}vt.flags&=-3}ht&4096&&(vt.flags&=-4097)}function hk(vt,ht,xt){V$1=vt,ik(vt)}function ik(vt,ht,xt){for(var _t=(vt.mode&1)!==0;V$1!==null;){var $t=V$1,wt=$t.child;if($t.tag===22&&_t){var Ct=$t.memoizedState!==null||Jj;if(!Ct){var Pt=$t.alternate,bt=Pt!==null&&Pt.memoizedState!==null||U$3;Pt=Jj;var Rt=U$3;if(Jj=Ct,(U$3=bt)&&!Rt)for(V$1=$t;V$1!==null;)Ct=V$1,bt=Ct.child,Ct.tag===22&&Ct.memoizedState!==null?jk($t):bt!==null?(bt.return=Ct,V$1=bt):jk($t);for(;wt!==null;)V$1=wt,ik(wt),wt=wt.sibling;V$1=$t,Jj=Pt,U$3=Rt}kk(vt)}else $t.subtreeFlags&8772&&wt!==null?(wt.return=$t,V$1=wt):kk(vt)}}function kk(vt){for(;V$1!==null;){var ht=V$1;if(ht.flags&8772){var xt=ht.alternate;try{if(ht.flags&8772)switch(ht.tag){case 0:case 11:case 15:U$3||Qj(5,ht);break;case 1:var _t=ht.stateNode;if(ht.flags&4&&!U$3)if(xt===null)_t.componentDidMount();else{var $t=ht.elementType===ht.type?xt.memoizedProps:Ci(ht.type,xt.memoizedProps);_t.componentDidUpdate($t,xt.memoizedState,_t.__reactInternalSnapshotBeforeUpdate)}var wt=ht.updateQueue;wt!==null&&sh(ht,wt,_t);break;case 3:var Ct=ht.updateQueue;if(Ct!==null){if(xt=null,ht.child!==null)switch(ht.child.tag){case 5:xt=ht.child.stateNode;break;case 1:xt=ht.child.stateNode}sh(ht,Ct,xt)}break;case 5:var Pt=ht.stateNode;if(xt===null&&ht.flags&4){xt=Pt;var bt=ht.memoizedProps;switch(ht.type){case"button":case"input":case"select":case"textarea":bt.autoFocus&&xt.focus();break;case"img":bt.src&&(xt.src=bt.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(ht.memoizedState===null){var Rt=ht.alternate;if(Rt!==null){var Nt=Rt.memoizedState;if(Nt!==null){var kt=Nt.dehydrated;kt!==null&&bd(kt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$3(163))}U$3||ht.flags&512&&Rj(ht)}catch(Dt){W$1(ht,ht.return,Dt)}}if(ht===vt){V$1=null;break}if(xt=ht.sibling,xt!==null){xt.return=ht.return,V$1=xt;break}V$1=ht.return}}function gk(vt){for(;V$1!==null;){var ht=V$1;if(ht===vt){V$1=null;break}var xt=ht.sibling;if(xt!==null){xt.return=ht.return,V$1=xt;break}V$1=ht.return}}function jk(vt){for(;V$1!==null;){var ht=V$1;try{switch(ht.tag){case 0:case 11:case 15:var xt=ht.return;try{Qj(4,ht)}catch(bt){W$1(ht,xt,bt)}break;case 1:var _t=ht.stateNode;if(typeof _t.componentDidMount=="function"){var $t=ht.return;try{_t.componentDidMount()}catch(bt){W$1(ht,$t,bt)}}var wt=ht.return;try{Rj(ht)}catch(bt){W$1(ht,wt,bt)}break;case 5:var Ct=ht.return;try{Rj(ht)}catch(bt){W$1(ht,Ct,bt)}}}catch(bt){W$1(ht,ht.return,bt)}if(ht===vt){V$1=null;break}var Pt=ht.sibling;if(Pt!==null){Pt.return=ht.return,V$1=Pt;break}V$1=ht.return}}var lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok=ua.ReactCurrentBatchConfig,K$2=0,Q$1=null,Y=null,Z=0,fj=0,ej=Uf(0),T$3=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R$2(){return K$2&6?B():Ak!==-1?Ak:Ak=B()}function yi(vt){return vt.mode&1?K$2&2&&Z!==0?Z&-Z:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(vt=C$3,vt!==0||(vt=window.event,vt=vt===void 0?16:jd(vt.type)),vt):1}function gi(vt,ht,xt,_t){if(50<yk)throw yk=0,zk=null,Error(p$3(185));Ac(vt,xt,_t),(!(K$2&2)||vt!==Q$1)&&(vt===Q$1&&(!(K$2&2)&&(qk|=xt),T$3===4&&Ck(vt,Z)),Dk(vt,_t),xt===1&&K$2===0&&!(ht.mode&1)&&(Gj=B()+500,fg&&jg()))}function Dk(vt,ht){var xt=vt.callbackNode;wc(vt,ht);var _t=uc(vt,vt===Q$1?Z:0);if(_t===0)xt!==null&&bc(xt),vt.callbackNode=null,vt.callbackPriority=0;else if(ht=_t&-_t,vt.callbackPriority!==ht){if(xt!=null&&bc(xt),ht===1)vt.tag===0?ig(Ek.bind(null,vt)):hg(Ek.bind(null,vt)),Jf(function(){!(K$2&6)&&jg()}),xt=null;else{switch(Dc(_t)){case 1:xt=fc;break;case 4:xt=gc;break;case 16:xt=hc;break;case 536870912:xt=jc;break;default:xt=hc}xt=Fk(xt,Gk.bind(null,vt))}vt.callbackPriority=ht,vt.callbackNode=xt}}function Gk(vt,ht){if(Ak=-1,Bk=0,K$2&6)throw Error(p$3(327));var xt=vt.callbackNode;if(Hk()&&vt.callbackNode!==xt)return null;var _t=uc(vt,vt===Q$1?Z:0);if(_t===0)return null;if(_t&30||_t&vt.expiredLanes||ht)ht=Ik(vt,_t);else{ht=_t;var $t=K$2;K$2|=2;var wt=Jk();(Q$1!==vt||Z!==ht)&&(uk=null,Gj=B()+500,Kk(vt,ht));do try{Lk();break}catch(Pt){Mk(vt,Pt)}while(!0);$g(),mk.current=wt,K$2=$t,Y!==null?ht=0:(Q$1=null,Z=0,ht=T$3)}if(ht!==0){if(ht===2&&($t=xc(vt),$t!==0&&(_t=$t,ht=Nk(vt,$t))),ht===1)throw xt=pk,Kk(vt,0),Ck(vt,_t),Dk(vt,B()),xt;if(ht===6)Ck(vt,_t);else{if($t=vt.current.alternate,!(_t&30)&&!Ok($t)&&(ht=Ik(vt,_t),ht===2&&(wt=xc(vt),wt!==0&&(_t=wt,ht=Nk(vt,wt))),ht===1))throw xt=pk,Kk(vt,0),Ck(vt,_t),Dk(vt,B()),xt;switch(vt.finishedWork=$t,vt.finishedLanes=_t,ht){case 0:case 1:throw Error(p$3(345));case 2:Pk(vt,tk,uk);break;case 3:if(Ck(vt,_t),(_t&130023424)===_t&&(ht=fk+500-B(),10<ht)){if(uc(vt,0)!==0)break;if($t=vt.suspendedLanes,($t&_t)!==_t){R$2(),vt.pingedLanes|=vt.suspendedLanes&$t;break}vt.timeoutHandle=Ff(Pk.bind(null,vt,tk,uk),ht);break}Pk(vt,tk,uk);break;case 4:if(Ck(vt,_t),(_t&4194240)===_t)break;for(ht=vt.eventTimes,$t=-1;0<_t;){var Ct=31-oc(_t);wt=1<<Ct,Ct=ht[Ct],Ct>$t&&($t=Ct),_t&=~wt}if(_t=$t,_t=B()-_t,_t=(120>_t?120:480>_t?480:1080>_t?1080:1920>_t?1920:3e3>_t?3e3:4320>_t?4320:1960*lk(_t/1960))-_t,10<_t){vt.timeoutHandle=Ff(Pk.bind(null,vt,tk,uk),_t);break}Pk(vt,tk,uk);break;case 5:Pk(vt,tk,uk);break;default:throw Error(p$3(329))}}}return Dk(vt,B()),vt.callbackNode===xt?Gk.bind(null,vt):null}function Nk(vt,ht){var xt=sk;return vt.current.memoizedState.isDehydrated&&(Kk(vt,ht).flags|=256),vt=Ik(vt,ht),vt!==2&&(ht=tk,tk=xt,ht!==null&&Fj(ht)),vt}function Fj(vt){tk===null?tk=vt:tk.push.apply(tk,vt)}function Ok(vt){for(var ht=vt;;){if(ht.flags&16384){var xt=ht.updateQueue;if(xt!==null&&(xt=xt.stores,xt!==null))for(var _t=0;_t<xt.length;_t++){var $t=xt[_t],wt=$t.getSnapshot;$t=$t.value;try{if(!He$1(wt(),$t))return!1}catch{return!1}}}if(xt=ht.child,ht.subtreeFlags&16384&&xt!==null)xt.return=ht,ht=xt;else{if(ht===vt)break;for(;ht.sibling===null;){if(ht.return===null||ht.return===vt)return!0;ht=ht.return}ht.sibling.return=ht.return,ht=ht.sibling}}return!0}function Ck(vt,ht){for(ht&=~rk,ht&=~qk,vt.suspendedLanes|=ht,vt.pingedLanes&=~ht,vt=vt.expirationTimes;0<ht;){var xt=31-oc(ht),_t=1<<xt;vt[xt]=-1,ht&=~_t}}function Ek(vt){if(K$2&6)throw Error(p$3(327));Hk();var ht=uc(vt,0);if(!(ht&1))return Dk(vt,B()),null;var xt=Ik(vt,ht);if(vt.tag!==0&&xt===2){var _t=xc(vt);_t!==0&&(ht=_t,xt=Nk(vt,_t))}if(xt===1)throw xt=pk,Kk(vt,0),Ck(vt,ht),Dk(vt,B()),xt;if(xt===6)throw Error(p$3(345));return vt.finishedWork=vt.current.alternate,vt.finishedLanes=ht,Pk(vt,tk,uk),Dk(vt,B()),null}function Qk(vt,ht){var xt=K$2;K$2|=1;try{return vt(ht)}finally{K$2=xt,K$2===0&&(Gj=B()+500,fg&&jg())}}function Rk(vt){wk!==null&&wk.tag===0&&!(K$2&6)&&Hk();var ht=K$2;K$2|=1;var xt=ok.transition,_t=C$3;try{if(ok.transition=null,C$3=1,vt)return vt()}finally{C$3=_t,ok.transition=xt,K$2=ht,!(K$2&6)&&jg()}}function Hj(){fj=ej.current,E$2(ej)}function Kk(vt,ht){vt.finishedWork=null,vt.finishedLanes=0;var xt=vt.timeoutHandle;if(xt!==-1&&(vt.timeoutHandle=-1,Gf(xt)),Y!==null)for(xt=Y.return;xt!==null;){var _t=xt;switch(wg(_t),_t.tag){case 1:_t=_t.type.childContextTypes,_t!=null&&$f();break;case 3:zh(),E$2(Wf),E$2(H$3),Eh();break;case 5:Bh(_t);break;case 4:zh();break;case 13:E$2(L$2);break;case 19:E$2(L$2);break;case 10:ah(_t.type._context);break;case 22:case 23:Hj()}xt=xt.return}if(Q$1=vt,Y=vt=Pg(vt.current,null),Z=fj=ht,T$3=0,pk=null,rk=qk=rh=0,tk=sk=null,fh!==null){for(ht=0;ht<fh.length;ht++)if(xt=fh[ht],_t=xt.interleaved,_t!==null){xt.interleaved=null;var $t=_t.next,wt=xt.pending;if(wt!==null){var Ct=wt.next;wt.next=$t,_t.next=Ct}xt.pending=_t}fh=null}return vt}function Mk(vt,ht){do{var xt=Y;try{if($g(),Fh.current=Rh,Ih){for(var _t=M$3.memoizedState;_t!==null;){var $t=_t.queue;$t!==null&&($t.pending=null),_t=_t.next}Ih=!1}if(Hh=0,O$2=N$2=M$3=null,Jh=!1,Kh=0,nk.current=null,xt===null||xt.return===null){T$3=1,pk=ht,Y=null;break}e:{var wt=vt,Ct=xt.return,Pt=xt,bt=ht;if(ht=Z,Pt.flags|=32768,bt!==null&&typeof bt=="object"&&typeof bt.then=="function"){var Rt=bt,Nt=Pt,kt=Nt.tag;if(!(Nt.mode&1)&&(kt===0||kt===11||kt===15)){var Dt=Nt.alternate;Dt?(Nt.updateQueue=Dt.updateQueue,Nt.memoizedState=Dt.memoizedState,Nt.lanes=Dt.lanes):(Nt.updateQueue=null,Nt.memoizedState=null)}var Ot=Ui(Ct);if(Ot!==null){Ot.flags&=-257,Vi(Ot,Ct,Pt,wt,ht),Ot.mode&1&&Si(wt,Rt,ht),ht=Ot,bt=Rt;var Lt=ht.updateQueue;if(Lt===null){var Ft=new Set;Ft.add(bt),ht.updateQueue=Ft}else Lt.add(bt);break e}else{if(!(ht&1)){Si(wt,Rt,ht),tj();break e}bt=Error(p$3(426))}}else if(I$3&&Pt.mode&1){var Ut=Ui(Ct);if(Ut!==null){!(Ut.flags&65536)&&(Ut.flags|=256),Vi(Ut,Ct,Pt,wt,ht),Jg(Ji(bt,Pt));break e}}wt=bt=Ji(bt,Pt),T$3!==4&&(T$3=2),sk===null?sk=[wt]:sk.push(wt),wt=Ct;do{switch(wt.tag){case 3:wt.flags|=65536,ht&=-ht,wt.lanes|=ht;var jt=Ni(wt,bt,ht);ph(wt,jt);break e;case 1:Pt=bt;var Vt=wt.type,Bt=wt.stateNode;if(!(wt.flags&128)&&(typeof Vt.getDerivedStateFromError=="function"||Bt!==null&&typeof Bt.componentDidCatch=="function"&&(Ri===null||!Ri.has(Bt)))){wt.flags|=65536,ht&=-ht,wt.lanes|=ht;var Wt=Qi(wt,Pt,ht);ph(wt,Wt);break e}}wt=wt.return}while(wt!==null)}Sk(xt)}catch(zt){ht=zt,Y===xt&&xt!==null&&(Y=xt=xt.return);continue}break}while(!0)}function Jk(){var vt=mk.current;return mk.current=Rh,vt===null?Rh:vt}function tj(){(T$3===0||T$3===3||T$3===2)&&(T$3=4),Q$1===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q$1,Z)}function Ik(vt,ht){var xt=K$2;K$2|=2;var _t=Jk();(Q$1!==vt||Z!==ht)&&(uk=null,Kk(vt,ht));do try{Tk();break}catch($t){Mk(vt,$t)}while(!0);if($g(),K$2=xt,mk.current=_t,Y!==null)throw Error(p$3(261));return Q$1=null,Z=0,T$3}function Tk(){for(;Y!==null;)Uk(Y)}function Lk(){for(;Y!==null&&!cc();)Uk(Y)}function Uk(vt){var ht=Vk(vt.alternate,vt,fj);vt.memoizedProps=vt.pendingProps,ht===null?Sk(vt):Y=ht,nk.current=null}function Sk(vt){var ht=vt;do{var xt=ht.alternate;if(vt=ht.return,ht.flags&32768){if(xt=Ij(xt,ht),xt!==null){xt.flags&=32767,Y=xt;return}if(vt!==null)vt.flags|=32768,vt.subtreeFlags=0,vt.deletions=null;else{T$3=6,Y=null;return}}else if(xt=Ej(xt,ht,fj),xt!==null){Y=xt;return}if(ht=ht.sibling,ht!==null){Y=ht;return}Y=ht=vt}while(ht!==null);T$3===0&&(T$3=5)}function Pk(vt,ht,xt){var _t=C$3,$t=ok.transition;try{ok.transition=null,C$3=1,Wk(vt,ht,xt,_t)}finally{ok.transition=$t,C$3=_t}return null}function Wk(vt,ht,xt,_t){do Hk();while(wk!==null);if(K$2&6)throw Error(p$3(327));xt=vt.finishedWork;var $t=vt.finishedLanes;if(xt===null)return null;if(vt.finishedWork=null,vt.finishedLanes=0,xt===vt.current)throw Error(p$3(177));vt.callbackNode=null,vt.callbackPriority=0;var wt=xt.lanes|xt.childLanes;if(Bc(vt,wt),vt===Q$1&&(Y=Q$1=null,Z=0),!(xt.subtreeFlags&2064)&&!(xt.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),wt=(xt.flags&15990)!==0,xt.subtreeFlags&15990||wt){wt=ok.transition,ok.transition=null;var Ct=C$3;C$3=1;var Pt=K$2;K$2|=4,nk.current=null,Oj(vt,xt),dk(xt,vt),Oe(Df),dd=!!Cf,Df=Cf=null,vt.current=xt,hk(xt),dc(),K$2=Pt,C$3=Ct,ok.transition=wt}else vt.current=xt;if(vk&&(vk=!1,wk=vt,xk=$t),wt=vt.pendingLanes,wt===0&&(Ri=null),mc(xt.stateNode),Dk(vt,B()),ht!==null)for(_t=vt.onRecoverableError,xt=0;xt<ht.length;xt++)$t=ht[xt],_t($t.value,{componentStack:$t.stack,digest:$t.digest});if(Oi)throw Oi=!1,vt=Pi,Pi=null,vt;return xk&1&&vt.tag!==0&&Hk(),wt=vt.pendingLanes,wt&1?vt===zk?yk++:(yk=0,zk=vt):yk=0,jg(),null}function Hk(){if(wk!==null){var vt=Dc(xk),ht=ok.transition,xt=C$3;try{if(ok.transition=null,C$3=16>vt?16:vt,wk===null)var _t=!1;else{if(vt=wk,wk=null,xk=0,K$2&6)throw Error(p$3(331));var $t=K$2;for(K$2|=4,V$1=vt.current;V$1!==null;){var wt=V$1,Ct=wt.child;if(V$1.flags&16){var Pt=wt.deletions;if(Pt!==null){for(var bt=0;bt<Pt.length;bt++){var Rt=Pt[bt];for(V$1=Rt;V$1!==null;){var Nt=V$1;switch(Nt.tag){case 0:case 11:case 15:Pj(8,Nt,wt)}var kt=Nt.child;if(kt!==null)kt.return=Nt,V$1=kt;else for(;V$1!==null;){Nt=V$1;var Dt=Nt.sibling,Ot=Nt.return;if(Sj(Nt),Nt===Rt){V$1=null;break}if(Dt!==null){Dt.return=Ot,V$1=Dt;break}V$1=Ot}}}var Lt=wt.alternate;if(Lt!==null){var Ft=Lt.child;if(Ft!==null){Lt.child=null;do{var Ut=Ft.sibling;Ft.sibling=null,Ft=Ut}while(Ft!==null)}}V$1=wt}}if(wt.subtreeFlags&2064&&Ct!==null)Ct.return=wt,V$1=Ct;else e:for(;V$1!==null;){if(wt=V$1,wt.flags&2048)switch(wt.tag){case 0:case 11:case 15:Pj(9,wt,wt.return)}var jt=wt.sibling;if(jt!==null){jt.return=wt.return,V$1=jt;break e}V$1=wt.return}}var Vt=vt.current;for(V$1=Vt;V$1!==null;){Ct=V$1;var Bt=Ct.child;if(Ct.subtreeFlags&2064&&Bt!==null)Bt.return=Ct,V$1=Bt;else e:for(Ct=Vt;V$1!==null;){if(Pt=V$1,Pt.flags&2048)try{switch(Pt.tag){case 0:case 11:case 15:Qj(9,Pt)}}catch(zt){W$1(Pt,Pt.return,zt)}if(Pt===Ct){V$1=null;break e}var Wt=Pt.sibling;if(Wt!==null){Wt.return=Pt.return,V$1=Wt;break e}V$1=Pt.return}}if(K$2=$t,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,vt)}catch{}_t=!0}return _t}finally{C$3=xt,ok.transition=ht}}return!1}function Xk(vt,ht,xt){ht=Ji(xt,ht),ht=Ni(vt,ht,1),vt=nh(vt,ht,1),ht=R$2(),vt!==null&&(Ac(vt,1,ht),Dk(vt,ht))}function W$1(vt,ht,xt){if(vt.tag===3)Xk(vt,vt,xt);else for(;ht!==null;){if(ht.tag===3){Xk(ht,vt,xt);break}else if(ht.tag===1){var _t=ht.stateNode;if(typeof ht.type.getDerivedStateFromError=="function"||typeof _t.componentDidCatch=="function"&&(Ri===null||!Ri.has(_t))){vt=Ji(xt,vt),vt=Qi(ht,vt,1),ht=nh(ht,vt,1),vt=R$2(),ht!==null&&(Ac(ht,1,vt),Dk(ht,vt));break}}ht=ht.return}}function Ti(vt,ht,xt){var _t=vt.pingCache;_t!==null&&_t.delete(ht),ht=R$2(),vt.pingedLanes|=vt.suspendedLanes&xt,Q$1===vt&&(Z&xt)===xt&&(T$3===4||T$3===3&&(Z&130023424)===Z&&500>B()-fk?Kk(vt,0):rk|=xt),Dk(vt,ht)}function Yk(vt,ht){ht===0&&(vt.mode&1?(ht=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):ht=1);var xt=R$2();vt=ih(vt,ht),vt!==null&&(Ac(vt,ht,xt),Dk(vt,xt))}function uj(vt){var ht=vt.memoizedState,xt=0;ht!==null&&(xt=ht.retryLane),Yk(vt,xt)}function bk(vt,ht){var xt=0;switch(vt.tag){case 13:var _t=vt.stateNode,$t=vt.memoizedState;$t!==null&&(xt=$t.retryLane);break;case 19:_t=vt.stateNode;break;default:throw Error(p$3(314))}_t!==null&&_t.delete(ht),Yk(vt,xt)}var Vk;Vk=function(vt,ht,xt){if(vt!==null)if(vt.memoizedProps!==ht.pendingProps||Wf.current)dh=!0;else{if(!(vt.lanes&xt)&&!(ht.flags&128))return dh=!1,yj(vt,ht,xt);dh=!!(vt.flags&131072)}else dh=!1,I$3&&ht.flags&1048576&&ug(ht,ng,ht.index);switch(ht.lanes=0,ht.tag){case 2:var _t=ht.type;ij(vt,ht),vt=ht.pendingProps;var $t=Yf(ht,H$3.current);ch(ht,xt),$t=Nh(null,ht,_t,vt,$t,xt);var wt=Sh();return ht.flags|=1,typeof $t=="object"&&$t!==null&&typeof $t.render=="function"&&$t.$$typeof===void 0?(ht.tag=1,ht.memoizedState=null,ht.updateQueue=null,Zf(_t)?(wt=!0,cg(ht)):wt=!1,ht.memoizedState=$t.state!==null&&$t.state!==void 0?$t.state:null,kh(ht),$t.updater=Ei,ht.stateNode=$t,$t._reactInternals=ht,Ii(ht,_t,vt,xt),ht=jj(null,ht,_t,!0,wt,xt)):(ht.tag=0,I$3&&wt&&vg(ht),Xi(null,ht,$t,xt),ht=ht.child),ht;case 16:_t=ht.elementType;e:{switch(ij(vt,ht),vt=ht.pendingProps,$t=_t._init,_t=$t(_t._payload),ht.type=_t,$t=ht.tag=Zk(_t),vt=Ci(_t,vt),$t){case 0:ht=cj(null,ht,_t,vt,xt);break e;case 1:ht=hj(null,ht,_t,vt,xt);break e;case 11:ht=Yi(null,ht,_t,vt,xt);break e;case 14:ht=$i(null,ht,_t,Ci(_t.type,vt),xt);break e}throw Error(p$3(306,_t,""))}return ht;case 0:return _t=ht.type,$t=ht.pendingProps,$t=ht.elementType===_t?$t:Ci(_t,$t),cj(vt,ht,_t,$t,xt);case 1:return _t=ht.type,$t=ht.pendingProps,$t=ht.elementType===_t?$t:Ci(_t,$t),hj(vt,ht,_t,$t,xt);case 3:e:{if(kj(ht),vt===null)throw Error(p$3(387));_t=ht.pendingProps,wt=ht.memoizedState,$t=wt.element,lh(vt,ht),qh(ht,_t,null,xt);var Ct=ht.memoizedState;if(_t=Ct.element,wt.isDehydrated)if(wt={element:_t,isDehydrated:!1,cache:Ct.cache,pendingSuspenseBoundaries:Ct.pendingSuspenseBoundaries,transitions:Ct.transitions},ht.updateQueue.baseState=wt,ht.memoizedState=wt,ht.flags&256){$t=Ji(Error(p$3(423)),ht),ht=lj(vt,ht,_t,xt,$t);break e}else if(_t!==$t){$t=Ji(Error(p$3(424)),ht),ht=lj(vt,ht,_t,xt,$t);break e}else for(yg=Lf(ht.stateNode.containerInfo.firstChild),xg=ht,I$3=!0,zg=null,xt=Vg(ht,null,_t,xt),ht.child=xt;xt;)xt.flags=xt.flags&-3|4096,xt=xt.sibling;else{if(Ig(),_t===$t){ht=Zi(vt,ht,xt);break e}Xi(vt,ht,_t,xt)}ht=ht.child}return ht;case 5:return Ah(ht),vt===null&&Eg(ht),_t=ht.type,$t=ht.pendingProps,wt=vt!==null?vt.memoizedProps:null,Ct=$t.children,Ef(_t,$t)?Ct=null:wt!==null&&Ef(_t,wt)&&(ht.flags|=32),gj(vt,ht),Xi(vt,ht,Ct,xt),ht.child;case 6:return vt===null&&Eg(ht),null;case 13:return oj(vt,ht,xt);case 4:return yh(ht,ht.stateNode.containerInfo),_t=ht.pendingProps,vt===null?ht.child=Ug(ht,null,_t,xt):Xi(vt,ht,_t,xt),ht.child;case 11:return _t=ht.type,$t=ht.pendingProps,$t=ht.elementType===_t?$t:Ci(_t,$t),Yi(vt,ht,_t,$t,xt);case 7:return Xi(vt,ht,ht.pendingProps,xt),ht.child;case 8:return Xi(vt,ht,ht.pendingProps.children,xt),ht.child;case 12:return Xi(vt,ht,ht.pendingProps.children,xt),ht.child;case 10:e:{if(_t=ht.type._context,$t=ht.pendingProps,wt=ht.memoizedProps,Ct=$t.value,G$2(Wg,_t._currentValue),_t._currentValue=Ct,wt!==null)if(He$1(wt.value,Ct)){if(wt.children===$t.children&&!Wf.current){ht=Zi(vt,ht,xt);break e}}else for(wt=ht.child,wt!==null&&(wt.return=ht);wt!==null;){var Pt=wt.dependencies;if(Pt!==null){Ct=wt.child;for(var bt=Pt.firstContext;bt!==null;){if(bt.context===_t){if(wt.tag===1){bt=mh(-1,xt&-xt),bt.tag=2;var Rt=wt.updateQueue;if(Rt!==null){Rt=Rt.shared;var Nt=Rt.pending;Nt===null?bt.next=bt:(bt.next=Nt.next,Nt.next=bt),Rt.pending=bt}}wt.lanes|=xt,bt=wt.alternate,bt!==null&&(bt.lanes|=xt),bh(wt.return,xt,ht),Pt.lanes|=xt;break}bt=bt.next}}else if(wt.tag===10)Ct=wt.type===ht.type?null:wt.child;else if(wt.tag===18){if(Ct=wt.return,Ct===null)throw Error(p$3(341));Ct.lanes|=xt,Pt=Ct.alternate,Pt!==null&&(Pt.lanes|=xt),bh(Ct,xt,ht),Ct=wt.sibling}else Ct=wt.child;if(Ct!==null)Ct.return=wt;else for(Ct=wt;Ct!==null;){if(Ct===ht){Ct=null;break}if(wt=Ct.sibling,wt!==null){wt.return=Ct.return,Ct=wt;break}Ct=Ct.return}wt=Ct}Xi(vt,ht,$t.children,xt),ht=ht.child}return ht;case 9:return $t=ht.type,_t=ht.pendingProps.children,ch(ht,xt),$t=eh($t),_t=_t($t),ht.flags|=1,Xi(vt,ht,_t,xt),ht.child;case 14:return _t=ht.type,$t=Ci(_t,ht.pendingProps),$t=Ci(_t.type,$t),$i(vt,ht,_t,$t,xt);case 15:return bj(vt,ht,ht.type,ht.pendingProps,xt);case 17:return _t=ht.type,$t=ht.pendingProps,$t=ht.elementType===_t?$t:Ci(_t,$t),ij(vt,ht),ht.tag=1,Zf(_t)?(vt=!0,cg(ht)):vt=!1,ch(ht,xt),Gi(ht,_t,$t),Ii(ht,_t,$t,xt),jj(null,ht,_t,!0,vt,xt);case 19:return xj(vt,ht,xt);case 22:return dj(vt,ht,xt)}throw Error(p$3(156,ht.tag))};function Fk(vt,ht){return ac(vt,ht)}function $k(vt,ht,xt,_t){this.tag=vt,this.key=xt,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=ht,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=_t,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(vt,ht,xt,_t){return new $k(vt,ht,xt,_t)}function aj(vt){return vt=vt.prototype,!(!vt||!vt.isReactComponent)}function Zk(vt){if(typeof vt=="function")return aj(vt)?1:0;if(vt!=null){if(vt=vt.$$typeof,vt===Da)return 11;if(vt===Ga)return 14}return 2}function Pg(vt,ht){var xt=vt.alternate;return xt===null?(xt=Bg(vt.tag,ht,vt.key,vt.mode),xt.elementType=vt.elementType,xt.type=vt.type,xt.stateNode=vt.stateNode,xt.alternate=vt,vt.alternate=xt):(xt.pendingProps=ht,xt.type=vt.type,xt.flags=0,xt.subtreeFlags=0,xt.deletions=null),xt.flags=vt.flags&14680064,xt.childLanes=vt.childLanes,xt.lanes=vt.lanes,xt.child=vt.child,xt.memoizedProps=vt.memoizedProps,xt.memoizedState=vt.memoizedState,xt.updateQueue=vt.updateQueue,ht=vt.dependencies,xt.dependencies=ht===null?null:{lanes:ht.lanes,firstContext:ht.firstContext},xt.sibling=vt.sibling,xt.index=vt.index,xt.ref=vt.ref,xt}function Rg(vt,ht,xt,_t,$t,wt){var Ct=2;if(_t=vt,typeof vt=="function")aj(vt)&&(Ct=1);else if(typeof vt=="string")Ct=5;else e:switch(vt){case ya:return Tg(xt.children,$t,wt,ht);case za:Ct=8,$t|=8;break;case Aa:return vt=Bg(12,xt,ht,$t|2),vt.elementType=Aa,vt.lanes=wt,vt;case Ea:return vt=Bg(13,xt,ht,$t),vt.elementType=Ea,vt.lanes=wt,vt;case Fa:return vt=Bg(19,xt,ht,$t),vt.elementType=Fa,vt.lanes=wt,vt;case Ia:return pj(xt,$t,wt,ht);default:if(typeof vt=="object"&&vt!==null)switch(vt.$$typeof){case Ba:Ct=10;break e;case Ca:Ct=9;break e;case Da:Ct=11;break e;case Ga:Ct=14;break e;case Ha:Ct=16,_t=null;break e}throw Error(p$3(130,vt==null?vt:typeof vt,""))}return ht=Bg(Ct,xt,ht,$t),ht.elementType=vt,ht.type=_t,ht.lanes=wt,ht}function Tg(vt,ht,xt,_t){return vt=Bg(7,vt,_t,ht),vt.lanes=xt,vt}function pj(vt,ht,xt,_t){return vt=Bg(22,vt,_t,ht),vt.elementType=Ia,vt.lanes=xt,vt.stateNode={isHidden:!1},vt}function Qg(vt,ht,xt){return vt=Bg(6,vt,null,ht),vt.lanes=xt,vt}function Sg(vt,ht,xt){return ht=Bg(4,vt.children!==null?vt.children:[],vt.key,ht),ht.lanes=xt,ht.stateNode={containerInfo:vt.containerInfo,pendingChildren:null,implementation:vt.implementation},ht}function al(vt,ht,xt,_t,$t){this.tag=ht,this.containerInfo=vt,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=_t,this.onRecoverableError=$t,this.mutableSourceEagerHydrationData=null}function bl(vt,ht,xt,_t,$t,wt,Ct,Pt,bt){return vt=new al(vt,ht,xt,Pt,bt),ht===1?(ht=1,wt===!0&&(ht|=8)):ht=0,wt=Bg(3,null,null,ht),vt.current=wt,wt.stateNode=vt,wt.memoizedState={element:_t,isDehydrated:xt,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(wt),vt}function cl(vt,ht,xt){var _t=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:_t==null?null:""+_t,children:vt,containerInfo:ht,implementation:xt}}function dl(vt){if(!vt)return Vf;vt=vt._reactInternals;e:{if(Vb(vt)!==vt||vt.tag!==1)throw Error(p$3(170));var ht=vt;do{switch(ht.tag){case 3:ht=ht.stateNode.context;break e;case 1:if(Zf(ht.type)){ht=ht.stateNode.__reactInternalMemoizedMergedChildContext;break e}}ht=ht.return}while(ht!==null);throw Error(p$3(171))}if(vt.tag===1){var xt=vt.type;if(Zf(xt))return bg(vt,xt,ht)}return ht}function el(vt,ht,xt,_t,$t,wt,Ct,Pt,bt){return vt=bl(xt,_t,!0,vt,$t,wt,Ct,Pt,bt),vt.context=dl(null),xt=vt.current,_t=R$2(),$t=yi(xt),wt=mh(_t,$t),wt.callback=ht??null,nh(xt,wt,$t),vt.current.lanes=$t,Ac(vt,$t,_t),Dk(vt,_t),vt}function fl(vt,ht,xt,_t){var $t=ht.current,wt=R$2(),Ct=yi($t);return xt=dl(xt),ht.context===null?ht.context=xt:ht.pendingContext=xt,ht=mh(wt,Ct),ht.payload={element:vt},_t=_t===void 0?null:_t,_t!==null&&(ht.callback=_t),vt=nh($t,ht,Ct),vt!==null&&(gi(vt,$t,Ct,wt),oh(vt,$t,Ct)),Ct}function gl(vt){if(vt=vt.current,!vt.child)return null;switch(vt.child.tag){case 5:return vt.child.stateNode;default:return vt.child.stateNode}}function hl(vt,ht){if(vt=vt.memoizedState,vt!==null&&vt.dehydrated!==null){var xt=vt.retryLane;vt.retryLane=xt!==0&&xt<ht?xt:ht}}function il(vt,ht){hl(vt,ht),(vt=vt.alternate)&&hl(vt,ht)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(vt){console.error(vt)};function ll(vt){this._internalRoot=vt}ml.prototype.render=ll.prototype.render=function(vt){var ht=this._internalRoot;if(ht===null)throw Error(p$3(409));fl(vt,ht,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var vt=this._internalRoot;if(vt!==null){this._internalRoot=null;var ht=vt.containerInfo;Rk(function(){fl(null,vt,null,null)}),ht[uf]=null}};function ml(vt){this._internalRoot=vt}ml.prototype.unstable_scheduleHydration=function(vt){if(vt){var ht=Hc();vt={blockedOn:null,target:vt,priority:ht};for(var xt=0;xt<Qc.length&&ht!==0&&ht<Qc[xt].priority;xt++);Qc.splice(xt,0,vt),xt===0&&Vc(vt)}};function nl(vt){return!(!vt||vt.nodeType!==1&&vt.nodeType!==9&&vt.nodeType!==11)}function ol(vt){return!(!vt||vt.nodeType!==1&&vt.nodeType!==9&&vt.nodeType!==11&&(vt.nodeType!==8||vt.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(vt,ht,xt,_t,$t){if($t){if(typeof _t=="function"){var wt=_t;_t=function(){var Rt=gl(Ct);wt.call(Rt)}}var Ct=el(ht,_t,vt,0,null,!1,!1,"",pl);return vt._reactRootContainer=Ct,vt[uf]=Ct.current,sf(vt.nodeType===8?vt.parentNode:vt),Rk(),Ct}for(;$t=vt.lastChild;)vt.removeChild($t);if(typeof _t=="function"){var Pt=_t;_t=function(){var Rt=gl(bt);Pt.call(Rt)}}var bt=bl(vt,0,!1,null,null,!1,!1,"",pl);return vt._reactRootContainer=bt,vt[uf]=bt.current,sf(vt.nodeType===8?vt.parentNode:vt),Rk(function(){fl(ht,bt,xt,_t)}),bt}function rl(vt,ht,xt,_t,$t){var wt=xt._reactRootContainer;if(wt){var Ct=wt;if(typeof $t=="function"){var Pt=$t;$t=function(){var bt=gl(Ct);Pt.call(bt)}}fl(ht,Ct,vt,$t)}else Ct=ql(xt,ht,vt,$t,_t);return gl(Ct)}Ec=function(vt){switch(vt.tag){case 3:var ht=vt.stateNode;if(ht.current.memoizedState.isDehydrated){var xt=tc(ht.pendingLanes);xt!==0&&(Cc(ht,xt|1),Dk(ht,B()),!(K$2&6)&&(Gj=B()+500,jg()))}break;case 13:Rk(function(){var _t=ih(vt,1);if(_t!==null){var $t=R$2();gi(_t,vt,1,$t)}}),il(vt,1)}};Fc=function(vt){if(vt.tag===13){var ht=ih(vt,134217728);if(ht!==null){var xt=R$2();gi(ht,vt,134217728,xt)}il(vt,134217728)}};Gc=function(vt){if(vt.tag===13){var ht=yi(vt),xt=ih(vt,ht);if(xt!==null){var _t=R$2();gi(xt,vt,ht,_t)}il(vt,ht)}};Hc=function(){return C$3};Ic=function(vt,ht){var xt=C$3;try{return C$3=vt,ht()}finally{C$3=xt}};yb=function(vt,ht,xt){switch(ht){case"input":if(bb(vt,xt),ht=xt.name,xt.type==="radio"&&ht!=null){for(xt=vt;xt.parentNode;)xt=xt.parentNode;for(xt=xt.querySelectorAll("input[name="+JSON.stringify(""+ht)+'][type="radio"]'),ht=0;ht<xt.length;ht++){var _t=xt[ht];if(_t!==vt&&_t.form===vt.form){var $t=Db(_t);if(!$t)throw Error(p$3(90));Wa(_t),bb(_t,$t)}}}break;case"textarea":ib(vt,xt);break;case"select":ht=xt.value,ht!=null&&fb(vt,!!xt.multiple,ht,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue$1,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(vt){return vt=Zb(vt),vt===null?null:vt.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(vt,ht){var xt=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl(ht))throw Error(p$3(200));return cl(vt,ht,null,xt)};reactDom_production_min.createRoot=function(vt,ht){if(!nl(vt))throw Error(p$3(299));var xt=!1,_t="",$t=kl;return ht!=null&&(ht.unstable_strictMode===!0&&(xt=!0),ht.identifierPrefix!==void 0&&(_t=ht.identifierPrefix),ht.onRecoverableError!==void 0&&($t=ht.onRecoverableError)),ht=bl(vt,1,!1,null,null,xt,!1,_t,$t),vt[uf]=ht.current,sf(vt.nodeType===8?vt.parentNode:vt),new ll(ht)};reactDom_production_min.findDOMNode=function(vt){if(vt==null)return null;if(vt.nodeType===1)return vt;var ht=vt._reactInternals;if(ht===void 0)throw typeof vt.render=="function"?Error(p$3(188)):(vt=Object.keys(vt).join(","),Error(p$3(268,vt)));return vt=Zb(ht),vt=vt===null?null:vt.stateNode,vt};reactDom_production_min.flushSync=function(vt){return Rk(vt)};reactDom_production_min.hydrate=function(vt,ht,xt){if(!ol(ht))throw Error(p$3(200));return rl(null,vt,ht,!0,xt)};reactDom_production_min.hydrateRoot=function(vt,ht,xt){if(!nl(vt))throw Error(p$3(405));var _t=xt!=null&&xt.hydratedSources||null,$t=!1,wt="",Ct=kl;if(xt!=null&&(xt.unstable_strictMode===!0&&($t=!0),xt.identifierPrefix!==void 0&&(wt=xt.identifierPrefix),xt.onRecoverableError!==void 0&&(Ct=xt.onRecoverableError)),ht=el(ht,null,vt,1,xt??null,$t,!1,wt,Ct),vt[uf]=ht.current,sf(vt),_t)for(vt=0;vt<_t.length;vt++)xt=_t[vt],$t=xt._getVersion,$t=$t(xt._source),ht.mutableSourceEagerHydrationData==null?ht.mutableSourceEagerHydrationData=[xt,$t]:ht.mutableSourceEagerHydrationData.push(xt,$t);return new ml(ht)};reactDom_production_min.render=function(vt,ht,xt){if(!ol(ht))throw Error(p$3(200));return rl(null,vt,ht,!1,xt)};reactDom_production_min.unmountComponentAtNode=function(vt){if(!ol(vt))throw Error(p$3(40));return vt._reactRootContainer?(Rk(function(){rl(null,null,vt,!1,function(){vt._reactRootContainer=null,vt[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(vt,ht,xt,_t){if(!ol(xt))throw Error(p$3(200));if(vt==null||vt._reactInternals===void 0)throw Error(p$3(38));return rl(vt,ht,xt,!1,_t)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(vt){console.error(vt)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports,createRoot,m$4=reactDomExports;createRoot=m$4.createRoot,m$4.hydrateRoot;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$3(){return _extends$3=Object.assign?Object.assign.bind():function(vt){for(var ht=1;ht<arguments.length;ht++){var xt=arguments[ht];for(var _t in xt)Object.prototype.hasOwnProperty.call(xt,_t)&&(vt[_t]=xt[_t])}return vt},_extends$3.apply(this,arguments)}var Action;(function(vt){vt.Pop="POP",vt.Push="PUSH",vt.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createHashHistory(vt){vt===void 0&&(vt={});function ht($t,wt){let{pathname:Ct="/",search:Pt="",hash:bt=""}=parsePath($t.location.hash.substr(1));return!Ct.startsWith("/")&&!Ct.startsWith(".")&&(Ct="/"+Ct),createLocation("",{pathname:Ct,search:Pt,hash:bt},wt.state&&wt.state.usr||null,wt.state&&wt.state.key||"default")}function xt($t,wt){let Ct=$t.document.querySelector("base"),Pt="";if(Ct&&Ct.getAttribute("href")){let bt=$t.location.href,Rt=bt.indexOf("#");Pt=Rt===-1?bt:bt.slice(0,Rt)}return Pt+"#"+(typeof wt=="string"?wt:createPath(wt))}function _t($t,wt){warning($t.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(wt)+")")}return getUrlBasedHistory(ht,xt,_t,vt)}function invariant$2(vt,ht){if(vt===!1||vt===null||typeof vt>"u")throw new Error(ht)}function warning(vt,ht){if(!vt){typeof console<"u"&&console.warn(ht);try{throw new Error(ht)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(vt,ht){return{usr:vt.state,key:vt.key,idx:ht}}function createLocation(vt,ht,xt,_t){return xt===void 0&&(xt=null),_extends$3({pathname:typeof vt=="string"?vt:vt.pathname,search:"",hash:""},typeof ht=="string"?parsePath(ht):ht,{state:xt,key:ht&&ht.key||_t||createKey()})}function createPath(vt){let{pathname:ht="/",search:xt="",hash:_t=""}=vt;return xt&&xt!=="?"&&(ht+=xt.charAt(0)==="?"?xt:"?"+xt),_t&&_t!=="#"&&(ht+=_t.charAt(0)==="#"?_t:"#"+_t),ht}function parsePath(vt){let ht={};if(vt){let xt=vt.indexOf("#");xt>=0&&(ht.hash=vt.substr(xt),vt=vt.substr(0,xt));let _t=vt.indexOf("?");_t>=0&&(ht.search=vt.substr(_t),vt=vt.substr(0,_t)),vt&&(ht.pathname=vt)}return ht}function getUrlBasedHistory(vt,ht,xt,_t){_t===void 0&&(_t={});let{window:$t=document.defaultView,v5Compat:wt=!1}=_t,Ct=$t.history,Pt=Action.Pop,bt=null,Rt=Nt();Rt==null&&(Rt=0,Ct.replaceState(_extends$3({},Ct.state,{idx:Rt}),""));function Nt(){return(Ct.state||{idx:null}).idx}function kt(){Pt=Action.Pop;let Ut=Nt(),jt=Ut==null?null:Ut-Rt;Rt=Ut,bt&&bt({action:Pt,location:Ft.location,delta:jt})}function Dt(Ut,jt){Pt=Action.Push;let Vt=createLocation(Ft.location,Ut,jt);xt&&xt(Vt,Ut),Rt=Nt()+1;let Bt=getHistoryState(Vt,Rt),Wt=Ft.createHref(Vt);try{Ct.pushState(Bt,"",Wt)}catch(zt){if(zt instanceof DOMException&&zt.name==="DataCloneError")throw zt;$t.location.assign(Wt)}wt&&bt&&bt({action:Pt,location:Ft.location,delta:1})}function Ot(Ut,jt){Pt=Action.Replace;let Vt=createLocation(Ft.location,Ut,jt);xt&&xt(Vt,Ut),Rt=Nt();let Bt=getHistoryState(Vt,Rt),Wt=Ft.createHref(Vt);Ct.replaceState(Bt,"",Wt),wt&&bt&&bt({action:Pt,location:Ft.location,delta:0})}function Lt(Ut){let jt=$t.location.origin!=="null"?$t.location.origin:$t.location.href,Vt=typeof Ut=="string"?Ut:createPath(Ut);return Vt=Vt.replace(/ $/,"%20"),invariant$2(jt,"No window.location.(origin|href) available to create URL for href: "+Vt),new URL(Vt,jt)}let Ft={get action(){return Pt},get location(){return vt($t,Ct)},listen(Ut){if(bt)throw new Error("A history only accepts one active listener");return $t.addEventListener(PopStateEventType,kt),bt=Ut,()=>{$t.removeEventListener(PopStateEventType,kt),bt=null}},createHref(Ut){return ht($t,Ut)},createURL:Lt,encodeLocation(Ut){let jt=Lt(Ut);return{pathname:jt.pathname,search:jt.search,hash:jt.hash}},push:Dt,replace:Ot,go(Ut){return Ct.go(Ut)}};return Ft}var ResultType;(function(vt){vt.data="data",vt.deferred="deferred",vt.redirect="redirect",vt.error="error"})(ResultType||(ResultType={}));function matchRoutes(vt,ht,xt){return xt===void 0&&(xt="/"),matchRoutesImpl(vt,ht,xt,!1)}function matchRoutesImpl(vt,ht,xt,_t){let $t=typeof ht=="string"?parsePath(ht):ht,wt=stripBasename($t.pathname||"/",xt);if(wt==null)return null;let Ct=flattenRoutes(vt);rankRouteBranches(Ct);let Pt=null;for(let bt=0;Pt==null&&bt<Ct.length;++bt){let Rt=decodePath$1(wt);Pt=matchRouteBranch(Ct[bt],Rt,_t)}return Pt}function flattenRoutes(vt,ht,xt,_t){ht===void 0&&(ht=[]),xt===void 0&&(xt=[]),_t===void 0&&(_t="");let $t=(wt,Ct,Pt)=>{let bt={relativePath:Pt===void 0?wt.path||"":Pt,caseSensitive:wt.caseSensitive===!0,childrenIndex:Ct,route:wt};bt.relativePath.startsWith("/")&&(invariant$2(bt.relativePath.startsWith(_t),'Absolute route path "'+bt.relativePath+'" nested under path '+('"'+_t+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),bt.relativePath=bt.relativePath.slice(_t.length));let Rt=joinPaths([_t,bt.relativePath]),Nt=xt.concat(bt);wt.children&&wt.children.length>0&&(invariant$2(wt.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+Rt+'".')),flattenRoutes(wt.children,ht,Nt,Rt)),!(wt.path==null&&!wt.index)&&ht.push({path:Rt,score:computeScore(Rt,wt.index),routesMeta:Nt})};return vt.forEach((wt,Ct)=>{var Pt;if(wt.path===""||!((Pt=wt.path)!=null&&Pt.includes("?")))$t(wt,Ct);else for(let bt of explodeOptionalSegments(wt.path))$t(wt,Ct,bt)}),ht}function explodeOptionalSegments(vt){let ht=vt.split("/");if(ht.length===0)return[];let[xt,..._t]=ht,$t=xt.endsWith("?"),wt=xt.replace(/\?$/,"");if(_t.length===0)return $t?[wt,""]:[wt];let Ct=explodeOptionalSegments(_t.join("/")),Pt=[];return Pt.push(...Ct.map(bt=>bt===""?wt:[wt,bt].join("/"))),$t&&Pt.push(...Ct),Pt.map(bt=>vt.startsWith("/")&&bt===""?"/":bt)}function rankRouteBranches(vt){vt.sort((ht,xt)=>ht.score!==xt.score?xt.score-ht.score:compareIndexes(ht.routesMeta.map(_t=>_t.childrenIndex),xt.routesMeta.map(_t=>_t.childrenIndex)))}const paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=vt=>vt==="*";function computeScore(vt,ht){let xt=vt.split("/"),_t=xt.length;return xt.some(isSplat)&&(_t+=splatPenalty),ht&&(_t+=indexRouteValue),xt.filter($t=>!isSplat($t)).reduce(($t,wt)=>$t+(paramRe.test(wt)?dynamicSegmentValue:wt===""?emptySegmentValue:staticSegmentValue),_t)}function compareIndexes(vt,ht){return vt.length===ht.length&&vt.slice(0,-1).every((_t,$t)=>_t===ht[$t])?vt[vt.length-1]-ht[ht.length-1]:0}function matchRouteBranch(vt,ht,xt){let{routesMeta:_t}=vt,$t={},wt="/",Ct=[];for(let Pt=0;Pt<_t.length;++Pt){let bt=_t[Pt],Rt=Pt===_t.length-1,Nt=wt==="/"?ht:ht.slice(wt.length)||"/",kt=matchPath({path:bt.relativePath,caseSensitive:bt.caseSensitive,end:Rt},Nt),Dt=bt.route;if(!kt&&Rt&&xt&&!_t[_t.length-1].route.index&&(kt=matchPath({path:bt.relativePath,caseSensitive:bt.caseSensitive,end:!1},Nt)),!kt)return null;Object.assign($t,kt.params),Ct.push({params:$t,pathname:joinPaths([wt,kt.pathname]),pathnameBase:normalizePathname(joinPaths([wt,kt.pathnameBase])),route:Dt}),kt.pathnameBase!=="/"&&(wt=joinPaths([wt,kt.pathnameBase]))}return Ct}function matchPath(vt,ht){typeof vt=="string"&&(vt={path:vt,caseSensitive:!1,end:!0});let[xt,_t]=compilePath(vt.path,vt.caseSensitive,vt.end),$t=ht.match(xt);if(!$t)return null;let wt=$t[0],Ct=wt.replace(/(.)\/+$/,"$1"),Pt=$t.slice(1);return{params:_t.reduce((Rt,Nt,kt)=>{let{paramName:Dt,isOptional:Ot}=Nt;if(Dt==="*"){let Ft=Pt[kt]||"";Ct=wt.slice(0,wt.length-Ft.length).replace(/(.)\/+$/,"$1")}const Lt=Pt[kt];return Ot&&!Lt?Rt[Dt]=void 0:Rt[Dt]=(Lt||"").replace(/%2F/g,"/"),Rt},{}),pathname:wt,pathnameBase:Ct,pattern:vt}}function compilePath(vt,ht,xt){ht===void 0&&(ht=!1),xt===void 0&&(xt=!0),warning(vt==="*"||!vt.endsWith("*")||vt.endsWith("/*"),'Route path "'+vt+'" will be treated as if it were '+('"'+vt.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+vt.replace(/\*$/,"/*")+'".'));let _t=[],$t="^"+vt.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(Ct,Pt,bt)=>(_t.push({paramName:Pt,isOptional:bt!=null}),bt?"/?([^\\/]+)?":"/([^\\/]+)"));return vt.endsWith("*")?(_t.push({paramName:"*"}),$t+=vt==="*"||vt==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):xt?$t+="\\/*$":vt!==""&&vt!=="/"&&($t+="(?:(?=\\/|$))"),[new RegExp($t,ht?void 0:"i"),_t]}function decodePath$1(vt){try{return vt.split("/").map(ht=>decodeURIComponent(ht).replace(/\//g,"%2F")).join("/")}catch(ht){return warning(!1,'The URL path "'+vt+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+ht+").")),vt}}function stripBasename(vt,ht){if(ht==="/")return vt;if(!vt.toLowerCase().startsWith(ht.toLowerCase()))return null;let xt=ht.endsWith("/")?ht.length-1:ht.length,_t=vt.charAt(xt);return _t&&_t!=="/"?null:vt.slice(xt)||"/"}function resolvePath(vt,ht){ht===void 0&&(ht="/");let{pathname:xt,search:_t="",hash:$t=""}=typeof vt=="string"?parsePath(vt):vt;return{pathname:xt?xt.startsWith("/")?xt:resolvePathname(xt,ht):ht,search:normalizeSearch(_t),hash:normalizeHash($t)}}function resolvePathname(vt,ht){let xt=ht.replace(/\/+$/,"").split("/");return vt.split("/").forEach($t=>{$t===".."?xt.length>1&&xt.pop():$t!=="."&&xt.push($t)}),xt.length>1?xt.join("/"):"/"}function getInvalidPathError(vt,ht,xt,_t){return"Cannot include a '"+vt+"' character in a manually specified "+("`to."+ht+"` field ["+JSON.stringify(_t)+"].  Please separate it out to the ")+("`to."+xt+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(vt){return vt.filter((ht,xt)=>xt===0||ht.route.path&&ht.route.path.length>0)}function getResolveToMatches(vt,ht){let xt=getPathContributingMatches(vt);return ht?xt.map((_t,$t)=>$t===xt.length-1?_t.pathname:_t.pathnameBase):xt.map(_t=>_t.pathnameBase)}function resolveTo(vt,ht,xt,_t){_t===void 0&&(_t=!1);let $t;typeof vt=="string"?$t=parsePath(vt):($t=_extends$3({},vt),invariant$2(!$t.pathname||!$t.pathname.includes("?"),getInvalidPathError("?","pathname","search",$t)),invariant$2(!$t.pathname||!$t.pathname.includes("#"),getInvalidPathError("#","pathname","hash",$t)),invariant$2(!$t.search||!$t.search.includes("#"),getInvalidPathError("#","search","hash",$t)));let wt=vt===""||$t.pathname==="",Ct=wt?"/":$t.pathname,Pt;if(Ct==null)Pt=xt;else{let kt=ht.length-1;if(!_t&&Ct.startsWith("..")){let Dt=Ct.split("/");for(;Dt[0]==="..";)Dt.shift(),kt-=1;$t.pathname=Dt.join("/")}Pt=kt>=0?ht[kt]:"/"}let bt=resolvePath($t,Pt),Rt=Ct&&Ct!=="/"&&Ct.endsWith("/"),Nt=(wt||Ct===".")&&xt.endsWith("/");return!bt.pathname.endsWith("/")&&(Rt||Nt)&&(bt.pathname+="/"),bt}const joinPaths=vt=>vt.join("/").replace(/\/\/+/g,"/"),normalizePathname=vt=>vt.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=vt=>!vt||vt==="?"?"":vt.startsWith("?")?vt:"?"+vt,normalizeHash=vt=>!vt||vt==="#"?"":vt.startsWith("#")?vt:"#"+vt;function isRouteErrorResponse(vt){return vt!=null&&typeof vt.status=="number"&&typeof vt.statusText=="string"&&typeof vt.internal=="boolean"&&"data"in vt}const validMutationMethodsArr=["post","put","patch","delete"];new Set(validMutationMethodsArr);const validRequestMethodsArr=["get",...validMutationMethodsArr];new Set(validRequestMethodsArr);/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(vt){for(var ht=1;ht<arguments.length;ht++){var xt=arguments[ht];for(var _t in xt)Object.prototype.hasOwnProperty.call(xt,_t)&&(vt[_t]=xt[_t])}return vt},_extends$2.apply(this,arguments)}const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=reactExports.createContext(null);function useHref(vt,ht){let{relative:xt}=ht===void 0?{}:ht;useInRouterContext()||invariant$2(!1);let{basename:_t,navigator:$t}=reactExports.useContext(NavigationContext),{hash:wt,pathname:Ct,search:Pt}=useResolvedPath(vt,{relative:xt}),bt=Ct;return _t!=="/"&&(bt=Ct==="/"?_t:joinPaths([_t,Ct])),$t.createHref({pathname:bt,search:Pt,hash:wt})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant$2(!1),reactExports.useContext(LocationContext).location}function useIsomorphicLayoutEffect$2(vt){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(vt)}function useNavigate(){let{isDataRoute:vt}=reactExports.useContext(RouteContext);return vt?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){useInRouterContext()||invariant$2(!1);let vt=reactExports.useContext(DataRouterContext),{basename:ht,future:xt,navigator:_t}=reactExports.useContext(NavigationContext),{matches:$t}=reactExports.useContext(RouteContext),{pathname:wt}=useLocation(),Ct=JSON.stringify(getResolveToMatches($t,xt.v7_relativeSplatPath)),Pt=reactExports.useRef(!1);return useIsomorphicLayoutEffect$2(()=>{Pt.current=!0}),reactExports.useCallback(function(Rt,Nt){if(Nt===void 0&&(Nt={}),!Pt.current)return;if(typeof Rt=="number"){_t.go(Rt);return}let kt=resolveTo(Rt,JSON.parse(Ct),wt,Nt.relative==="path");vt==null&&ht!=="/"&&(kt.pathname=kt.pathname==="/"?ht:joinPaths([ht,kt.pathname])),(Nt.replace?_t.replace:_t.push)(kt,Nt.state,Nt)},[ht,_t,Ct,wt,vt])}function useResolvedPath(vt,ht){let{relative:xt}=ht===void 0?{}:ht,{future:_t}=reactExports.useContext(NavigationContext),{matches:$t}=reactExports.useContext(RouteContext),{pathname:wt}=useLocation(),Ct=JSON.stringify(getResolveToMatches($t,_t.v7_relativeSplatPath));return reactExports.useMemo(()=>resolveTo(vt,JSON.parse(Ct),wt,xt==="path"),[vt,Ct,wt,xt])}function useRoutes(vt,ht){return useRoutesImpl(vt,ht)}function useRoutesImpl(vt,ht,xt,_t){useInRouterContext()||invariant$2(!1);let{navigator:$t}=reactExports.useContext(NavigationContext),{matches:wt}=reactExports.useContext(RouteContext),Ct=wt[wt.length-1],Pt=Ct?Ct.params:{};Ct&&Ct.pathname;let bt=Ct?Ct.pathnameBase:"/";Ct&&Ct.route;let Rt=useLocation(),Nt;if(ht){var kt;let Ut=typeof ht=="string"?parsePath(ht):ht;bt==="/"||(kt=Ut.pathname)!=null&&kt.startsWith(bt)||invariant$2(!1),Nt=Ut}else Nt=Rt;let Dt=Nt.pathname||"/",Ot=Dt;if(bt!=="/"){let Ut=bt.replace(/^\//,"").split("/");Ot="/"+Dt.replace(/^\//,"").split("/").slice(Ut.length).join("/")}let Lt=matchRoutes(vt,{pathname:Ot}),Ft=_renderMatches(Lt&&Lt.map(Ut=>Object.assign({},Ut,{params:Object.assign({},Pt,Ut.params),pathname:joinPaths([bt,$t.encodeLocation?$t.encodeLocation(Ut.pathname).pathname:Ut.pathname]),pathnameBase:Ut.pathnameBase==="/"?bt:joinPaths([bt,$t.encodeLocation?$t.encodeLocation(Ut.pathnameBase).pathname:Ut.pathnameBase])})),wt,xt,_t);return ht&&Ft?reactExports.createElement(LocationContext.Provider,{value:{location:_extends$2({pathname:"/",search:"",hash:"",state:null,key:"default"},Nt),navigationType:Action.Pop}},Ft):Ft}function DefaultErrorComponent(){let vt=useRouteError(),ht=isRouteErrorResponse(vt)?vt.status+" "+vt.statusText:vt instanceof Error?vt.message:JSON.stringify(vt),xt=vt instanceof Error?vt.stack:null,$t={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},ht),xt?reactExports.createElement("pre",{style:$t},xt):null,null)}const defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends reactExports.Component{constructor(ht){super(ht),this.state={location:ht.location,revalidation:ht.revalidation,error:ht.error}}static getDerivedStateFromError(ht){return{error:ht}}static getDerivedStateFromProps(ht,xt){return xt.location!==ht.location||xt.revalidation!=="idle"&&ht.revalidation==="idle"?{error:ht.error,location:ht.location,revalidation:ht.revalidation}:{error:ht.error!==void 0?ht.error:xt.error,location:xt.location,revalidation:ht.revalidation||xt.revalidation}}componentDidCatch(ht,xt){console.error("React Router caught the following error during render",ht,xt)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(vt){let{routeContext:ht,match:xt,children:_t}=vt,$t=reactExports.useContext(DataRouterContext);return $t&&$t.static&&$t.staticContext&&(xt.route.errorElement||xt.route.ErrorBoundary)&&($t.staticContext._deepestRenderedBoundaryId=xt.route.id),reactExports.createElement(RouteContext.Provider,{value:ht},_t)}function _renderMatches(vt,ht,xt,_t){var $t;if(ht===void 0&&(ht=[]),xt===void 0&&(xt=null),_t===void 0&&(_t=null),vt==null){var wt;if(!xt)return null;if(xt.errors)vt=xt.matches;else if((wt=_t)!=null&&wt.v7_partialHydration&&ht.length===0&&!xt.initialized&&xt.matches.length>0)vt=xt.matches;else return null}let Ct=vt,Pt=($t=xt)==null?void 0:$t.errors;if(Pt!=null){let Nt=Ct.findIndex(kt=>kt.route.id&&(Pt==null?void 0:Pt[kt.route.id])!==void 0);Nt>=0||invariant$2(!1),Ct=Ct.slice(0,Math.min(Ct.length,Nt+1))}let bt=!1,Rt=-1;if(xt&&_t&&_t.v7_partialHydration)for(let Nt=0;Nt<Ct.length;Nt++){let kt=Ct[Nt];if((kt.route.HydrateFallback||kt.route.hydrateFallbackElement)&&(Rt=Nt),kt.route.id){let{loaderData:Dt,errors:Ot}=xt,Lt=kt.route.loader&&Dt[kt.route.id]===void 0&&(!Ot||Ot[kt.route.id]===void 0);if(kt.route.lazy||Lt){bt=!0,Rt>=0?Ct=Ct.slice(0,Rt+1):Ct=[Ct[0]];break}}}return Ct.reduceRight((Nt,kt,Dt)=>{let Ot,Lt=!1,Ft=null,Ut=null;xt&&(Ot=Pt&&kt.route.id?Pt[kt.route.id]:void 0,Ft=kt.route.errorElement||defaultErrorElement,bt&&(Rt<0&&Dt===0?(Lt=!0,Ut=null):Rt===Dt&&(Lt=!0,Ut=kt.route.hydrateFallbackElement||null)));let jt=ht.concat(Ct.slice(0,Dt+1)),Vt=()=>{let Bt;return Ot?Bt=Ft:Lt?Bt=Ut:kt.route.Component?Bt=reactExports.createElement(kt.route.Component,null):kt.route.element?Bt=kt.route.element:Bt=Nt,reactExports.createElement(RenderedRoute,{match:kt,routeContext:{outlet:Nt,matches:jt,isDataRoute:xt!=null},children:Bt})};return xt&&(kt.route.ErrorBoundary||kt.route.errorElement||Dt===0)?reactExports.createElement(RenderErrorBoundary,{location:xt.location,revalidation:xt.revalidation,component:Ft,error:Ot,children:Vt(),routeContext:{outlet:null,matches:jt,isDataRoute:!0}}):Vt()},null)}var DataRouterHook$1=function(vt){return vt.UseBlocker="useBlocker",vt.UseRevalidator="useRevalidator",vt.UseNavigateStable="useNavigate",vt}(DataRouterHook$1||{}),DataRouterStateHook$1=function(vt){return vt.UseBlocker="useBlocker",vt.UseLoaderData="useLoaderData",vt.UseActionData="useActionData",vt.UseRouteError="useRouteError",vt.UseNavigation="useNavigation",vt.UseRouteLoaderData="useRouteLoaderData",vt.UseMatches="useMatches",vt.UseRevalidator="useRevalidator",vt.UseNavigateStable="useNavigate",vt.UseRouteId="useRouteId",vt}(DataRouterStateHook$1||{});function useDataRouterContext(vt){let ht=reactExports.useContext(DataRouterContext);return ht||invariant$2(!1),ht}function useDataRouterState(vt){let ht=reactExports.useContext(DataRouterStateContext);return ht||invariant$2(!1),ht}function useRouteContext(vt){let ht=reactExports.useContext(RouteContext);return ht||invariant$2(!1),ht}function useCurrentRouteId(vt){let ht=useRouteContext(),xt=ht.matches[ht.matches.length-1];return xt.route.id||invariant$2(!1),xt.route.id}function useRouteError(){var vt;let ht=reactExports.useContext(RouteErrorContext),xt=useDataRouterState(DataRouterStateHook$1.UseRouteError),_t=useCurrentRouteId(DataRouterStateHook$1.UseRouteError);return ht!==void 0?ht:(vt=xt.errors)==null?void 0:vt[_t]}function useNavigateStable(){let{router:vt}=useDataRouterContext(DataRouterHook$1.UseNavigateStable),ht=useCurrentRouteId(DataRouterStateHook$1.UseNavigateStable),xt=reactExports.useRef(!1);return useIsomorphicLayoutEffect$2(()=>{xt.current=!0}),reactExports.useCallback(function($t,wt){wt===void 0&&(wt={}),xt.current&&(typeof $t=="number"?vt.navigate($t):vt.navigate($t,_extends$2({fromRouteId:ht},wt)))},[vt,ht])}const alreadyWarned={};function warnOnce(vt,ht){alreadyWarned[ht]||(alreadyWarned[ht]=!0,console.warn(ht))}const logDeprecation=(vt,ht,xt)=>warnOnce(vt," React Router Future Flag Warning: "+ht+". "+("You can use the `"+vt+"` future flag to opt-in early. ")+("For more information, see "+xt+"."));function logV6DeprecationWarnings(vt,ht){vt!=null&&vt.v7_startTransition||logDeprecation("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),!(vt!=null&&vt.v7_relativeSplatPath)&&!ht&&logDeprecation("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function Route(vt){invariant$2(!1)}function Router(vt){let{basename:ht="/",children:xt=null,location:_t,navigationType:$t=Action.Pop,navigator:wt,static:Ct=!1,future:Pt}=vt;useInRouterContext()&&invariant$2(!1);let bt=ht.replace(/^\/*/,"/"),Rt=reactExports.useMemo(()=>({basename:bt,navigator:wt,static:Ct,future:_extends$2({v7_relativeSplatPath:!1},Pt)}),[bt,Pt,wt,Ct]);typeof _t=="string"&&(_t=parsePath(_t));let{pathname:Nt="/",search:kt="",hash:Dt="",state:Ot=null,key:Lt="default"}=_t,Ft=reactExports.useMemo(()=>{let Ut=stripBasename(Nt,bt);return Ut==null?null:{location:{pathname:Ut,search:kt,hash:Dt,state:Ot,key:Lt},navigationType:$t}},[bt,Nt,kt,Dt,Ot,Lt,$t]);return Ft==null?null:reactExports.createElement(NavigationContext.Provider,{value:Rt},reactExports.createElement(LocationContext.Provider,{children:xt,value:Ft}))}function Routes(vt){let{children:ht,location:xt}=vt;return useRoutes(createRoutesFromChildren(ht),xt)}new Promise(()=>{});function createRoutesFromChildren(vt,ht){ht===void 0&&(ht=[]);let xt=[];return reactExports.Children.forEach(vt,(_t,$t)=>{if(!reactExports.isValidElement(_t))return;let wt=[...ht,$t];if(_t.type===reactExports.Fragment){xt.push.apply(xt,createRoutesFromChildren(_t.props.children,wt));return}_t.type!==Route&&invariant$2(!1),!_t.props.index||!_t.props.children||invariant$2(!1);let Ct={id:_t.props.id||wt.join("-"),caseSensitive:_t.props.caseSensitive,element:_t.props.element,Component:_t.props.Component,index:_t.props.index,path:_t.props.path,loader:_t.props.loader,action:_t.props.action,errorElement:_t.props.errorElement,ErrorBoundary:_t.props.ErrorBoundary,hasErrorBoundary:_t.props.ErrorBoundary!=null||_t.props.errorElement!=null,shouldRevalidate:_t.props.shouldRevalidate,handle:_t.props.handle,lazy:_t.props.lazy};_t.props.children&&(Ct.children=createRoutesFromChildren(_t.props.children,wt)),xt.push(Ct)}),xt}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(vt){for(var ht=1;ht<arguments.length;ht++){var xt=arguments[ht];for(var _t in xt)Object.prototype.hasOwnProperty.call(xt,_t)&&(vt[_t]=xt[_t])}return vt},_extends$1.apply(this,arguments)}function _objectWithoutPropertiesLoose$1(vt,ht){if(vt==null)return{};var xt={},_t=Object.keys(vt),$t,wt;for(wt=0;wt<_t.length;wt++)$t=_t[wt],!(ht.indexOf($t)>=0)&&(xt[$t]=vt[$t]);return xt}function isModifiedEvent(vt){return!!(vt.metaKey||vt.altKey||vt.ctrlKey||vt.shiftKey)}function shouldProcessLinkClick(vt,ht){return vt.button===0&&(!ht||ht==="_self")&&!isModifiedEvent(vt)}const _excluded$1=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],REACT_ROUTER_VERSION="6";try{window.__reactRouterVersion=REACT_ROUTER_VERSION}catch{}const START_TRANSITION="startTransition",startTransitionImpl=t$4[START_TRANSITION];function HashRouter(vt){let{basename:ht,children:xt,future:_t,window:$t}=vt,wt=reactExports.useRef();wt.current==null&&(wt.current=createHashHistory({window:$t,v5Compat:!0}));let Ct=wt.current,[Pt,bt]=reactExports.useState({action:Ct.action,location:Ct.location}),{v7_startTransition:Rt}=_t||{},Nt=reactExports.useCallback(kt=>{Rt&&startTransitionImpl?startTransitionImpl(()=>bt(kt)):bt(kt)},[bt,Rt]);return reactExports.useLayoutEffect(()=>Ct.listen(Nt),[Ct,Nt]),reactExports.useEffect(()=>logV6DeprecationWarnings(_t),[_t]),reactExports.createElement(Router,{basename:ht,children:xt,location:Pt.location,navigationType:Pt.action,navigator:Ct,future:_t})}const isBrowser$2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ABSOLUTE_URL_REGEX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link=reactExports.forwardRef(function(ht,xt){let{onClick:_t,relative:$t,reloadDocument:wt,replace:Ct,state:Pt,target:bt,to:Rt,preventScrollReset:Nt,viewTransition:kt}=ht,Dt=_objectWithoutPropertiesLoose$1(ht,_excluded$1),{basename:Ot}=reactExports.useContext(NavigationContext),Lt,Ft=!1;if(typeof Rt=="string"&&ABSOLUTE_URL_REGEX.test(Rt)&&(Lt=Rt,isBrowser$2))try{let Bt=new URL(window.location.href),Wt=Rt.startsWith("//")?new URL(Bt.protocol+Rt):new URL(Rt),zt=stripBasename(Wt.pathname,Ot);Wt.origin===Bt.origin&&zt!=null?Rt=zt+Wt.search+Wt.hash:Ft=!0}catch{}let Ut=useHref(Rt,{relative:$t}),jt=useLinkClickHandler(Rt,{replace:Ct,state:Pt,target:bt,preventScrollReset:Nt,relative:$t,viewTransition:kt});function Vt(Bt){_t&&_t(Bt),Bt.defaultPrevented||jt(Bt)}return reactExports.createElement("a",_extends$1({},Dt,{href:Lt||Ut,onClick:Ft||wt?_t:Vt,ref:xt,target:bt}))});var DataRouterHook;(function(vt){vt.UseScrollRestoration="useScrollRestoration",vt.UseSubmit="useSubmit",vt.UseSubmitFetcher="useSubmitFetcher",vt.UseFetcher="useFetcher",vt.useViewTransitionState="useViewTransitionState"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(vt){vt.UseFetcher="useFetcher",vt.UseFetchers="useFetchers",vt.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));function useLinkClickHandler(vt,ht){let{target:xt,replace:_t,state:$t,preventScrollReset:wt,relative:Ct,viewTransition:Pt}=ht===void 0?{}:ht,bt=useNavigate(),Rt=useLocation(),Nt=useResolvedPath(vt,{relative:Ct});return reactExports.useCallback(kt=>{if(shouldProcessLinkClick(kt,xt)){kt.preventDefault();let Dt=_t!==void 0?_t:createPath(Rt)===createPath(Nt);bt(vt,{replace:Dt,state:$t,preventScrollReset:wt,relative:Ct,viewTransition:Pt})}},[Rt,bt,Nt,_t,$t,xt,vt,wt,Ct,Pt])}var DefaultContext={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},IconContext=U$4.createContext&&U$4.createContext(DefaultContext),_excluded=["attr","size","title"];function _objectWithoutProperties(vt,ht){if(vt==null)return{};var xt=_objectWithoutPropertiesLoose(vt,ht),_t,$t;if(Object.getOwnPropertySymbols){var wt=Object.getOwnPropertySymbols(vt);for($t=0;$t<wt.length;$t++)_t=wt[$t],!(ht.indexOf(_t)>=0)&&Object.prototype.propertyIsEnumerable.call(vt,_t)&&(xt[_t]=vt[_t])}return xt}function _objectWithoutPropertiesLoose(vt,ht){if(vt==null)return{};var xt={};for(var _t in vt)if(Object.prototype.hasOwnProperty.call(vt,_t)){if(ht.indexOf(_t)>=0)continue;xt[_t]=vt[_t]}return xt}function _extends(){return _extends=Object.assign?Object.assign.bind():function(vt){for(var ht=1;ht<arguments.length;ht++){var xt=arguments[ht];for(var _t in xt)Object.prototype.hasOwnProperty.call(xt,_t)&&(vt[_t]=xt[_t])}return vt},_extends.apply(this,arguments)}function ownKeys(vt,ht){var xt=Object.keys(vt);if(Object.getOwnPropertySymbols){var _t=Object.getOwnPropertySymbols(vt);ht&&(_t=_t.filter(function($t){return Object.getOwnPropertyDescriptor(vt,$t).enumerable})),xt.push.apply(xt,_t)}return xt}function _objectSpread(vt){for(var ht=1;ht<arguments.length;ht++){var xt=arguments[ht]!=null?arguments[ht]:{};ht%2?ownKeys(Object(xt),!0).forEach(function(_t){_defineProperty(vt,_t,xt[_t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(vt,Object.getOwnPropertyDescriptors(xt)):ownKeys(Object(xt)).forEach(function(_t){Object.defineProperty(vt,_t,Object.getOwnPropertyDescriptor(xt,_t))})}return vt}function _defineProperty(vt,ht,xt){return ht=_toPropertyKey(ht),ht in vt?Object.defineProperty(vt,ht,{value:xt,enumerable:!0,configurable:!0,writable:!0}):vt[ht]=xt,vt}function _toPropertyKey(vt){var ht=_toPrimitive(vt,"string");return typeof ht=="symbol"?ht:ht+""}function _toPrimitive(vt,ht){if(typeof vt!="object"||!vt)return vt;var xt=vt[Symbol.toPrimitive];if(xt!==void 0){var _t=xt.call(vt,ht||"default");if(typeof _t!="object")return _t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(ht==="string"?String:Number)(vt)}function Tree2Element(vt){return vt&&vt.map((ht,xt)=>U$4.createElement(ht.tag,_objectSpread({key:xt},ht.attr),Tree2Element(ht.child)))}function GenIcon(vt){return ht=>U$4.createElement(IconBase,_extends({attr:_objectSpread({},vt.attr)},ht),Tree2Element(vt.child))}function IconBase(vt){var ht=xt=>{var{attr:_t,size:$t,title:wt}=vt,Ct=_objectWithoutProperties(vt,_excluded),Pt=$t||xt.size||"1em",bt;return xt.className&&(bt=xt.className),vt.className&&(bt=(bt?bt+" ":"")+vt.className),U$4.createElement("svg",_extends({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},xt.attr,_t,Ct,{className:bt,style:_objectSpread(_objectSpread({color:vt.color||xt.color},xt.style),vt.style),height:Pt,width:Pt,xmlns:"http://www.w3.org/2000/svg"}),wt&&U$4.createElement("title",null,wt),vt.children)};return IconContext!==void 0?U$4.createElement(IconContext.Consumer,null,xt=>ht(xt)):ht(DefaultContext)}function FaEyeSlash(vt){return GenIcon({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},child:[]}]})(vt)}function FaEye(vt){return GenIcon({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(vt)}var define_process_env_default$2={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CONSTANTS={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const assert=function(vt,ht){if(!vt)throw assertionError(ht)},assertionError=function(vt){return new Error("Firebase Database ("+CONSTANTS.SDK_VERSION+") INTERNAL ASSERT FAILED: "+vt)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const stringToByteArray$1=function(vt){const ht=[];let xt=0;for(let _t=0;_t<vt.length;_t++){let $t=vt.charCodeAt(_t);$t<128?ht[xt++]=$t:$t<2048?(ht[xt++]=$t>>6|192,ht[xt++]=$t&63|128):($t&64512)===55296&&_t+1<vt.length&&(vt.charCodeAt(_t+1)&64512)===56320?($t=65536+(($t&1023)<<10)+(vt.charCodeAt(++_t)&1023),ht[xt++]=$t>>18|240,ht[xt++]=$t>>12&63|128,ht[xt++]=$t>>6&63|128,ht[xt++]=$t&63|128):(ht[xt++]=$t>>12|224,ht[xt++]=$t>>6&63|128,ht[xt++]=$t&63|128)}return ht},byteArrayToString=function(vt){const ht=[];let xt=0,_t=0;for(;xt<vt.length;){const $t=vt[xt++];if($t<128)ht[_t++]=String.fromCharCode($t);else if($t>191&&$t<224){const wt=vt[xt++];ht[_t++]=String.fromCharCode(($t&31)<<6|wt&63)}else if($t>239&&$t<365){const wt=vt[xt++],Ct=vt[xt++],Pt=vt[xt++],bt=(($t&7)<<18|(wt&63)<<12|(Ct&63)<<6|Pt&63)-65536;ht[_t++]=String.fromCharCode(55296+(bt>>10)),ht[_t++]=String.fromCharCode(56320+(bt&1023))}else{const wt=vt[xt++],Ct=vt[xt++];ht[_t++]=String.fromCharCode(($t&15)<<12|(wt&63)<<6|Ct&63)}}return ht.join("")},base64={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(vt,ht){if(!Array.isArray(vt))throw Error("encodeByteArray takes an array as a parameter");this.init_();const xt=ht?this.byteToCharMapWebSafe_:this.byteToCharMap_,_t=[];for(let $t=0;$t<vt.length;$t+=3){const wt=vt[$t],Ct=$t+1<vt.length,Pt=Ct?vt[$t+1]:0,bt=$t+2<vt.length,Rt=bt?vt[$t+2]:0,Nt=wt>>2,kt=(wt&3)<<4|Pt>>4;let Dt=(Pt&15)<<2|Rt>>6,Ot=Rt&63;bt||(Ot=64,Ct||(Dt=64)),_t.push(xt[Nt],xt[kt],xt[Dt],xt[Ot])}return _t.join("")},encodeString(vt,ht){return this.HAS_NATIVE_SUPPORT&&!ht?btoa(vt):this.encodeByteArray(stringToByteArray$1(vt),ht)},decodeString(vt,ht){return this.HAS_NATIVE_SUPPORT&&!ht?atob(vt):byteArrayToString(this.decodeStringToByteArray(vt,ht))},decodeStringToByteArray(vt,ht){this.init_();const xt=ht?this.charToByteMapWebSafe_:this.charToByteMap_,_t=[];for(let $t=0;$t<vt.length;){const wt=xt[vt.charAt($t++)],Pt=$t<vt.length?xt[vt.charAt($t)]:0;++$t;const Rt=$t<vt.length?xt[vt.charAt($t)]:64;++$t;const kt=$t<vt.length?xt[vt.charAt($t)]:64;if(++$t,wt==null||Pt==null||Rt==null||kt==null)throw new DecodeBase64StringError;const Dt=wt<<2|Pt>>4;if(_t.push(Dt),Rt!==64){const Ot=Pt<<4&240|Rt>>2;if(_t.push(Ot),kt!==64){const Lt=Rt<<6&192|kt;_t.push(Lt)}}}return _t},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let vt=0;vt<this.ENCODED_VALS.length;vt++)this.byteToCharMap_[vt]=this.ENCODED_VALS.charAt(vt),this.charToByteMap_[this.byteToCharMap_[vt]]=vt,this.byteToCharMapWebSafe_[vt]=this.ENCODED_VALS_WEBSAFE.charAt(vt),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[vt]]=vt,vt>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(vt)]=vt,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(vt)]=vt)}}};class DecodeBase64StringError extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const base64Encode=function(vt){const ht=stringToByteArray$1(vt);return base64.encodeByteArray(ht,!0)},base64urlEncodeWithoutPadding=function(vt){return base64Encode(vt).replace(/\./g,"")},base64Decode=function(vt){try{return base64.decodeString(vt,!0)}catch(ht){console.error("base64Decode failed: ",ht)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function deepCopy(vt){return deepExtend(void 0,vt)}function deepExtend(vt,ht){if(!(ht instanceof Object))return ht;switch(ht.constructor){case Date:const xt=ht;return new Date(xt.getTime());case Object:vt===void 0&&(vt={});break;case Array:vt=[];break;default:return ht}for(const xt in ht)!ht.hasOwnProperty(xt)||!isValidKey$1(xt)||(vt[xt]=deepExtend(vt[xt],ht[xt]));return vt}function isValidKey$1(vt){return vt!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getGlobal(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const getDefaultsFromGlobal=()=>getGlobal().__FIREBASE_DEFAULTS__,getDefaultsFromEnvVariable=()=>{if(typeof process>"u"||typeof define_process_env_default$2>"u")return;const vt=define_process_env_default$2.__FIREBASE_DEFAULTS__;if(vt)return JSON.parse(vt)},getDefaultsFromCookie=()=>{if(typeof document>"u")return;let vt;try{vt=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const ht=vt&&base64Decode(vt[1]);return ht&&JSON.parse(ht)},getDefaults=()=>{try{return getDefaultsFromGlobal()||getDefaultsFromEnvVariable()||getDefaultsFromCookie()}catch(vt){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${vt}`);return}},getDefaultEmulatorHost=vt=>{var ht,xt;return(xt=(ht=getDefaults())===null||ht===void 0?void 0:ht.emulatorHosts)===null||xt===void 0?void 0:xt[vt]},getDefaultEmulatorHostnameAndPort=vt=>{const ht=getDefaultEmulatorHost(vt);if(!ht)return;const xt=ht.lastIndexOf(":");if(xt<=0||xt+1===ht.length)throw new Error(`Invalid host ${ht} with no separate hostname and port!`);const _t=parseInt(ht.substring(xt+1),10);return ht[0]==="["?[ht.substring(1,xt-1),_t]:[ht.substring(0,xt),_t]},getDefaultAppConfig=()=>{var vt;return(vt=getDefaults())===null||vt===void 0?void 0:vt.config},getExperimentalSetting=vt=>{var ht;return(ht=getDefaults())===null||ht===void 0?void 0:ht[`_${vt}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Deferred{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ht,xt)=>{this.resolve=ht,this.reject=xt})}wrapCallback(ht){return(xt,_t)=>{xt?this.reject(xt):this.resolve(_t),typeof ht=="function"&&(this.promise.catch(()=>{}),ht.length===1?ht(xt):ht(xt,_t))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function createMockUserToken(vt,ht){if(vt.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const xt={alg:"none",type:"JWT"},_t=ht||"demo-project",$t=vt.iat||0,wt=vt.sub||vt.user_id;if(!wt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ct=Object.assign({iss:`https://securetoken.google.com/${_t}`,aud:_t,iat:$t,exp:$t+3600,auth_time:$t,sub:wt,user_id:wt,firebase:{sign_in_provider:"custom",identities:{}}},vt);return[base64urlEncodeWithoutPadding(JSON.stringify(xt)),base64urlEncodeWithoutPadding(JSON.stringify(Ct)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getUA(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function isMobileCordova(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(getUA())}function isCloudflareWorker(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function isBrowserExtension(){const vt=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof vt=="object"&&vt.id!==void 0}function isReactNative(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function isIE(){const vt=getUA();return vt.indexOf("MSIE ")>=0||vt.indexOf("Trident/")>=0}function isNodeSdk(){return CONSTANTS.NODE_ADMIN===!0}function isIndexedDBAvailable(){try{return typeof indexedDB=="object"}catch{return!1}}function validateIndexedDBOpenable(){return new Promise((vt,ht)=>{try{let xt=!0;const _t="validate-browser-context-for-indexeddb-analytics-module",$t=self.indexedDB.open(_t);$t.onsuccess=()=>{$t.result.close(),xt||self.indexedDB.deleteDatabase(_t),vt(!0)},$t.onupgradeneeded=()=>{xt=!1},$t.onerror=()=>{var wt;ht(((wt=$t.error)===null||wt===void 0?void 0:wt.message)||"")}}catch(xt){ht(xt)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERROR_NAME="FirebaseError";class FirebaseError extends Error{constructor(ht,xt,_t){super(xt),this.code=ht,this.customData=_t,this.name=ERROR_NAME,Object.setPrototypeOf(this,FirebaseError.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ErrorFactory.prototype.create)}}class ErrorFactory{constructor(ht,xt,_t){this.service=ht,this.serviceName=xt,this.errors=_t}create(ht,...xt){const _t=xt[0]||{},$t=`${this.service}/${ht}`,wt=this.errors[ht],Ct=wt?replaceTemplate(wt,_t):"Error",Pt=`${this.serviceName}: ${Ct} (${$t}).`;return new FirebaseError($t,Pt,_t)}}function replaceTemplate(vt,ht){return vt.replace(PATTERN,(xt,_t)=>{const $t=ht[_t];return $t!=null?String($t):`<${_t}?>`})}const PATTERN=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jsonEval(vt){return JSON.parse(vt)}function stringify(vt){return JSON.stringify(vt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const decode=function(vt){let ht={},xt={},_t={},$t="";try{const wt=vt.split(".");ht=jsonEval(base64Decode(wt[0])||""),xt=jsonEval(base64Decode(wt[1])||""),$t=wt[2],_t=xt.d||{},delete xt.d}catch{}return{header:ht,claims:xt,data:_t,signature:$t}},isValidFormat=function(vt){const ht=decode(vt),xt=ht.claims;return!!xt&&typeof xt=="object"&&xt.hasOwnProperty("iat")},isAdmin=function(vt){const ht=decode(vt).claims;return typeof ht=="object"&&ht.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function contains(vt,ht){return Object.prototype.hasOwnProperty.call(vt,ht)}function safeGet(vt,ht){if(Object.prototype.hasOwnProperty.call(vt,ht))return vt[ht]}function isEmpty(vt){for(const ht in vt)if(Object.prototype.hasOwnProperty.call(vt,ht))return!1;return!0}function map(vt,ht,xt){const _t={};for(const $t in vt)Object.prototype.hasOwnProperty.call(vt,$t)&&(_t[$t]=ht.call(xt,vt[$t],$t,vt));return _t}function deepEqual$1(vt,ht){if(vt===ht)return!0;const xt=Object.keys(vt),_t=Object.keys(ht);for(const $t of xt){if(!_t.includes($t))return!1;const wt=vt[$t],Ct=ht[$t];if(isObject(wt)&&isObject(Ct)){if(!deepEqual$1(wt,Ct))return!1}else if(wt!==Ct)return!1}for(const $t of _t)if(!xt.includes($t))return!1;return!0}function isObject(vt){return vt!==null&&typeof vt=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function querystring(vt){const ht=[];for(const[xt,_t]of Object.entries(vt))Array.isArray(_t)?_t.forEach($t=>{ht.push(encodeURIComponent(xt)+"="+encodeURIComponent($t))}):ht.push(encodeURIComponent(xt)+"="+encodeURIComponent(_t));return ht.length?"&"+ht.join("&"):""}function querystringDecode(vt){const ht={};return vt.replace(/^\?/,"").split("&").forEach(_t=>{if(_t){const[$t,wt]=_t.split("=");ht[decodeURIComponent($t)]=decodeURIComponent(wt)}}),ht}function extractQuerystring(vt){const ht=vt.indexOf("?");if(!ht)return"";const xt=vt.indexOf("#",ht);return vt.substring(ht,xt>0?xt:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sha1{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let ht=1;ht<this.blockSize;++ht)this.pad_[ht]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(ht,xt){xt||(xt=0);const _t=this.W_;if(typeof ht=="string")for(let kt=0;kt<16;kt++)_t[kt]=ht.charCodeAt(xt)<<24|ht.charCodeAt(xt+1)<<16|ht.charCodeAt(xt+2)<<8|ht.charCodeAt(xt+3),xt+=4;else for(let kt=0;kt<16;kt++)_t[kt]=ht[xt]<<24|ht[xt+1]<<16|ht[xt+2]<<8|ht[xt+3],xt+=4;for(let kt=16;kt<80;kt++){const Dt=_t[kt-3]^_t[kt-8]^_t[kt-14]^_t[kt-16];_t[kt]=(Dt<<1|Dt>>>31)&4294967295}let $t=this.chain_[0],wt=this.chain_[1],Ct=this.chain_[2],Pt=this.chain_[3],bt=this.chain_[4],Rt,Nt;for(let kt=0;kt<80;kt++){kt<40?kt<20?(Rt=Pt^wt&(Ct^Pt),Nt=1518500249):(Rt=wt^Ct^Pt,Nt=1859775393):kt<60?(Rt=wt&Ct|Pt&(wt|Ct),Nt=2400959708):(Rt=wt^Ct^Pt,Nt=3395469782);const Dt=($t<<5|$t>>>27)+Rt+bt+Nt+_t[kt]&4294967295;bt=Pt,Pt=Ct,Ct=(wt<<30|wt>>>2)&4294967295,wt=$t,$t=Dt}this.chain_[0]=this.chain_[0]+$t&4294967295,this.chain_[1]=this.chain_[1]+wt&4294967295,this.chain_[2]=this.chain_[2]+Ct&4294967295,this.chain_[3]=this.chain_[3]+Pt&4294967295,this.chain_[4]=this.chain_[4]+bt&4294967295}update(ht,xt){if(ht==null)return;xt===void 0&&(xt=ht.length);const _t=xt-this.blockSize;let $t=0;const wt=this.buf_;let Ct=this.inbuf_;for(;$t<xt;){if(Ct===0)for(;$t<=_t;)this.compress_(ht,$t),$t+=this.blockSize;if(typeof ht=="string"){for(;$t<xt;)if(wt[Ct]=ht.charCodeAt($t),++Ct,++$t,Ct===this.blockSize){this.compress_(wt),Ct=0;break}}else for(;$t<xt;)if(wt[Ct]=ht[$t],++Ct,++$t,Ct===this.blockSize){this.compress_(wt),Ct=0;break}}this.inbuf_=Ct,this.total_+=xt}digest(){const ht=[];let xt=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let $t=this.blockSize-1;$t>=56;$t--)this.buf_[$t]=xt&255,xt/=256;this.compress_(this.buf_);let _t=0;for(let $t=0;$t<5;$t++)for(let wt=24;wt>=0;wt-=8)ht[_t]=this.chain_[$t]>>wt&255,++_t;return ht}}function createSubscribe(vt,ht){const xt=new ObserverProxy(vt,ht);return xt.subscribe.bind(xt)}class ObserverProxy{constructor(ht,xt){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=xt,this.task.then(()=>{ht(this)}).catch(_t=>{this.error(_t)})}next(ht){this.forEachObserver(xt=>{xt.next(ht)})}error(ht){this.forEachObserver(xt=>{xt.error(ht)}),this.close(ht)}complete(){this.forEachObserver(ht=>{ht.complete()}),this.close()}subscribe(ht,xt,_t){let $t;if(ht===void 0&&xt===void 0&&_t===void 0)throw new Error("Missing Observer.");implementsAnyMethods(ht,["next","error","complete"])?$t=ht:$t={next:ht,error:xt,complete:_t},$t.next===void 0&&($t.next=noop$2),$t.error===void 0&&($t.error=noop$2),$t.complete===void 0&&($t.complete=noop$2);const wt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?$t.error(this.finalError):$t.complete()}catch{}}),this.observers.push($t),wt}unsubscribeOne(ht){this.observers===void 0||this.observers[ht]===void 0||(delete this.observers[ht],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(ht){if(!this.finalized)for(let xt=0;xt<this.observers.length;xt++)this.sendOne(xt,ht)}sendOne(ht,xt){this.task.then(()=>{if(this.observers!==void 0&&this.observers[ht]!==void 0)try{xt(this.observers[ht])}catch(_t){typeof console<"u"&&console.error&&console.error(_t)}})}close(ht){this.finalized||(this.finalized=!0,ht!==void 0&&(this.finalError=ht),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function implementsAnyMethods(vt,ht){if(typeof vt!="object"||vt===null)return!1;for(const xt of ht)if(xt in vt&&typeof vt[xt]=="function")return!0;return!1}function noop$2(){}function errorPrefix(vt,ht){return`${vt} failed: ${ht} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const stringToByteArray=function(vt){const ht=[];let xt=0;for(let _t=0;_t<vt.length;_t++){let $t=vt.charCodeAt(_t);if($t>=55296&&$t<=56319){const wt=$t-55296;_t++,assert(_t<vt.length,"Surrogate pair missing trail surrogate.");const Ct=vt.charCodeAt(_t)-56320;$t=65536+(wt<<10)+Ct}$t<128?ht[xt++]=$t:$t<2048?(ht[xt++]=$t>>6|192,ht[xt++]=$t&63|128):$t<65536?(ht[xt++]=$t>>12|224,ht[xt++]=$t>>6&63|128,ht[xt++]=$t&63|128):(ht[xt++]=$t>>18|240,ht[xt++]=$t>>12&63|128,ht[xt++]=$t>>6&63|128,ht[xt++]=$t&63|128)}return ht},stringLength=function(vt){let ht=0;for(let xt=0;xt<vt.length;xt++){const _t=vt.charCodeAt(xt);_t<128?ht++:_t<2048?ht+=2:_t>=55296&&_t<=56319?(ht+=4,xt++):ht+=3}return ht};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getModularInstance(vt){return vt&&vt._delegate?vt._delegate:vt}class Component{constructor(ht,xt,_t){this.name=ht,this.instanceFactory=xt,this.type=_t,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ht){return this.instantiationMode=ht,this}setMultipleInstances(ht){return this.multipleInstances=ht,this}setServiceProps(ht){return this.serviceProps=ht,this}setInstanceCreatedCallback(ht){return this.onInstanceCreated=ht,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME$1="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Provider{constructor(ht,xt){this.name=ht,this.container=xt,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ht){const xt=this.normalizeInstanceIdentifier(ht);if(!this.instancesDeferred.has(xt)){const _t=new Deferred;if(this.instancesDeferred.set(xt,_t),this.isInitialized(xt)||this.shouldAutoInitialize())try{const $t=this.getOrInitializeService({instanceIdentifier:xt});$t&&_t.resolve($t)}catch{}}return this.instancesDeferred.get(xt).promise}getImmediate(ht){var xt;const _t=this.normalizeInstanceIdentifier(ht==null?void 0:ht.identifier),$t=(xt=ht==null?void 0:ht.optional)!==null&&xt!==void 0?xt:!1;if(this.isInitialized(_t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:_t})}catch(wt){if($t)return null;throw wt}else{if($t)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(ht){if(ht.name!==this.name)throw Error(`Mismatching Component ${ht.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ht,!!this.shouldAutoInitialize()){if(isComponentEager(ht))try{this.getOrInitializeService({instanceIdentifier:DEFAULT_ENTRY_NAME$1})}catch{}for(const[xt,_t]of this.instancesDeferred.entries()){const $t=this.normalizeInstanceIdentifier(xt);try{const wt=this.getOrInitializeService({instanceIdentifier:$t});_t.resolve(wt)}catch{}}}}clearInstance(ht=DEFAULT_ENTRY_NAME$1){this.instancesDeferred.delete(ht),this.instancesOptions.delete(ht),this.instances.delete(ht)}async delete(){const ht=Array.from(this.instances.values());await Promise.all([...ht.filter(xt=>"INTERNAL"in xt).map(xt=>xt.INTERNAL.delete()),...ht.filter(xt=>"_delete"in xt).map(xt=>xt._delete())])}isComponentSet(){return this.component!=null}isInitialized(ht=DEFAULT_ENTRY_NAME$1){return this.instances.has(ht)}getOptions(ht=DEFAULT_ENTRY_NAME$1){return this.instancesOptions.get(ht)||{}}initialize(ht={}){const{options:xt={}}=ht,_t=this.normalizeInstanceIdentifier(ht.instanceIdentifier);if(this.isInitialized(_t))throw Error(`${this.name}(${_t}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const $t=this.getOrInitializeService({instanceIdentifier:_t,options:xt});for(const[wt,Ct]of this.instancesDeferred.entries()){const Pt=this.normalizeInstanceIdentifier(wt);_t===Pt&&Ct.resolve($t)}return $t}onInit(ht,xt){var _t;const $t=this.normalizeInstanceIdentifier(xt),wt=(_t=this.onInitCallbacks.get($t))!==null&&_t!==void 0?_t:new Set;wt.add(ht),this.onInitCallbacks.set($t,wt);const Ct=this.instances.get($t);return Ct&&ht(Ct,$t),()=>{wt.delete(ht)}}invokeOnInitCallbacks(ht,xt){const _t=this.onInitCallbacks.get(xt);if(_t)for(const $t of _t)try{$t(ht,xt)}catch{}}getOrInitializeService({instanceIdentifier:ht,options:xt={}}){let _t=this.instances.get(ht);if(!_t&&this.component&&(_t=this.component.instanceFactory(this.container,{instanceIdentifier:normalizeIdentifierForFactory(ht),options:xt}),this.instances.set(ht,_t),this.instancesOptions.set(ht,xt),this.invokeOnInitCallbacks(_t,ht),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ht,_t)}catch{}return _t||null}normalizeInstanceIdentifier(ht=DEFAULT_ENTRY_NAME$1){return this.component?this.component.multipleInstances?ht:DEFAULT_ENTRY_NAME$1:ht}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function normalizeIdentifierForFactory(vt){return vt===DEFAULT_ENTRY_NAME$1?void 0:vt}function isComponentEager(vt){return vt.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ComponentContainer{constructor(ht){this.name=ht,this.providers=new Map}addComponent(ht){const xt=this.getProvider(ht.name);if(xt.isComponentSet())throw new Error(`Component ${ht.name} has already been registered with ${this.name}`);xt.setComponent(ht)}addOrOverwriteComponent(ht){this.getProvider(ht.name).isComponentSet()&&this.providers.delete(ht.name),this.addComponent(ht)}getProvider(ht){if(this.providers.has(ht))return this.providers.get(ht);const xt=new Provider(ht,this);return this.providers.set(ht,xt),xt}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LogLevel;(function(vt){vt[vt.DEBUG=0]="DEBUG",vt[vt.VERBOSE=1]="VERBOSE",vt[vt.INFO=2]="INFO",vt[vt.WARN=3]="WARN",vt[vt.ERROR=4]="ERROR",vt[vt.SILENT=5]="SILENT"})(LogLevel||(LogLevel={}));const levelStringToEnum={debug:LogLevel.DEBUG,verbose:LogLevel.VERBOSE,info:LogLevel.INFO,warn:LogLevel.WARN,error:LogLevel.ERROR,silent:LogLevel.SILENT},defaultLogLevel=LogLevel.INFO,ConsoleMethod={[LogLevel.DEBUG]:"log",[LogLevel.VERBOSE]:"log",[LogLevel.INFO]:"info",[LogLevel.WARN]:"warn",[LogLevel.ERROR]:"error"},defaultLogHandler=(vt,ht,...xt)=>{if(ht<vt.logLevel)return;const _t=new Date().toISOString(),$t=ConsoleMethod[ht];if($t)console[$t](`[${_t}]  ${vt.name}:`,...xt);else throw new Error(`Attempted to log a message with an invalid logType (value: ${ht})`)};class Logger{constructor(ht){this.name=ht,this._logLevel=defaultLogLevel,this._logHandler=defaultLogHandler,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(ht){if(!(ht in LogLevel))throw new TypeError(`Invalid value "${ht}" assigned to \`logLevel\``);this._logLevel=ht}setLogLevel(ht){this._logLevel=typeof ht=="string"?levelStringToEnum[ht]:ht}get logHandler(){return this._logHandler}set logHandler(ht){if(typeof ht!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ht}get userLogHandler(){return this._userLogHandler}set userLogHandler(ht){this._userLogHandler=ht}debug(...ht){this._userLogHandler&&this._userLogHandler(this,LogLevel.DEBUG,...ht),this._logHandler(this,LogLevel.DEBUG,...ht)}log(...ht){this._userLogHandler&&this._userLogHandler(this,LogLevel.VERBOSE,...ht),this._logHandler(this,LogLevel.VERBOSE,...ht)}info(...ht){this._userLogHandler&&this._userLogHandler(this,LogLevel.INFO,...ht),this._logHandler(this,LogLevel.INFO,...ht)}warn(...ht){this._userLogHandler&&this._userLogHandler(this,LogLevel.WARN,...ht),this._logHandler(this,LogLevel.WARN,...ht)}error(...ht){this._userLogHandler&&this._userLogHandler(this,LogLevel.ERROR,...ht),this._logHandler(this,LogLevel.ERROR,...ht)}}const instanceOfAny=(vt,ht)=>ht.some(xt=>vt instanceof xt);let idbProxyableTypes,cursorAdvanceMethods;function getIdbProxyableTypes(){return idbProxyableTypes||(idbProxyableTypes=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function getCursorAdvanceMethods(){return cursorAdvanceMethods||(cursorAdvanceMethods=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cursorRequestMap=new WeakMap,transactionDoneMap=new WeakMap,transactionStoreNamesMap=new WeakMap,transformCache=new WeakMap,reverseTransformCache=new WeakMap;function promisifyRequest(vt){const ht=new Promise((xt,_t)=>{const $t=()=>{vt.removeEventListener("success",wt),vt.removeEventListener("error",Ct)},wt=()=>{xt(wrap(vt.result)),$t()},Ct=()=>{_t(vt.error),$t()};vt.addEventListener("success",wt),vt.addEventListener("error",Ct)});return ht.then(xt=>{xt instanceof IDBCursor&&cursorRequestMap.set(xt,vt)}).catch(()=>{}),reverseTransformCache.set(ht,vt),ht}function cacheDonePromiseForTransaction(vt){if(transactionDoneMap.has(vt))return;const ht=new Promise((xt,_t)=>{const $t=()=>{vt.removeEventListener("complete",wt),vt.removeEventListener("error",Ct),vt.removeEventListener("abort",Ct)},wt=()=>{xt(),$t()},Ct=()=>{_t(vt.error||new DOMException("AbortError","AbortError")),$t()};vt.addEventListener("complete",wt),vt.addEventListener("error",Ct),vt.addEventListener("abort",Ct)});transactionDoneMap.set(vt,ht)}let idbProxyTraps={get(vt,ht,xt){if(vt instanceof IDBTransaction){if(ht==="done")return transactionDoneMap.get(vt);if(ht==="objectStoreNames")return vt.objectStoreNames||transactionStoreNamesMap.get(vt);if(ht==="store")return xt.objectStoreNames[1]?void 0:xt.objectStore(xt.objectStoreNames[0])}return wrap(vt[ht])},set(vt,ht,xt){return vt[ht]=xt,!0},has(vt,ht){return vt instanceof IDBTransaction&&(ht==="done"||ht==="store")?!0:ht in vt}};function replaceTraps(vt){idbProxyTraps=vt(idbProxyTraps)}function wrapFunction(vt){return vt===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(ht,...xt){const _t=vt.call(unwrap(this),ht,...xt);return transactionStoreNamesMap.set(_t,ht.sort?ht.sort():[ht]),wrap(_t)}:getCursorAdvanceMethods().includes(vt)?function(...ht){return vt.apply(unwrap(this),ht),wrap(cursorRequestMap.get(this))}:function(...ht){return wrap(vt.apply(unwrap(this),ht))}}function transformCachableValue(vt){return typeof vt=="function"?wrapFunction(vt):(vt instanceof IDBTransaction&&cacheDonePromiseForTransaction(vt),instanceOfAny(vt,getIdbProxyableTypes())?new Proxy(vt,idbProxyTraps):vt)}function wrap(vt){if(vt instanceof IDBRequest)return promisifyRequest(vt);if(transformCache.has(vt))return transformCache.get(vt);const ht=transformCachableValue(vt);return ht!==vt&&(transformCache.set(vt,ht),reverseTransformCache.set(ht,vt)),ht}const unwrap=vt=>reverseTransformCache.get(vt);function openDB(vt,ht,{blocked:xt,upgrade:_t,blocking:$t,terminated:wt}={}){const Ct=indexedDB.open(vt,ht),Pt=wrap(Ct);return _t&&Ct.addEventListener("upgradeneeded",bt=>{_t(wrap(Ct.result),bt.oldVersion,bt.newVersion,wrap(Ct.transaction),bt)}),xt&&Ct.addEventListener("blocked",bt=>xt(bt.oldVersion,bt.newVersion,bt)),Pt.then(bt=>{wt&&bt.addEventListener("close",()=>wt()),$t&&bt.addEventListener("versionchange",Rt=>$t(Rt.oldVersion,Rt.newVersion,Rt))}).catch(()=>{}),Pt}const readMethods=["get","getKey","getAll","getAllKeys","count"],writeMethods=["put","add","delete","clear"],cachedMethods=new Map;function getMethod(vt,ht){if(!(vt instanceof IDBDatabase&&!(ht in vt)&&typeof ht=="string"))return;if(cachedMethods.get(ht))return cachedMethods.get(ht);const xt=ht.replace(/FromIndex$/,""),_t=ht!==xt,$t=writeMethods.includes(xt);if(!(xt in(_t?IDBIndex:IDBObjectStore).prototype)||!($t||readMethods.includes(xt)))return;const wt=async function(Ct,...Pt){const bt=this.transaction(Ct,$t?"readwrite":"readonly");let Rt=bt.store;return _t&&(Rt=Rt.index(Pt.shift())),(await Promise.all([Rt[xt](...Pt),$t&&bt.done]))[0]};return cachedMethods.set(ht,wt),wt}replaceTraps(vt=>({...vt,get:(ht,xt,_t)=>getMethod(ht,xt)||vt.get(ht,xt,_t),has:(ht,xt)=>!!getMethod(ht,xt)||vt.has(ht,xt)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PlatformLoggerServiceImpl{constructor(ht){this.container=ht}getPlatformInfoString(){return this.container.getProviders().map(xt=>{if(isVersionServiceProvider(xt)){const _t=xt.getImmediate();return`${_t.library}/${_t.version}`}else return null}).filter(xt=>xt).join(" ")}}function isVersionServiceProvider(vt){const ht=vt.getComponent();return(ht==null?void 0:ht.type)==="VERSION"}const name$q="@firebase/app",version$1$1="0.10.16";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logger$1=new Logger("@firebase/app"),name$p="@firebase/app-compat",name$o="@firebase/analytics-compat",name$n="@firebase/analytics",name$m="@firebase/app-check-compat",name$l="@firebase/app-check",name$k="@firebase/auth",name$j="@firebase/auth-compat",name$i="@firebase/database",name$h="@firebase/data-connect",name$g="@firebase/database-compat",name$f="@firebase/functions",name$e="@firebase/functions-compat",name$d="@firebase/installations",name$c="@firebase/installations-compat",name$b="@firebase/messaging",name$a="@firebase/messaging-compat",name$9="@firebase/performance",name$8="@firebase/performance-compat",name$7="@firebase/remote-config",name$6="@firebase/remote-config-compat",name$5="@firebase/storage",name$4="@firebase/storage-compat",name$3="@firebase/firestore",name$2$1="@firebase/vertexai",name$1$1="@firebase/firestore-compat",name$r="firebase",version$3="11.0.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME="[DEFAULT]",PLATFORM_LOG_STRING={[name$q]:"fire-core",[name$p]:"fire-core-compat",[name$n]:"fire-analytics",[name$o]:"fire-analytics-compat",[name$l]:"fire-app-check",[name$m]:"fire-app-check-compat",[name$k]:"fire-auth",[name$j]:"fire-auth-compat",[name$i]:"fire-rtdb",[name$h]:"fire-data-connect",[name$g]:"fire-rtdb-compat",[name$f]:"fire-fn",[name$e]:"fire-fn-compat",[name$d]:"fire-iid",[name$c]:"fire-iid-compat",[name$b]:"fire-fcm",[name$a]:"fire-fcm-compat",[name$9]:"fire-perf",[name$8]:"fire-perf-compat",[name$7]:"fire-rc",[name$6]:"fire-rc-compat",[name$5]:"fire-gcs",[name$4]:"fire-gcs-compat",[name$3]:"fire-fst",[name$1$1]:"fire-fst-compat",[name$2$1]:"fire-vertex","fire-js":"fire-js",[name$r]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _apps=new Map,_serverApps=new Map,_components=new Map;function _addComponent(vt,ht){try{vt.container.addComponent(ht)}catch(xt){logger$1.debug(`Component ${ht.name} failed to register with FirebaseApp ${vt.name}`,xt)}}function _registerComponent(vt){const ht=vt.name;if(_components.has(ht))return logger$1.debug(`There were multiple attempts to register component ${ht}.`),!1;_components.set(ht,vt);for(const xt of _apps.values())_addComponent(xt,vt);for(const xt of _serverApps.values())_addComponent(xt,vt);return!0}function _getProvider(vt,ht){const xt=vt.container.getProvider("heartbeat").getImmediate({optional:!0});return xt&&xt.triggerHeartbeat(),vt.container.getProvider(ht)}function _isFirebaseServerApp(vt){return vt.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERRORS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ERROR_FACTORY=new ErrorFactory("app","Firebase",ERRORS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FirebaseAppImpl{constructor(ht,xt,_t){this._isDeleted=!1,this._options=Object.assign({},ht),this._config=Object.assign({},xt),this._name=xt.name,this._automaticDataCollectionEnabled=xt.automaticDataCollectionEnabled,this._container=_t,this.container.addComponent(new Component("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ht){this.checkDestroyed(),this._automaticDataCollectionEnabled=ht}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ht){this._isDeleted=ht}checkDestroyed(){if(this.isDeleted)throw ERROR_FACTORY.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SDK_VERSION$1=version$3;function initializeApp(vt,ht={}){let xt=vt;typeof ht!="object"&&(ht={name:ht});const _t=Object.assign({name:DEFAULT_ENTRY_NAME,automaticDataCollectionEnabled:!1},ht),$t=_t.name;if(typeof $t!="string"||!$t)throw ERROR_FACTORY.create("bad-app-name",{appName:String($t)});if(xt||(xt=getDefaultAppConfig()),!xt)throw ERROR_FACTORY.create("no-options");const wt=_apps.get($t);if(wt){if(deepEqual$1(xt,wt.options)&&deepEqual$1(_t,wt.config))return wt;throw ERROR_FACTORY.create("duplicate-app",{appName:$t})}const Ct=new ComponentContainer($t);for(const bt of _components.values())Ct.addComponent(bt);const Pt=new FirebaseAppImpl(xt,_t,Ct);return _apps.set($t,Pt),Pt}function getApp(vt=DEFAULT_ENTRY_NAME){const ht=_apps.get(vt);if(!ht&&vt===DEFAULT_ENTRY_NAME&&getDefaultAppConfig())return initializeApp();if(!ht)throw ERROR_FACTORY.create("no-app",{appName:vt});return ht}function registerVersion(vt,ht,xt){var _t;let $t=(_t=PLATFORM_LOG_STRING[vt])!==null&&_t!==void 0?_t:vt;xt&&($t+=`-${xt}`);const wt=$t.match(/\s|\//),Ct=ht.match(/\s|\//);if(wt||Ct){const Pt=[`Unable to register library "${$t}" with version "${ht}":`];wt&&Pt.push(`library name "${$t}" contains illegal characters (whitespace or "/")`),wt&&Ct&&Pt.push("and"),Ct&&Pt.push(`version name "${ht}" contains illegal characters (whitespace or "/")`),logger$1.warn(Pt.join(" "));return}_registerComponent(new Component(`${$t}-version`,()=>({library:$t,version:ht}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB_NAME$1="firebase-heartbeat-database",DB_VERSION$1=1,STORE_NAME="firebase-heartbeat-store";let dbPromise=null;function getDbPromise(){return dbPromise||(dbPromise=openDB(DB_NAME$1,DB_VERSION$1,{upgrade:(vt,ht)=>{switch(ht){case 0:try{vt.createObjectStore(STORE_NAME)}catch(xt){console.warn(xt)}}}}).catch(vt=>{throw ERROR_FACTORY.create("idb-open",{originalErrorMessage:vt.message})})),dbPromise}async function readHeartbeatsFromIndexedDB(vt){try{const xt=(await getDbPromise()).transaction(STORE_NAME),_t=await xt.objectStore(STORE_NAME).get(computeKey(vt));return await xt.done,_t}catch(ht){if(ht instanceof FirebaseError)logger$1.warn(ht.message);else{const xt=ERROR_FACTORY.create("idb-get",{originalErrorMessage:ht==null?void 0:ht.message});logger$1.warn(xt.message)}}}async function writeHeartbeatsToIndexedDB(vt,ht){try{const _t=(await getDbPromise()).transaction(STORE_NAME,"readwrite");await _t.objectStore(STORE_NAME).put(ht,computeKey(vt)),await _t.done}catch(xt){if(xt instanceof FirebaseError)logger$1.warn(xt.message);else{const _t=ERROR_FACTORY.create("idb-set",{originalErrorMessage:xt==null?void 0:xt.message});logger$1.warn(_t.message)}}}function computeKey(vt){return`${vt.name}!${vt.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MAX_HEADER_BYTES=1024,STORED_HEARTBEAT_RETENTION_MAX_MILLIS=30*24*60*60*1e3;class HeartbeatServiceImpl{constructor(ht){this.container=ht,this._heartbeatsCache=null;const xt=this.container.getProvider("app").getImmediate();this._storage=new HeartbeatStorageImpl(xt),this._heartbeatsCachePromise=this._storage.read().then(_t=>(this._heartbeatsCache=_t,_t))}async triggerHeartbeat(){var ht,xt;try{const $t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),wt=getUTCDateString();return((ht=this._heartbeatsCache)===null||ht===void 0?void 0:ht.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((xt=this._heartbeatsCache)===null||xt===void 0?void 0:xt.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===wt||this._heartbeatsCache.heartbeats.some(Ct=>Ct.date===wt)?void 0:(this._heartbeatsCache.heartbeats.push({date:wt,agent:$t}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(Ct=>{const Pt=new Date(Ct.date).valueOf();return Date.now()-Pt<=STORED_HEARTBEAT_RETENTION_MAX_MILLIS}),this._storage.overwrite(this._heartbeatsCache))}catch(_t){logger$1.warn(_t)}}async getHeartbeatsHeader(){var ht;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((ht=this._heartbeatsCache)===null||ht===void 0?void 0:ht.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const xt=getUTCDateString(),{heartbeatsToSend:_t,unsentEntries:$t}=extractHeartbeatsForHeader(this._heartbeatsCache.heartbeats),wt=base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:_t}));return this._heartbeatsCache.lastSentHeartbeatDate=xt,$t.length>0?(this._heartbeatsCache.heartbeats=$t,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),wt}catch(xt){return logger$1.warn(xt),""}}}function getUTCDateString(){return new Date().toISOString().substring(0,10)}function extractHeartbeatsForHeader(vt,ht=MAX_HEADER_BYTES){const xt=[];let _t=vt.slice();for(const $t of vt){const wt=xt.find(Ct=>Ct.agent===$t.agent);if(wt){if(wt.dates.push($t.date),countBytes(xt)>ht){wt.dates.pop();break}}else if(xt.push({agent:$t.agent,dates:[$t.date]}),countBytes(xt)>ht){xt.pop();break}_t=_t.slice(1)}return{heartbeatsToSend:xt,unsentEntries:_t}}class HeartbeatStorageImpl{constructor(ht){this.app=ht,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return isIndexedDBAvailable()?validateIndexedDBOpenable().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const xt=await readHeartbeatsFromIndexedDB(this.app);return xt!=null&&xt.heartbeats?xt:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(ht){var xt;if(await this._canUseIndexedDBPromise){const $t=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:(xt=ht.lastSentHeartbeatDate)!==null&&xt!==void 0?xt:$t.lastSentHeartbeatDate,heartbeats:ht.heartbeats})}else return}async add(ht){var xt;if(await this._canUseIndexedDBPromise){const $t=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:(xt=ht.lastSentHeartbeatDate)!==null&&xt!==void 0?xt:$t.lastSentHeartbeatDate,heartbeats:[...$t.heartbeats,...ht.heartbeats]})}else return}}function countBytes(vt){return base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:vt})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function registerCoreComponents(vt){_registerComponent(new Component("platform-logger",ht=>new PlatformLoggerServiceImpl(ht),"PRIVATE")),_registerComponent(new Component("heartbeat",ht=>new HeartbeatServiceImpl(ht),"PRIVATE")),registerVersion(name$q,version$1$1,vt),registerVersion(name$q,version$1$1,"esm2017"),registerVersion("fire-js","")}registerCoreComponents("");function __rest(vt,ht){var xt={};for(var _t in vt)Object.prototype.hasOwnProperty.call(vt,_t)&&ht.indexOf(_t)<0&&(xt[_t]=vt[_t]);if(vt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var $t=0,_t=Object.getOwnPropertySymbols(vt);$t<_t.length;$t++)ht.indexOf(_t[$t])<0&&Object.prototype.propertyIsEnumerable.call(vt,_t[$t])&&(xt[_t[$t]]=vt[_t[$t]]);return xt}typeof SuppressedError=="function"&&SuppressedError;function _prodErrorMap(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const prodErrorMap=_prodErrorMap,_DEFAULT_AUTH_ERROR_FACTORY=new ErrorFactory("auth","Firebase",_prodErrorMap());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logClient$1=new Logger("@firebase/auth");function _logWarn(vt,...ht){logClient$1.logLevel<=LogLevel.WARN&&logClient$1.warn(`Auth (${SDK_VERSION$1}): ${vt}`,...ht)}function _logError(vt,...ht){logClient$1.logLevel<=LogLevel.ERROR&&logClient$1.error(`Auth (${SDK_VERSION$1}): ${vt}`,...ht)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _fail(vt,...ht){throw createErrorInternal(vt,...ht)}function _createError(vt,...ht){return createErrorInternal(vt,...ht)}function _errorWithCustomMessage(vt,ht,xt){const _t=Object.assign(Object.assign({},prodErrorMap()),{[ht]:xt});return new ErrorFactory("auth","Firebase",_t).create(ht,{appName:vt.name})}function _serverAppCurrentUserOperationNotSupportedError(vt){return _errorWithCustomMessage(vt,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function createErrorInternal(vt,...ht){if(typeof vt!="string"){const xt=ht[0],_t=[...ht.slice(1)];return _t[0]&&(_t[0].appName=vt.name),vt._errorFactory.create(xt,..._t)}return _DEFAULT_AUTH_ERROR_FACTORY.create(vt,...ht)}function _assert(vt,ht,...xt){if(!vt)throw createErrorInternal(ht,...xt)}function debugFail(vt){const ht="INTERNAL ASSERTION FAILED: "+vt;throw _logError(ht),new Error(ht)}function debugAssert(vt,ht){vt||debugFail(ht)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getCurrentUrl(){var vt;return typeof self<"u"&&((vt=self.location)===null||vt===void 0?void 0:vt.href)||""}function _isHttpOrHttps(){return _getCurrentScheme()==="http:"||_getCurrentScheme()==="https:"}function _getCurrentScheme(){var vt;return typeof self<"u"&&((vt=self.location)===null||vt===void 0?void 0:vt.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _isOnline(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_isHttpOrHttps()||isBrowserExtension()||"connection"in navigator)?navigator.onLine:!0}function _getUserLanguage(){if(typeof navigator>"u")return null;const vt=navigator;return vt.languages&&vt.languages[0]||vt.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Delay{constructor(ht,xt){this.shortDelay=ht,this.longDelay=xt,debugAssert(xt>ht,"Short delay should be less than long delay!"),this.isMobile=isMobileCordova()||isReactNative()}get(){return _isOnline()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _emulatorUrl(vt,ht){debugAssert(vt.emulator,"Emulator should always be set here");const{url:xt}=vt.emulator;return ht?`${xt}${ht.startsWith("/")?ht.slice(1):ht}`:xt}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FetchProvider{static initialize(ht,xt,_t){this.fetchImpl=ht,xt&&(this.headersImpl=xt),_t&&(this.responseImpl=_t)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;debugFail("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;debugFail("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;debugFail("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SERVER_ERROR_MAP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_API_TIMEOUT_MS=new Delay(3e4,6e4);function _addTidIfNecessary(vt,ht){return vt.tenantId&&!ht.tenantId?Object.assign(Object.assign({},ht),{tenantId:vt.tenantId}):ht}async function _performApiRequest(vt,ht,xt,_t,$t={}){return _performFetchWithErrorHandling(vt,$t,async()=>{let wt={},Ct={};_t&&(ht==="GET"?Ct=_t:wt={body:JSON.stringify(_t)});const Pt=querystring(Object.assign({key:vt.config.apiKey},Ct)).slice(1),bt=await vt._getAdditionalHeaders();bt["Content-Type"]="application/json",vt.languageCode&&(bt["X-Firebase-Locale"]=vt.languageCode);const Rt=Object.assign({method:ht,headers:bt},wt);return isCloudflareWorker()||(Rt.referrerPolicy="no-referrer"),FetchProvider.fetch()(_getFinalTarget(vt,vt.config.apiHost,xt,Pt),Rt)})}async function _performFetchWithErrorHandling(vt,ht,xt){vt._canInitEmulator=!1;const _t=Object.assign(Object.assign({},SERVER_ERROR_MAP),ht);try{const $t=new NetworkTimeout(vt),wt=await Promise.race([xt(),$t.promise]);$t.clearNetworkTimeout();const Ct=await wt.json();if("needConfirmation"in Ct)throw _makeTaggedError(vt,"account-exists-with-different-credential",Ct);if(wt.ok&&!("errorMessage"in Ct))return Ct;{const Pt=wt.ok?Ct.errorMessage:Ct.error.message,[bt,Rt]=Pt.split(" : ");if(bt==="FEDERATED_USER_ID_ALREADY_LINKED")throw _makeTaggedError(vt,"credential-already-in-use",Ct);if(bt==="EMAIL_EXISTS")throw _makeTaggedError(vt,"email-already-in-use",Ct);if(bt==="USER_DISABLED")throw _makeTaggedError(vt,"user-disabled",Ct);const Nt=_t[bt]||bt.toLowerCase().replace(/[_\s]+/g,"-");if(Rt)throw _errorWithCustomMessage(vt,Nt,Rt);_fail(vt,Nt)}}catch($t){if($t instanceof FirebaseError)throw $t;_fail(vt,"network-request-failed",{message:String($t)})}}async function _performSignInRequest(vt,ht,xt,_t,$t={}){const wt=await _performApiRequest(vt,ht,xt,_t,$t);return"mfaPendingCredential"in wt&&_fail(vt,"multi-factor-auth-required",{_serverResponse:wt}),wt}function _getFinalTarget(vt,ht,xt,_t){const $t=`${ht}${xt}?${_t}`;return vt.config.emulator?_emulatorUrl(vt.config,$t):`${vt.config.apiScheme}://${$t}`}function _parseEnforcementState(vt){switch(vt){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class NetworkTimeout{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(ht){this.auth=ht,this.timer=null,this.promise=new Promise((xt,_t)=>{this.timer=setTimeout(()=>_t(_createError(this.auth,"network-request-failed")),DEFAULT_API_TIMEOUT_MS.get())})}}function _makeTaggedError(vt,ht,xt){const _t={appName:vt.name};xt.email&&(_t.email=xt.email),xt.phoneNumber&&(_t.phoneNumber=xt.phoneNumber);const $t=_createError(vt,ht,_t);return $t.customData._tokenResponse=xt,$t}function isEnterprise(vt){return vt!==void 0&&vt.enterprise!==void 0}class RecaptchaConfig{constructor(ht){if(this.siteKey="",this.recaptchaEnforcementState=[],ht.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=ht.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=ht.recaptchaEnforcementState}getProviderEnforcementState(ht){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const xt of this.recaptchaEnforcementState)if(xt.provider&&xt.provider===ht)return _parseEnforcementState(xt.enforcementState);return null}isProviderEnabled(ht){return this.getProviderEnforcementState(ht)==="ENFORCE"||this.getProviderEnforcementState(ht)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function getRecaptchaConfig(vt,ht){return _performApiRequest(vt,"GET","/v2/recaptchaConfig",_addTidIfNecessary(vt,ht))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function deleteAccount(vt,ht){return _performApiRequest(vt,"POST","/v1/accounts:delete",ht)}async function getAccountInfo(vt,ht){return _performApiRequest(vt,"POST","/v1/accounts:lookup",ht)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function utcTimestampToDateString(vt){if(vt)try{const ht=new Date(Number(vt));if(!isNaN(ht.getTime()))return ht.toUTCString()}catch{}}async function getIdTokenResult(vt,ht=!1){const xt=getModularInstance(vt),_t=await xt.getIdToken(ht),$t=_parseToken(_t);_assert($t&&$t.exp&&$t.auth_time&&$t.iat,xt.auth,"internal-error");const wt=typeof $t.firebase=="object"?$t.firebase:void 0,Ct=wt==null?void 0:wt.sign_in_provider;return{claims:$t,token:_t,authTime:utcTimestampToDateString(secondsStringToMilliseconds($t.auth_time)),issuedAtTime:utcTimestampToDateString(secondsStringToMilliseconds($t.iat)),expirationTime:utcTimestampToDateString(secondsStringToMilliseconds($t.exp)),signInProvider:Ct||null,signInSecondFactor:(wt==null?void 0:wt.sign_in_second_factor)||null}}function secondsStringToMilliseconds(vt){return Number(vt)*1e3}function _parseToken(vt){const[ht,xt,_t]=vt.split(".");if(ht===void 0||xt===void 0||_t===void 0)return _logError("JWT malformed, contained fewer than 3 sections"),null;try{const $t=base64Decode(xt);return $t?JSON.parse($t):(_logError("Failed to decode base64 JWT payload"),null)}catch($t){return _logError("Caught error parsing JWT payload as JSON",$t==null?void 0:$t.toString()),null}}function _tokenExpiresIn(vt){const ht=_parseToken(vt);return _assert(ht,"internal-error"),_assert(typeof ht.exp<"u","internal-error"),_assert(typeof ht.iat<"u","internal-error"),Number(ht.exp)-Number(ht.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _logoutIfInvalidated(vt,ht,xt=!1){if(xt)return ht;try{return await ht}catch(_t){throw _t instanceof FirebaseError&&isUserInvalidated(_t)&&vt.auth.currentUser===vt&&await vt.auth.signOut(),_t}}function isUserInvalidated({code:vt}){return vt==="auth/user-disabled"||vt==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ProactiveRefresh{constructor(ht){this.user=ht,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(ht){var xt;if(ht){const _t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),_t}else{this.errorBackoff=3e4;const $t=((xt=this.user.stsTokenManager.expirationTime)!==null&&xt!==void 0?xt:0)-Date.now()-3e5;return Math.max(0,$t)}}schedule(ht=!1){if(!this.isRunning)return;const xt=this.getInterval(ht);this.timerId=setTimeout(async()=>{await this.iteration()},xt)}async iteration(){try{await this.user.getIdToken(!0)}catch(ht){(ht==null?void 0:ht.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UserMetadata{constructor(ht,xt){this.createdAt=ht,this.lastLoginAt=xt,this._initializeTime()}_initializeTime(){this.lastSignInTime=utcTimestampToDateString(this.lastLoginAt),this.creationTime=utcTimestampToDateString(this.createdAt)}_copy(ht){this.createdAt=ht.createdAt,this.lastLoginAt=ht.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _reloadWithoutSaving(vt){var ht;const xt=vt.auth,_t=await vt.getIdToken(),$t=await _logoutIfInvalidated(vt,getAccountInfo(xt,{idToken:_t}));_assert($t==null?void 0:$t.users.length,xt,"internal-error");const wt=$t.users[0];vt._notifyReloadListener(wt);const Ct=!((ht=wt.providerUserInfo)===null||ht===void 0)&&ht.length?extractProviderData(wt.providerUserInfo):[],Pt=mergeProviderData(vt.providerData,Ct),bt=vt.isAnonymous,Rt=!(vt.email&&wt.passwordHash)&&!(Pt!=null&&Pt.length),Nt=bt?Rt:!1,kt={uid:wt.localId,displayName:wt.displayName||null,photoURL:wt.photoUrl||null,email:wt.email||null,emailVerified:wt.emailVerified||!1,phoneNumber:wt.phoneNumber||null,tenantId:wt.tenantId||null,providerData:Pt,metadata:new UserMetadata(wt.createdAt,wt.lastLoginAt),isAnonymous:Nt};Object.assign(vt,kt)}async function reload(vt){const ht=getModularInstance(vt);await _reloadWithoutSaving(ht),await ht.auth._persistUserIfCurrent(ht),ht.auth._notifyListenersIfCurrent(ht)}function mergeProviderData(vt,ht){return[...vt.filter(_t=>!ht.some($t=>$t.providerId===_t.providerId)),...ht]}function extractProviderData(vt){return vt.map(ht=>{var{providerId:xt}=ht,_t=__rest(ht,["providerId"]);return{providerId:xt,uid:_t.rawId||"",displayName:_t.displayName||null,email:_t.email||null,phoneNumber:_t.phoneNumber||null,photoURL:_t.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function requestStsToken(vt,ht){const xt=await _performFetchWithErrorHandling(vt,{},async()=>{const _t=querystring({grant_type:"refresh_token",refresh_token:ht}).slice(1),{tokenApiHost:$t,apiKey:wt}=vt.config,Ct=_getFinalTarget(vt,$t,"/v1/token",`key=${wt}`),Pt=await vt._getAdditionalHeaders();return Pt["Content-Type"]="application/x-www-form-urlencoded",FetchProvider.fetch()(Ct,{method:"POST",headers:Pt,body:_t})});return{accessToken:xt.access_token,expiresIn:xt.expires_in,refreshToken:xt.refresh_token}}async function revokeToken(vt,ht){return _performApiRequest(vt,"POST","/v2/accounts:revokeToken",_addTidIfNecessary(vt,ht))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class StsTokenManager{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(ht){_assert(ht.idToken,"internal-error"),_assert(typeof ht.idToken<"u","internal-error"),_assert(typeof ht.refreshToken<"u","internal-error");const xt="expiresIn"in ht&&typeof ht.expiresIn<"u"?Number(ht.expiresIn):_tokenExpiresIn(ht.idToken);this.updateTokensAndExpiration(ht.idToken,ht.refreshToken,xt)}updateFromIdToken(ht){_assert(ht.length!==0,"internal-error");const xt=_tokenExpiresIn(ht);this.updateTokensAndExpiration(ht,null,xt)}async getToken(ht,xt=!1){return!xt&&this.accessToken&&!this.isExpired?this.accessToken:(_assert(this.refreshToken,ht,"user-token-expired"),this.refreshToken?(await this.refresh(ht,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(ht,xt){const{accessToken:_t,refreshToken:$t,expiresIn:wt}=await requestStsToken(ht,xt);this.updateTokensAndExpiration(_t,$t,Number(wt))}updateTokensAndExpiration(ht,xt,_t){this.refreshToken=xt||null,this.accessToken=ht||null,this.expirationTime=Date.now()+_t*1e3}static fromJSON(ht,xt){const{refreshToken:_t,accessToken:$t,expirationTime:wt}=xt,Ct=new StsTokenManager;return _t&&(_assert(typeof _t=="string","internal-error",{appName:ht}),Ct.refreshToken=_t),$t&&(_assert(typeof $t=="string","internal-error",{appName:ht}),Ct.accessToken=$t),wt&&(_assert(typeof wt=="number","internal-error",{appName:ht}),Ct.expirationTime=wt),Ct}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(ht){this.accessToken=ht.accessToken,this.refreshToken=ht.refreshToken,this.expirationTime=ht.expirationTime}_clone(){return Object.assign(new StsTokenManager,this.toJSON())}_performRefresh(){return debugFail("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function assertStringOrUndefined(vt,ht){_assert(typeof vt=="string"||typeof vt>"u","internal-error",{appName:ht})}class UserImpl{constructor(ht){var{uid:xt,auth:_t,stsTokenManager:$t}=ht,wt=__rest(ht,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ProactiveRefresh(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=xt,this.auth=_t,this.stsTokenManager=$t,this.accessToken=$t.accessToken,this.displayName=wt.displayName||null,this.email=wt.email||null,this.emailVerified=wt.emailVerified||!1,this.phoneNumber=wt.phoneNumber||null,this.photoURL=wt.photoURL||null,this.isAnonymous=wt.isAnonymous||!1,this.tenantId=wt.tenantId||null,this.providerData=wt.providerData?[...wt.providerData]:[],this.metadata=new UserMetadata(wt.createdAt||void 0,wt.lastLoginAt||void 0)}async getIdToken(ht){const xt=await _logoutIfInvalidated(this,this.stsTokenManager.getToken(this.auth,ht));return _assert(xt,this.auth,"internal-error"),this.accessToken!==xt&&(this.accessToken=xt,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),xt}getIdTokenResult(ht){return getIdTokenResult(this,ht)}reload(){return reload(this)}_assign(ht){this!==ht&&(_assert(this.uid===ht.uid,this.auth,"internal-error"),this.displayName=ht.displayName,this.photoURL=ht.photoURL,this.email=ht.email,this.emailVerified=ht.emailVerified,this.phoneNumber=ht.phoneNumber,this.isAnonymous=ht.isAnonymous,this.tenantId=ht.tenantId,this.providerData=ht.providerData.map(xt=>Object.assign({},xt)),this.metadata._copy(ht.metadata),this.stsTokenManager._assign(ht.stsTokenManager))}_clone(ht){const xt=new UserImpl(Object.assign(Object.assign({},this),{auth:ht,stsTokenManager:this.stsTokenManager._clone()}));return xt.metadata._copy(this.metadata),xt}_onReload(ht){_assert(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=ht,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(ht){this.reloadListener?this.reloadListener(ht):this.reloadUserInfo=ht}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(ht,xt=!1){let _t=!1;ht.idToken&&ht.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(ht),_t=!0),xt&&await _reloadWithoutSaving(this),await this.auth._persistUserIfCurrent(this),_t&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_isFirebaseServerApp(this.auth.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this.auth));const ht=await this.getIdToken();return await _logoutIfInvalidated(this,deleteAccount(this.auth,{idToken:ht})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(ht=>Object.assign({},ht)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(ht,xt){var _t,$t,wt,Ct,Pt,bt,Rt,Nt;const kt=(_t=xt.displayName)!==null&&_t!==void 0?_t:void 0,Dt=($t=xt.email)!==null&&$t!==void 0?$t:void 0,Ot=(wt=xt.phoneNumber)!==null&&wt!==void 0?wt:void 0,Lt=(Ct=xt.photoURL)!==null&&Ct!==void 0?Ct:void 0,Ft=(Pt=xt.tenantId)!==null&&Pt!==void 0?Pt:void 0,Ut=(bt=xt._redirectEventId)!==null&&bt!==void 0?bt:void 0,jt=(Rt=xt.createdAt)!==null&&Rt!==void 0?Rt:void 0,Vt=(Nt=xt.lastLoginAt)!==null&&Nt!==void 0?Nt:void 0,{uid:Bt,emailVerified:Wt,isAnonymous:zt,providerData:qt,stsTokenManager:Xt}=xt;_assert(Bt&&Xt,ht,"internal-error");const Yt=StsTokenManager.fromJSON(this.name,Xt);_assert(typeof Bt=="string",ht,"internal-error"),assertStringOrUndefined(kt,ht.name),assertStringOrUndefined(Dt,ht.name),_assert(typeof Wt=="boolean",ht,"internal-error"),_assert(typeof zt=="boolean",ht,"internal-error"),assertStringOrUndefined(Ot,ht.name),assertStringOrUndefined(Lt,ht.name),assertStringOrUndefined(Ft,ht.name),assertStringOrUndefined(Ut,ht.name),assertStringOrUndefined(jt,ht.name),assertStringOrUndefined(Vt,ht.name);const en=new UserImpl({uid:Bt,auth:ht,email:Dt,emailVerified:Wt,displayName:kt,isAnonymous:zt,photoURL:Lt,phoneNumber:Ot,tenantId:Ft,stsTokenManager:Yt,createdAt:jt,lastLoginAt:Vt});return qt&&Array.isArray(qt)&&(en.providerData=qt.map(Qt=>Object.assign({},Qt))),Ut&&(en._redirectEventId=Ut),en}static async _fromIdTokenResponse(ht,xt,_t=!1){const $t=new StsTokenManager;$t.updateFromServerResponse(xt);const wt=new UserImpl({uid:xt.localId,auth:ht,stsTokenManager:$t,isAnonymous:_t});return await _reloadWithoutSaving(wt),wt}static async _fromGetAccountInfoResponse(ht,xt,_t){const $t=xt.users[0];_assert($t.localId!==void 0,"internal-error");const wt=$t.providerUserInfo!==void 0?extractProviderData($t.providerUserInfo):[],Ct=!($t.email&&$t.passwordHash)&&!(wt!=null&&wt.length),Pt=new StsTokenManager;Pt.updateFromIdToken(_t);const bt=new UserImpl({uid:$t.localId,auth:ht,stsTokenManager:Pt,isAnonymous:Ct}),Rt={uid:$t.localId,displayName:$t.displayName||null,photoURL:$t.photoUrl||null,email:$t.email||null,emailVerified:$t.emailVerified||!1,phoneNumber:$t.phoneNumber||null,tenantId:$t.tenantId||null,providerData:wt,metadata:new UserMetadata($t.createdAt,$t.lastLoginAt),isAnonymous:!($t.email&&$t.passwordHash)&&!(wt!=null&&wt.length)};return Object.assign(bt,Rt),bt}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const instanceCache=new Map;function _getInstance(vt){debugAssert(vt instanceof Function,"Expected a class definition");let ht=instanceCache.get(vt);return ht?(debugAssert(ht instanceof vt,"Instance stored in cache mismatched with class"),ht):(ht=new vt,instanceCache.set(vt,ht),ht)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class InMemoryPersistence{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(ht,xt){this.storage[ht]=xt}async _get(ht){const xt=this.storage[ht];return xt===void 0?null:xt}async _remove(ht){delete this.storage[ht]}_addListener(ht,xt){}_removeListener(ht,xt){}}InMemoryPersistence.type="NONE";const inMemoryPersistence=InMemoryPersistence;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _persistenceKeyName(vt,ht,xt){return`firebase:${vt}:${ht}:${xt}`}class PersistenceUserManager{constructor(ht,xt,_t){this.persistence=ht,this.auth=xt,this.userKey=_t;const{config:$t,name:wt}=this.auth;this.fullUserKey=_persistenceKeyName(this.userKey,$t.apiKey,wt),this.fullPersistenceKey=_persistenceKeyName("persistence",$t.apiKey,wt),this.boundEventHandler=xt._onStorageEvent.bind(xt),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(ht){return this.persistence._set(this.fullUserKey,ht.toJSON())}async getCurrentUser(){const ht=await this.persistence._get(this.fullUserKey);return ht?UserImpl._fromJSON(this.auth,ht):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(ht){if(this.persistence===ht)return;const xt=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=ht,xt)return this.setCurrentUser(xt)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(ht,xt,_t="authUser"){if(!xt.length)return new PersistenceUserManager(_getInstance(inMemoryPersistence),ht,_t);const $t=(await Promise.all(xt.map(async Rt=>{if(await Rt._isAvailable())return Rt}))).filter(Rt=>Rt);let wt=$t[0]||_getInstance(inMemoryPersistence);const Ct=_persistenceKeyName(_t,ht.config.apiKey,ht.name);let Pt=null;for(const Rt of xt)try{const Nt=await Rt._get(Ct);if(Nt){const kt=UserImpl._fromJSON(ht,Nt);Rt!==wt&&(Pt=kt),wt=Rt;break}}catch{}const bt=$t.filter(Rt=>Rt._shouldAllowMigration);return!wt._shouldAllowMigration||!bt.length?new PersistenceUserManager(wt,ht,_t):(wt=bt[0],Pt&&await wt._set(Ct,Pt.toJSON()),await Promise.all(xt.map(async Rt=>{if(Rt!==wt)try{await Rt._remove(Ct)}catch{}})),new PersistenceUserManager(wt,ht,_t))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getBrowserName(vt){const ht=vt.toLowerCase();if(ht.includes("opera/")||ht.includes("opr/")||ht.includes("opios/"))return"Opera";if(_isIEMobile(ht))return"IEMobile";if(ht.includes("msie")||ht.includes("trident/"))return"IE";if(ht.includes("edge/"))return"Edge";if(_isFirefox(ht))return"Firefox";if(ht.includes("silk/"))return"Silk";if(_isBlackBerry(ht))return"Blackberry";if(_isWebOS(ht))return"Webos";if(_isSafari(ht))return"Safari";if((ht.includes("chrome/")||_isChromeIOS(ht))&&!ht.includes("edge/"))return"Chrome";if(_isAndroid(ht))return"Android";{const xt=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,_t=vt.match(xt);if((_t==null?void 0:_t.length)===2)return _t[1]}return"Other"}function _isFirefox(vt=getUA()){return/firefox\//i.test(vt)}function _isSafari(vt=getUA()){const ht=vt.toLowerCase();return ht.includes("safari/")&&!ht.includes("chrome/")&&!ht.includes("crios/")&&!ht.includes("android")}function _isChromeIOS(vt=getUA()){return/crios\//i.test(vt)}function _isIEMobile(vt=getUA()){return/iemobile/i.test(vt)}function _isAndroid(vt=getUA()){return/android/i.test(vt)}function _isBlackBerry(vt=getUA()){return/blackberry/i.test(vt)}function _isWebOS(vt=getUA()){return/webos/i.test(vt)}function _isIOS(vt=getUA()){return/iphone|ipad|ipod/i.test(vt)||/macintosh/i.test(vt)&&/mobile/i.test(vt)}function _isIOSStandalone(vt=getUA()){var ht;return _isIOS(vt)&&!!(!((ht=window.navigator)===null||ht===void 0)&&ht.standalone)}function _isIE10(){return isIE()&&document.documentMode===10}function _isMobileBrowser(vt=getUA()){return _isIOS(vt)||_isAndroid(vt)||_isWebOS(vt)||_isBlackBerry(vt)||/windows phone/i.test(vt)||_isIEMobile(vt)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getClientVersion(vt,ht=[]){let xt;switch(vt){case"Browser":xt=_getBrowserName(getUA());break;case"Worker":xt=`${_getBrowserName(getUA())}-${vt}`;break;default:xt=vt}const _t=ht.length?ht.join(","):"FirebaseCore-web";return`${xt}/JsCore/${SDK_VERSION$1}/${_t}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthMiddlewareQueue{constructor(ht){this.auth=ht,this.queue=[]}pushCallback(ht,xt){const _t=wt=>new Promise((Ct,Pt)=>{try{const bt=ht(wt);Ct(bt)}catch(bt){Pt(bt)}});_t.onAbort=xt,this.queue.push(_t);const $t=this.queue.length-1;return()=>{this.queue[$t]=()=>Promise.resolve()}}async runMiddleware(ht){if(this.auth.currentUser===ht)return;const xt=[];try{for(const _t of this.queue)await _t(ht),_t.onAbort&&xt.push(_t.onAbort)}catch(_t){xt.reverse();for(const $t of xt)try{$t()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:_t==null?void 0:_t.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _getPasswordPolicy(vt,ht={}){return _performApiRequest(vt,"GET","/v2/passwordPolicy",_addTidIfNecessary(vt,ht))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MINIMUM_MIN_PASSWORD_LENGTH=6;class PasswordPolicyImpl{constructor(ht){var xt,_t,$t,wt;const Ct=ht.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(xt=Ct.minPasswordLength)!==null&&xt!==void 0?xt:MINIMUM_MIN_PASSWORD_LENGTH,Ct.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Ct.maxPasswordLength),Ct.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=Ct.containsLowercaseCharacter),Ct.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=Ct.containsUppercaseCharacter),Ct.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=Ct.containsNumericCharacter),Ct.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Ct.containsNonAlphanumericCharacter),this.enforcementState=ht.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=($t=(_t=ht.allowedNonAlphanumericCharacters)===null||_t===void 0?void 0:_t.join(""))!==null&&$t!==void 0?$t:"",this.forceUpgradeOnSignin=(wt=ht.forceUpgradeOnSignin)!==null&&wt!==void 0?wt:!1,this.schemaVersion=ht.schemaVersion}validatePassword(ht){var xt,_t,$t,wt,Ct,Pt;const bt={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(ht,bt),this.validatePasswordCharacterOptions(ht,bt),bt.isValid&&(bt.isValid=(xt=bt.meetsMinPasswordLength)!==null&&xt!==void 0?xt:!0),bt.isValid&&(bt.isValid=(_t=bt.meetsMaxPasswordLength)!==null&&_t!==void 0?_t:!0),bt.isValid&&(bt.isValid=($t=bt.containsLowercaseLetter)!==null&&$t!==void 0?$t:!0),bt.isValid&&(bt.isValid=(wt=bt.containsUppercaseLetter)!==null&&wt!==void 0?wt:!0),bt.isValid&&(bt.isValid=(Ct=bt.containsNumericCharacter)!==null&&Ct!==void 0?Ct:!0),bt.isValid&&(bt.isValid=(Pt=bt.containsNonAlphanumericCharacter)!==null&&Pt!==void 0?Pt:!0),bt}validatePasswordLengthOptions(ht,xt){const _t=this.customStrengthOptions.minPasswordLength,$t=this.customStrengthOptions.maxPasswordLength;_t&&(xt.meetsMinPasswordLength=ht.length>=_t),$t&&(xt.meetsMaxPasswordLength=ht.length<=$t)}validatePasswordCharacterOptions(ht,xt){this.updatePasswordCharacterOptionsStatuses(xt,!1,!1,!1,!1);let _t;for(let $t=0;$t<ht.length;$t++)_t=ht.charAt($t),this.updatePasswordCharacterOptionsStatuses(xt,_t>="a"&&_t<="z",_t>="A"&&_t<="Z",_t>="0"&&_t<="9",this.allowedNonAlphanumericCharacters.includes(_t))}updatePasswordCharacterOptionsStatuses(ht,xt,_t,$t,wt){this.customStrengthOptions.containsLowercaseLetter&&(ht.containsLowercaseLetter||(ht.containsLowercaseLetter=xt)),this.customStrengthOptions.containsUppercaseLetter&&(ht.containsUppercaseLetter||(ht.containsUppercaseLetter=_t)),this.customStrengthOptions.containsNumericCharacter&&(ht.containsNumericCharacter||(ht.containsNumericCharacter=$t)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(ht.containsNonAlphanumericCharacter||(ht.containsNonAlphanumericCharacter=wt))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthImpl{constructor(ht,xt,_t,$t){this.app=ht,this.heartbeatServiceProvider=xt,this.appCheckServiceProvider=_t,this.config=$t,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Subscription(this),this.idTokenSubscription=new Subscription(this),this.beforeStateQueue=new AuthMiddlewareQueue(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_DEFAULT_AUTH_ERROR_FACTORY,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=ht.name,this.clientVersion=$t.sdkClientVersion}_initializeWithPersistence(ht,xt){return xt&&(this._popupRedirectResolver=_getInstance(xt)),this._initializationPromise=this.queue(async()=>{var _t,$t;if(!this._deleted&&(this.persistenceManager=await PersistenceUserManager.create(this,ht),!this._deleted)){if(!((_t=this._popupRedirectResolver)===null||_t===void 0)&&_t._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(xt),this.lastNotifiedUid=(($t=this.currentUser)===null||$t===void 0?void 0:$t.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const ht=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!ht)){if(this.currentUser&&ht&&this.currentUser.uid===ht.uid){this._currentUser._assign(ht),await this.currentUser.getIdToken();return}await this._updateCurrentUser(ht,!0)}}async initializeCurrentUserFromIdToken(ht){try{const xt=await getAccountInfo(this,{idToken:ht}),_t=await UserImpl._fromGetAccountInfoResponse(this,xt,ht);await this.directlySetCurrentUser(_t)}catch(xt){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",xt),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(ht){var xt;if(_isFirebaseServerApp(this.app)){const Ct=this.app.settings.authIdToken;return Ct?new Promise(Pt=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(Ct).then(Pt,Pt))}):this.directlySetCurrentUser(null)}const _t=await this.assertedPersistence.getCurrentUser();let $t=_t,wt=!1;if(ht&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const Ct=(xt=this.redirectUser)===null||xt===void 0?void 0:xt._redirectEventId,Pt=$t==null?void 0:$t._redirectEventId,bt=await this.tryRedirectSignIn(ht);(!Ct||Ct===Pt)&&(bt!=null&&bt.user)&&($t=bt.user,wt=!0)}if(!$t)return this.directlySetCurrentUser(null);if(!$t._redirectEventId){if(wt)try{await this.beforeStateQueue.runMiddleware($t)}catch(Ct){$t=_t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(Ct))}return $t?this.reloadAndSetCurrentUserOrClear($t):this.directlySetCurrentUser(null)}return _assert(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===$t._redirectEventId?this.directlySetCurrentUser($t):this.reloadAndSetCurrentUserOrClear($t)}async tryRedirectSignIn(ht){let xt=null;try{xt=await this._popupRedirectResolver._completeRedirectFn(this,ht,!0)}catch{await this._setRedirectUser(null)}return xt}async reloadAndSetCurrentUserOrClear(ht){try{await _reloadWithoutSaving(ht)}catch(xt){if((xt==null?void 0:xt.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(ht)}useDeviceLanguage(){this.languageCode=_getUserLanguage()}async _delete(){this._deleted=!0}async updateCurrentUser(ht){if(_isFirebaseServerApp(this.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this));const xt=ht?getModularInstance(ht):null;return xt&&_assert(xt.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(xt&&xt._clone(this))}async _updateCurrentUser(ht,xt=!1){if(!this._deleted)return ht&&_assert(this.tenantId===ht.tenantId,this,"tenant-id-mismatch"),xt||await this.beforeStateQueue.runMiddleware(ht),this.queue(async()=>{await this.directlySetCurrentUser(ht),this.notifyAuthListeners()})}async signOut(){return _isFirebaseServerApp(this.app)?Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(ht){return _isFirebaseServerApp(this.app)?Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_getInstance(ht))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(ht){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const xt=this._getPasswordPolicyInternal();return xt.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):xt.validatePassword(ht)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const ht=await _getPasswordPolicy(this),xt=new PasswordPolicyImpl(ht);this.tenantId===null?this._projectPasswordPolicy=xt:this._tenantPasswordPolicies[this.tenantId]=xt}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(ht){this._errorFactory=new ErrorFactory("auth","Firebase",ht())}onAuthStateChanged(ht,xt,_t){return this.registerStateListener(this.authStateSubscription,ht,xt,_t)}beforeAuthStateChanged(ht,xt){return this.beforeStateQueue.pushCallback(ht,xt)}onIdTokenChanged(ht,xt,_t){return this.registerStateListener(this.idTokenSubscription,ht,xt,_t)}authStateReady(){return new Promise((ht,xt)=>{if(this.currentUser)ht();else{const _t=this.onAuthStateChanged(()=>{_t(),ht()},xt)}})}async revokeAccessToken(ht){if(this.currentUser){const xt=await this.currentUser.getIdToken(),_t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:ht,idToken:xt};this.tenantId!=null&&(_t.tenantId=this.tenantId),await revokeToken(this,_t)}}toJSON(){var ht;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(ht=this._currentUser)===null||ht===void 0?void 0:ht.toJSON()}}async _setRedirectUser(ht,xt){const _t=await this.getOrInitRedirectPersistenceManager(xt);return ht===null?_t.removeCurrentUser():_t.setCurrentUser(ht)}async getOrInitRedirectPersistenceManager(ht){if(!this.redirectPersistenceManager){const xt=ht&&_getInstance(ht)||this._popupRedirectResolver;_assert(xt,this,"argument-error"),this.redirectPersistenceManager=await PersistenceUserManager.create(this,[_getInstance(xt._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(ht){var xt,_t;return this._isInitialized&&await this.queue(async()=>{}),((xt=this._currentUser)===null||xt===void 0?void 0:xt._redirectEventId)===ht?this._currentUser:((_t=this.redirectUser)===null||_t===void 0?void 0:_t._redirectEventId)===ht?this.redirectUser:null}async _persistUserIfCurrent(ht){if(ht===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(ht))}_notifyListenersIfCurrent(ht){ht===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var ht,xt;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const _t=(xt=(ht=this.currentUser)===null||ht===void 0?void 0:ht.uid)!==null&&xt!==void 0?xt:null;this.lastNotifiedUid!==_t&&(this.lastNotifiedUid=_t,this.authStateSubscription.next(this.currentUser))}registerStateListener(ht,xt,_t,$t){if(this._deleted)return()=>{};const wt=typeof xt=="function"?xt:xt.next.bind(xt);let Ct=!1;const Pt=this._isInitialized?Promise.resolve():this._initializationPromise;if(_assert(Pt,this,"internal-error"),Pt.then(()=>{Ct||wt(this.currentUser)}),typeof xt=="function"){const bt=ht.addObserver(xt,_t,$t);return()=>{Ct=!0,bt()}}else{const bt=ht.addObserver(xt);return()=>{Ct=!0,bt()}}}async directlySetCurrentUser(ht){this.currentUser&&this.currentUser!==ht&&this._currentUser._stopProactiveRefresh(),ht&&this.isProactiveRefreshEnabled&&ht._startProactiveRefresh(),this.currentUser=ht,ht?await this.assertedPersistence.setCurrentUser(ht):await this.assertedPersistence.removeCurrentUser()}queue(ht){return this.operations=this.operations.then(ht,ht),this.operations}get assertedPersistence(){return _assert(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(ht){!ht||this.frameworks.includes(ht)||(this.frameworks.push(ht),this.frameworks.sort(),this.clientVersion=_getClientVersion(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var ht;const xt={"X-Client-Version":this.clientVersion};this.app.options.appId&&(xt["X-Firebase-gmpid"]=this.app.options.appId);const _t=await((ht=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||ht===void 0?void 0:ht.getHeartbeatsHeader());_t&&(xt["X-Firebase-Client"]=_t);const $t=await this._getAppCheckToken();return $t&&(xt["X-Firebase-AppCheck"]=$t),xt}async _getAppCheckToken(){var ht;const xt=await((ht=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||ht===void 0?void 0:ht.getToken());return xt!=null&&xt.error&&_logWarn(`Error while retrieving App Check token: ${xt.error}`),xt==null?void 0:xt.token}}function _castAuth(vt){return getModularInstance(vt)}class Subscription{constructor(ht){this.auth=ht,this.observer=null,this.addObserver=createSubscribe(xt=>this.observer=xt)}get next(){return _assert(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let externalJSProvider={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _setExternalJSProvider(vt){externalJSProvider=vt}function _loadJS(vt){return externalJSProvider.loadJS(vt)}function _recaptchaEnterpriseScriptUrl(){return externalJSProvider.recaptchaEnterpriseScript}function _gapiScriptUrl(){return externalJSProvider.gapiScript}function _generateCallbackName(vt){return`__${vt}${Math.floor(Math.random()*1e6)}`}class MockGreCAPTCHATopLevel{constructor(){this.enterprise=new MockGreCAPTCHA}ready(ht){ht()}execute(ht,xt){return Promise.resolve("token")}render(ht,xt){return""}}class MockGreCAPTCHA{ready(ht){ht()}execute(ht,xt){return Promise.resolve("token")}render(ht,xt){return""}}const RECAPTCHA_ENTERPRISE_VERIFIER_TYPE="recaptcha-enterprise",FAKE_TOKEN="NO_RECAPTCHA";class RecaptchaEnterpriseVerifier{constructor(ht){this.type=RECAPTCHA_ENTERPRISE_VERIFIER_TYPE,this.auth=_castAuth(ht)}async verify(ht="verify",xt=!1){async function _t(wt){if(!xt){if(wt.tenantId==null&&wt._agentRecaptchaConfig!=null)return wt._agentRecaptchaConfig.siteKey;if(wt.tenantId!=null&&wt._tenantRecaptchaConfigs[wt.tenantId]!==void 0)return wt._tenantRecaptchaConfigs[wt.tenantId].siteKey}return new Promise(async(Ct,Pt)=>{getRecaptchaConfig(wt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(bt=>{if(bt.recaptchaKey===void 0)Pt(new Error("recaptcha Enterprise site key undefined"));else{const Rt=new RecaptchaConfig(bt);return wt.tenantId==null?wt._agentRecaptchaConfig=Rt:wt._tenantRecaptchaConfigs[wt.tenantId]=Rt,Ct(Rt.siteKey)}}).catch(bt=>{Pt(bt)})})}function $t(wt,Ct,Pt){const bt=window.grecaptcha;isEnterprise(bt)?bt.enterprise.ready(()=>{bt.enterprise.execute(wt,{action:ht}).then(Rt=>{Ct(Rt)}).catch(()=>{Ct(FAKE_TOKEN)})}):Pt(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new MockGreCAPTCHATopLevel().execute("siteKey",{action:"verify"}):new Promise((wt,Ct)=>{_t(this.auth).then(Pt=>{if(!xt&&isEnterprise(window.grecaptcha))$t(Pt,wt,Ct);else{if(typeof window>"u"){Ct(new Error("RecaptchaVerifier is only supported in browser"));return}let bt=_recaptchaEnterpriseScriptUrl();bt.length!==0&&(bt+=Pt),_loadJS(bt).then(()=>{$t(Pt,wt,Ct)}).catch(Rt=>{Ct(Rt)})}}).catch(Pt=>{Ct(Pt)})})}}async function injectRecaptchaFields(vt,ht,xt,_t=!1,$t=!1){const wt=new RecaptchaEnterpriseVerifier(vt);let Ct;if($t)Ct=FAKE_TOKEN;else try{Ct=await wt.verify(xt)}catch{Ct=await wt.verify(xt,!0)}const Pt=Object.assign({},ht);if(xt==="mfaSmsEnrollment"||xt==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in Pt){const bt=Pt.phoneEnrollmentInfo.phoneNumber,Rt=Pt.phoneEnrollmentInfo.recaptchaToken;Object.assign(Pt,{phoneEnrollmentInfo:{phoneNumber:bt,recaptchaToken:Rt,captchaResponse:Ct,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in Pt){const bt=Pt.phoneSignInInfo.recaptchaToken;Object.assign(Pt,{phoneSignInInfo:{recaptchaToken:bt,captchaResponse:Ct,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return Pt}return _t?Object.assign(Pt,{captchaResp:Ct}):Object.assign(Pt,{captchaResponse:Ct}),Object.assign(Pt,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Pt,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Pt}async function handleRecaptchaFlow(vt,ht,xt,_t,$t){var wt;if(!((wt=vt._getRecaptchaConfig())===null||wt===void 0)&&wt.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const Ct=await injectRecaptchaFields(vt,ht,xt,xt==="getOobCode");return _t(vt,Ct)}else return _t(vt,ht).catch(async Ct=>{if(Ct.code==="auth/missing-recaptcha-token"){console.log(`${xt} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const Pt=await injectRecaptchaFields(vt,ht,xt,xt==="getOobCode");return _t(vt,Pt)}else return Promise.reject(Ct)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function initializeAuth(vt,ht){const xt=_getProvider(vt,"auth");if(xt.isInitialized()){const $t=xt.getImmediate(),wt=xt.getOptions();if(deepEqual$1(wt,ht??{}))return $t;_fail($t,"already-initialized")}return xt.initialize({options:ht})}function _initializeAuthInstance(vt,ht){const xt=(ht==null?void 0:ht.persistence)||[],_t=(Array.isArray(xt)?xt:[xt]).map(_getInstance);ht!=null&&ht.errorMap&&vt._updateErrorMap(ht.errorMap),vt._initializeWithPersistence(_t,ht==null?void 0:ht.popupRedirectResolver)}function connectAuthEmulator(vt,ht,xt){const _t=_castAuth(vt);_assert(_t._canInitEmulator,_t,"emulator-config-failed"),_assert(/^https?:\/\//.test(ht),_t,"invalid-emulator-scheme");const $t=!1,wt=extractProtocol(ht),{host:Ct,port:Pt}=extractHostAndPort(ht),bt=Pt===null?"":`:${Pt}`;_t.config.emulator={url:`${wt}//${Ct}${bt}/`},_t.settings.appVerificationDisabledForTesting=!0,_t.emulatorConfig=Object.freeze({host:Ct,port:Pt,protocol:wt.replace(":",""),options:Object.freeze({disableWarnings:$t})}),emitEmulatorWarning()}function extractProtocol(vt){const ht=vt.indexOf(":");return ht<0?"":vt.substr(0,ht+1)}function extractHostAndPort(vt){const ht=extractProtocol(vt),xt=/(\/\/)?([^?#/]+)/.exec(vt.substr(ht.length));if(!xt)return{host:"",port:null};const _t=xt[2].split("@").pop()||"",$t=/^(\[[^\]]+\])(:|$)/.exec(_t);if($t){const wt=$t[1];return{host:wt,port:parsePort(_t.substr(wt.length+1))}}else{const[wt,Ct]=_t.split(":");return{host:wt,port:parsePort(Ct)}}}function parsePort(vt){if(!vt)return null;const ht=Number(vt);return isNaN(ht)?null:ht}function emitEmulatorWarning(){function vt(){const ht=document.createElement("p"),xt=ht.style;ht.innerText="Running in emulator mode. Do not use with production credentials.",xt.position="fixed",xt.width="100%",xt.backgroundColor="#ffffff",xt.border=".1em solid #000000",xt.color="#b50000",xt.bottom="0px",xt.left="0px",xt.margin="0px",xt.zIndex="10000",xt.textAlign="center",ht.classList.add("firebase-emulator-warning"),document.body.appendChild(ht)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",vt):vt())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthCredential{constructor(ht,xt){this.providerId=ht,this.signInMethod=xt}toJSON(){return debugFail("not implemented")}_getIdTokenResponse(ht){return debugFail("not implemented")}_linkToIdToken(ht,xt){return debugFail("not implemented")}_getReauthenticationResolver(ht){return debugFail("not implemented")}}async function linkEmailPassword(vt,ht){return _performApiRequest(vt,"POST","/v1/accounts:signUp",ht)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithPassword(vt,ht){return _performSignInRequest(vt,"POST","/v1/accounts:signInWithPassword",_addTidIfNecessary(vt,ht))}async function sendOobCode(vt,ht){return _performApiRequest(vt,"POST","/v1/accounts:sendOobCode",_addTidIfNecessary(vt,ht))}async function sendEmailVerification$1(vt,ht){return sendOobCode(vt,ht)}async function sendPasswordResetEmail$1(vt,ht){return sendOobCode(vt,ht)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithEmailLink$1(vt,ht){return _performSignInRequest(vt,"POST","/v1/accounts:signInWithEmailLink",_addTidIfNecessary(vt,ht))}async function signInWithEmailLinkForLinking(vt,ht){return _performSignInRequest(vt,"POST","/v1/accounts:signInWithEmailLink",_addTidIfNecessary(vt,ht))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EmailAuthCredential extends AuthCredential{constructor(ht,xt,_t,$t=null){super("password",_t),this._email=ht,this._password=xt,this._tenantId=$t}static _fromEmailAndPassword(ht,xt){return new EmailAuthCredential(ht,xt,"password")}static _fromEmailAndCode(ht,xt,_t=null){return new EmailAuthCredential(ht,xt,"emailLink",_t)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(ht){const xt=typeof ht=="string"?JSON.parse(ht):ht;if(xt!=null&&xt.email&&(xt!=null&&xt.password)){if(xt.signInMethod==="password")return this._fromEmailAndPassword(xt.email,xt.password);if(xt.signInMethod==="emailLink")return this._fromEmailAndCode(xt.email,xt.password,xt.tenantId)}return null}async _getIdTokenResponse(ht){switch(this.signInMethod){case"password":const xt={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return handleRecaptchaFlow(ht,xt,"signInWithPassword",signInWithPassword);case"emailLink":return signInWithEmailLink$1(ht,{email:this._email,oobCode:this._password});default:_fail(ht,"internal-error")}}async _linkToIdToken(ht,xt){switch(this.signInMethod){case"password":const _t={idToken:xt,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return handleRecaptchaFlow(ht,_t,"signUpPassword",linkEmailPassword);case"emailLink":return signInWithEmailLinkForLinking(ht,{idToken:xt,email:this._email,oobCode:this._password});default:_fail(ht,"internal-error")}}_getReauthenticationResolver(ht){return this._getIdTokenResponse(ht)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithIdp(vt,ht){return _performSignInRequest(vt,"POST","/v1/accounts:signInWithIdp",_addTidIfNecessary(vt,ht))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IDP_REQUEST_URI$1="http://localhost";class OAuthCredential extends AuthCredential{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(ht){const xt=new OAuthCredential(ht.providerId,ht.signInMethod);return ht.idToken||ht.accessToken?(ht.idToken&&(xt.idToken=ht.idToken),ht.accessToken&&(xt.accessToken=ht.accessToken),ht.nonce&&!ht.pendingToken&&(xt.nonce=ht.nonce),ht.pendingToken&&(xt.pendingToken=ht.pendingToken)):ht.oauthToken&&ht.oauthTokenSecret?(xt.accessToken=ht.oauthToken,xt.secret=ht.oauthTokenSecret):_fail("argument-error"),xt}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(ht){const xt=typeof ht=="string"?JSON.parse(ht):ht,{providerId:_t,signInMethod:$t}=xt,wt=__rest(xt,["providerId","signInMethod"]);if(!_t||!$t)return null;const Ct=new OAuthCredential(_t,$t);return Ct.idToken=wt.idToken||void 0,Ct.accessToken=wt.accessToken||void 0,Ct.secret=wt.secret,Ct.nonce=wt.nonce,Ct.pendingToken=wt.pendingToken||null,Ct}_getIdTokenResponse(ht){const xt=this.buildRequest();return signInWithIdp(ht,xt)}_linkToIdToken(ht,xt){const _t=this.buildRequest();return _t.idToken=xt,signInWithIdp(ht,_t)}_getReauthenticationResolver(ht){const xt=this.buildRequest();return xt.autoCreate=!1,signInWithIdp(ht,xt)}buildRequest(){const ht={requestUri:IDP_REQUEST_URI$1,returnSecureToken:!0};if(this.pendingToken)ht.pendingToken=this.pendingToken;else{const xt={};this.idToken&&(xt.id_token=this.idToken),this.accessToken&&(xt.access_token=this.accessToken),this.secret&&(xt.oauth_token_secret=this.secret),xt.providerId=this.providerId,this.nonce&&!this.pendingToken&&(xt.nonce=this.nonce),ht.postBody=querystring(xt)}return ht}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function parseMode(vt){switch(vt){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function parseDeepLink(vt){const ht=querystringDecode(extractQuerystring(vt)).link,xt=ht?querystringDecode(extractQuerystring(ht)).deep_link_id:null,_t=querystringDecode(extractQuerystring(vt)).deep_link_id;return(_t?querystringDecode(extractQuerystring(_t)).link:null)||_t||xt||ht||vt}class ActionCodeURL{constructor(ht){var xt,_t,$t,wt,Ct,Pt;const bt=querystringDecode(extractQuerystring(ht)),Rt=(xt=bt.apiKey)!==null&&xt!==void 0?xt:null,Nt=(_t=bt.oobCode)!==null&&_t!==void 0?_t:null,kt=parseMode(($t=bt.mode)!==null&&$t!==void 0?$t:null);_assert(Rt&&Nt&&kt,"argument-error"),this.apiKey=Rt,this.operation=kt,this.code=Nt,this.continueUrl=(wt=bt.continueUrl)!==null&&wt!==void 0?wt:null,this.languageCode=(Ct=bt.languageCode)!==null&&Ct!==void 0?Ct:null,this.tenantId=(Pt=bt.tenantId)!==null&&Pt!==void 0?Pt:null}static parseLink(ht){const xt=parseDeepLink(ht);try{return new ActionCodeURL(xt)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EmailAuthProvider{constructor(){this.providerId=EmailAuthProvider.PROVIDER_ID}static credential(ht,xt){return EmailAuthCredential._fromEmailAndPassword(ht,xt)}static credentialWithLink(ht,xt){const _t=ActionCodeURL.parseLink(xt);return _assert(_t,"argument-error"),EmailAuthCredential._fromEmailAndCode(ht,_t.code,_t.tenantId)}}EmailAuthProvider.PROVIDER_ID="password";EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD="password";EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FederatedAuthProvider{constructor(ht){this.providerId=ht,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(ht){this.defaultLanguageCode=ht}setCustomParameters(ht){return this.customParameters=ht,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BaseOAuthProvider extends FederatedAuthProvider{constructor(){super(...arguments),this.scopes=[]}addScope(ht){return this.scopes.includes(ht)||this.scopes.push(ht),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FacebookAuthProvider extends BaseOAuthProvider{constructor(){super("facebook.com")}static credential(ht){return OAuthCredential._fromParams({providerId:FacebookAuthProvider.PROVIDER_ID,signInMethod:FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD,accessToken:ht})}static credentialFromResult(ht){return FacebookAuthProvider.credentialFromTaggedObject(ht)}static credentialFromError(ht){return FacebookAuthProvider.credentialFromTaggedObject(ht.customData||{})}static credentialFromTaggedObject({_tokenResponse:ht}){if(!ht||!("oauthAccessToken"in ht)||!ht.oauthAccessToken)return null;try{return FacebookAuthProvider.credential(ht.oauthAccessToken)}catch{return null}}}FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD="facebook.com";FacebookAuthProvider.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GoogleAuthProvider extends BaseOAuthProvider{constructor(){super("google.com"),this.addScope("profile")}static credential(ht,xt){return OAuthCredential._fromParams({providerId:GoogleAuthProvider.PROVIDER_ID,signInMethod:GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD,idToken:ht,accessToken:xt})}static credentialFromResult(ht){return GoogleAuthProvider.credentialFromTaggedObject(ht)}static credentialFromError(ht){return GoogleAuthProvider.credentialFromTaggedObject(ht.customData||{})}static credentialFromTaggedObject({_tokenResponse:ht}){if(!ht)return null;const{oauthIdToken:xt,oauthAccessToken:_t}=ht;if(!xt&&!_t)return null;try{return GoogleAuthProvider.credential(xt,_t)}catch{return null}}}GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD="google.com";GoogleAuthProvider.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GithubAuthProvider extends BaseOAuthProvider{constructor(){super("github.com")}static credential(ht){return OAuthCredential._fromParams({providerId:GithubAuthProvider.PROVIDER_ID,signInMethod:GithubAuthProvider.GITHUB_SIGN_IN_METHOD,accessToken:ht})}static credentialFromResult(ht){return GithubAuthProvider.credentialFromTaggedObject(ht)}static credentialFromError(ht){return GithubAuthProvider.credentialFromTaggedObject(ht.customData||{})}static credentialFromTaggedObject({_tokenResponse:ht}){if(!ht||!("oauthAccessToken"in ht)||!ht.oauthAccessToken)return null;try{return GithubAuthProvider.credential(ht.oauthAccessToken)}catch{return null}}}GithubAuthProvider.GITHUB_SIGN_IN_METHOD="github.com";GithubAuthProvider.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TwitterAuthProvider extends BaseOAuthProvider{constructor(){super("twitter.com")}static credential(ht,xt){return OAuthCredential._fromParams({providerId:TwitterAuthProvider.PROVIDER_ID,signInMethod:TwitterAuthProvider.TWITTER_SIGN_IN_METHOD,oauthToken:ht,oauthTokenSecret:xt})}static credentialFromResult(ht){return TwitterAuthProvider.credentialFromTaggedObject(ht)}static credentialFromError(ht){return TwitterAuthProvider.credentialFromTaggedObject(ht.customData||{})}static credentialFromTaggedObject({_tokenResponse:ht}){if(!ht)return null;const{oauthAccessToken:xt,oauthTokenSecret:_t}=ht;if(!xt||!_t)return null;try{return TwitterAuthProvider.credential(xt,_t)}catch{return null}}}TwitterAuthProvider.TWITTER_SIGN_IN_METHOD="twitter.com";TwitterAuthProvider.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signUp(vt,ht){return _performSignInRequest(vt,"POST","/v1/accounts:signUp",_addTidIfNecessary(vt,ht))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UserCredentialImpl{constructor(ht){this.user=ht.user,this.providerId=ht.providerId,this._tokenResponse=ht._tokenResponse,this.operationType=ht.operationType}static async _fromIdTokenResponse(ht,xt,_t,$t=!1){const wt=await UserImpl._fromIdTokenResponse(ht,_t,$t),Ct=providerIdForResponse(_t);return new UserCredentialImpl({user:wt,providerId:Ct,_tokenResponse:_t,operationType:xt})}static async _forOperation(ht,xt,_t){await ht._updateTokensIfNecessary(_t,!0);const $t=providerIdForResponse(_t);return new UserCredentialImpl({user:ht,providerId:$t,_tokenResponse:_t,operationType:xt})}}function providerIdForResponse(vt){return vt.providerId?vt.providerId:"phoneNumber"in vt?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MultiFactorError extends FirebaseError{constructor(ht,xt,_t,$t){var wt;super(xt.code,xt.message),this.operationType=_t,this.user=$t,Object.setPrototypeOf(this,MultiFactorError.prototype),this.customData={appName:ht.name,tenantId:(wt=ht.tenantId)!==null&&wt!==void 0?wt:void 0,_serverResponse:xt.customData._serverResponse,operationType:_t}}static _fromErrorAndOperation(ht,xt,_t,$t){return new MultiFactorError(ht,xt,_t,$t)}}function _processCredentialSavingMfaContextIfNecessary(vt,ht,xt,_t){return(ht==="reauthenticate"?xt._getReauthenticationResolver(vt):xt._getIdTokenResponse(vt)).catch(wt=>{throw wt.code==="auth/multi-factor-auth-required"?MultiFactorError._fromErrorAndOperation(vt,wt,ht,_t):wt})}async function _link$1(vt,ht,xt=!1){const _t=await _logoutIfInvalidated(vt,ht._linkToIdToken(vt.auth,await vt.getIdToken()),xt);return UserCredentialImpl._forOperation(vt,"link",_t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _reauthenticate(vt,ht,xt=!1){const{auth:_t}=vt;if(_isFirebaseServerApp(_t.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(_t));const $t="reauthenticate";try{const wt=await _logoutIfInvalidated(vt,_processCredentialSavingMfaContextIfNecessary(_t,$t,ht,vt),xt);_assert(wt.idToken,_t,"internal-error");const Ct=_parseToken(wt.idToken);_assert(Ct,_t,"internal-error");const{sub:Pt}=Ct;return _assert(vt.uid===Pt,_t,"user-mismatch"),UserCredentialImpl._forOperation(vt,$t,wt)}catch(wt){throw(wt==null?void 0:wt.code)==="auth/user-not-found"&&_fail(_t,"user-mismatch"),wt}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _signInWithCredential(vt,ht,xt=!1){if(_isFirebaseServerApp(vt.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(vt));const _t="signIn",$t=await _processCredentialSavingMfaContextIfNecessary(vt,_t,ht),wt=await UserCredentialImpl._fromIdTokenResponse(vt,_t,$t);return xt||await vt._updateCurrentUser(wt.user),wt}async function signInWithCredential(vt,ht){return _signInWithCredential(_castAuth(vt),ht)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function recachePasswordPolicy(vt){const ht=_castAuth(vt);ht._getPasswordPolicyInternal()&&await ht._updatePasswordPolicy()}async function sendPasswordResetEmail(vt,ht,xt){const _t=_castAuth(vt);await handleRecaptchaFlow(_t,{requestType:"PASSWORD_RESET",email:ht,clientType:"CLIENT_TYPE_WEB"},"getOobCode",sendPasswordResetEmail$1)}async function createUserWithEmailAndPassword(vt,ht,xt){if(_isFirebaseServerApp(vt.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(vt));const _t=_castAuth(vt),Ct=await handleRecaptchaFlow(_t,{returnSecureToken:!0,email:ht,password:xt,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",signUp).catch(bt=>{throw bt.code==="auth/password-does-not-meet-requirements"&&recachePasswordPolicy(vt),bt}),Pt=await UserCredentialImpl._fromIdTokenResponse(_t,"signIn",Ct);return await _t._updateCurrentUser(Pt.user),Pt}function signInWithEmailAndPassword(vt,ht,xt){return _isFirebaseServerApp(vt.app)?Promise.reject(_serverAppCurrentUserOperationNotSupportedError(vt)):signInWithCredential(getModularInstance(vt),EmailAuthProvider.credential(ht,xt)).catch(async _t=>{throw _t.code==="auth/password-does-not-meet-requirements"&&recachePasswordPolicy(vt),_t})}async function sendEmailVerification(vt,ht){const xt=getModularInstance(vt),$t={requestType:"VERIFY_EMAIL",idToken:await vt.getIdToken()},{email:wt}=await sendEmailVerification$1(xt.auth,$t);wt!==vt.email&&await vt.reload()}function onIdTokenChanged(vt,ht,xt,_t){return getModularInstance(vt).onIdTokenChanged(ht,xt,_t)}function beforeAuthStateChanged(vt,ht,xt){return getModularInstance(vt).beforeAuthStateChanged(ht,xt)}const STORAGE_AVAILABLE_KEY="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BrowserPersistenceClass{constructor(ht,xt){this.storageRetriever=ht,this.type=xt}_isAvailable(){try{return this.storage?(this.storage.setItem(STORAGE_AVAILABLE_KEY,"1"),this.storage.removeItem(STORAGE_AVAILABLE_KEY),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(ht,xt){return this.storage.setItem(ht,JSON.stringify(xt)),Promise.resolve()}_get(ht){const xt=this.storage.getItem(ht);return Promise.resolve(xt?JSON.parse(xt):null)}_remove(ht){return this.storage.removeItem(ht),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _POLLING_INTERVAL_MS$1=1e3,IE10_LOCAL_STORAGE_SYNC_DELAY=10;class BrowserLocalPersistence extends BrowserPersistenceClass{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(ht,xt)=>this.onStorageEvent(ht,xt),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_isMobileBrowser(),this._shouldAllowMigration=!0}forAllChangedKeys(ht){for(const xt of Object.keys(this.listeners)){const _t=this.storage.getItem(xt),$t=this.localCache[xt];_t!==$t&&ht(xt,$t,_t)}}onStorageEvent(ht,xt=!1){if(!ht.key){this.forAllChangedKeys((Ct,Pt,bt)=>{this.notifyListeners(Ct,bt)});return}const _t=ht.key;xt?this.detachListener():this.stopPolling();const $t=()=>{const Ct=this.storage.getItem(_t);!xt&&this.localCache[_t]===Ct||this.notifyListeners(_t,Ct)},wt=this.storage.getItem(_t);_isIE10()&&wt!==ht.newValue&&ht.newValue!==ht.oldValue?setTimeout($t,IE10_LOCAL_STORAGE_SYNC_DELAY):$t()}notifyListeners(ht,xt){this.localCache[ht]=xt;const _t=this.listeners[ht];if(_t)for(const $t of Array.from(_t))$t(xt&&JSON.parse(xt))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((ht,xt,_t)=>{this.onStorageEvent(new StorageEvent("storage",{key:ht,oldValue:xt,newValue:_t}),!0)})},_POLLING_INTERVAL_MS$1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(ht,xt){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[ht]||(this.listeners[ht]=new Set,this.localCache[ht]=this.storage.getItem(ht)),this.listeners[ht].add(xt)}_removeListener(ht,xt){this.listeners[ht]&&(this.listeners[ht].delete(xt),this.listeners[ht].size===0&&delete this.listeners[ht]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(ht,xt){await super._set(ht,xt),this.localCache[ht]=JSON.stringify(xt)}async _get(ht){const xt=await super._get(ht);return this.localCache[ht]=JSON.stringify(xt),xt}async _remove(ht){await super._remove(ht),delete this.localCache[ht]}}BrowserLocalPersistence.type="LOCAL";const browserLocalPersistence=BrowserLocalPersistence;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BrowserSessionPersistence extends BrowserPersistenceClass{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(ht,xt){}_removeListener(ht,xt){}}BrowserSessionPersistence.type="SESSION";const browserSessionPersistence=BrowserSessionPersistence;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _allSettled(vt){return Promise.all(vt.map(async ht=>{try{return{fulfilled:!0,value:await ht}}catch(xt){return{fulfilled:!1,reason:xt}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Receiver{constructor(ht){this.eventTarget=ht,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(ht){const xt=this.receivers.find($t=>$t.isListeningto(ht));if(xt)return xt;const _t=new Receiver(ht);return this.receivers.push(_t),_t}isListeningto(ht){return this.eventTarget===ht}async handleEvent(ht){const xt=ht,{eventId:_t,eventType:$t,data:wt}=xt.data,Ct=this.handlersMap[$t];if(!(Ct!=null&&Ct.size))return;xt.ports[0].postMessage({status:"ack",eventId:_t,eventType:$t});const Pt=Array.from(Ct).map(async Rt=>Rt(xt.origin,wt)),bt=await _allSettled(Pt);xt.ports[0].postMessage({status:"done",eventId:_t,eventType:$t,response:bt})}_subscribe(ht,xt){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[ht]||(this.handlersMap[ht]=new Set),this.handlersMap[ht].add(xt)}_unsubscribe(ht,xt){this.handlersMap[ht]&&xt&&this.handlersMap[ht].delete(xt),(!xt||this.handlersMap[ht].size===0)&&delete this.handlersMap[ht],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Receiver.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _generateEventId(vt="",ht=10){let xt="";for(let _t=0;_t<ht;_t++)xt+=Math.floor(Math.random()*10);return vt+xt}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sender{constructor(ht){this.target=ht,this.handlers=new Set}removeMessageHandler(ht){ht.messageChannel&&(ht.messageChannel.port1.removeEventListener("message",ht.onMessage),ht.messageChannel.port1.close()),this.handlers.delete(ht)}async _send(ht,xt,_t=50){const $t=typeof MessageChannel<"u"?new MessageChannel:null;if(!$t)throw new Error("connection_unavailable");let wt,Ct;return new Promise((Pt,bt)=>{const Rt=_generateEventId("",20);$t.port1.start();const Nt=setTimeout(()=>{bt(new Error("unsupported_event"))},_t);Ct={messageChannel:$t,onMessage(kt){const Dt=kt;if(Dt.data.eventId===Rt)switch(Dt.data.status){case"ack":clearTimeout(Nt),wt=setTimeout(()=>{bt(new Error("timeout"))},3e3);break;case"done":clearTimeout(wt),Pt(Dt.data.response);break;default:clearTimeout(Nt),clearTimeout(wt),bt(new Error("invalid_response"));break}}},this.handlers.add(Ct),$t.port1.addEventListener("message",Ct.onMessage),this.target.postMessage({eventType:ht,eventId:Rt,data:xt},[$t.port2])}).finally(()=>{Ct&&this.removeMessageHandler(Ct)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _window(){return window}function _setWindowLocation(vt){_window().location.href=vt}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _isWorker(){return typeof _window().WorkerGlobalScope<"u"&&typeof _window().importScripts=="function"}async function _getActiveServiceWorker(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _getServiceWorkerController(){var vt;return((vt=navigator==null?void 0:navigator.serviceWorker)===null||vt===void 0?void 0:vt.controller)||null}function _getWorkerGlobalScope(){return _isWorker()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB_NAME="firebaseLocalStorageDb",DB_VERSION=1,DB_OBJECTSTORE_NAME="firebaseLocalStorage",DB_DATA_KEYPATH="fbase_key";class DBPromise{constructor(ht){this.request=ht}toPromise(){return new Promise((ht,xt)=>{this.request.addEventListener("success",()=>{ht(this.request.result)}),this.request.addEventListener("error",()=>{xt(this.request.error)})})}}function getObjectStore(vt,ht){return vt.transaction([DB_OBJECTSTORE_NAME],ht?"readwrite":"readonly").objectStore(DB_OBJECTSTORE_NAME)}function _deleteDatabase(){const vt=indexedDB.deleteDatabase(DB_NAME);return new DBPromise(vt).toPromise()}function _openDatabase(){const vt=indexedDB.open(DB_NAME,DB_VERSION);return new Promise((ht,xt)=>{vt.addEventListener("error",()=>{xt(vt.error)}),vt.addEventListener("upgradeneeded",()=>{const _t=vt.result;try{_t.createObjectStore(DB_OBJECTSTORE_NAME,{keyPath:DB_DATA_KEYPATH})}catch($t){xt($t)}}),vt.addEventListener("success",async()=>{const _t=vt.result;_t.objectStoreNames.contains(DB_OBJECTSTORE_NAME)?ht(_t):(_t.close(),await _deleteDatabase(),ht(await _openDatabase()))})})}async function _putObject(vt,ht,xt){const _t=getObjectStore(vt,!0).put({[DB_DATA_KEYPATH]:ht,value:xt});return new DBPromise(_t).toPromise()}async function getObject(vt,ht){const xt=getObjectStore(vt,!1).get(ht),_t=await new DBPromise(xt).toPromise();return _t===void 0?null:_t.value}function _deleteObject(vt,ht){const xt=getObjectStore(vt,!0).delete(ht);return new DBPromise(xt).toPromise()}const _POLLING_INTERVAL_MS=800,_TRANSACTION_RETRY_COUNT=3;class IndexedDBLocalPersistence{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _openDatabase(),this.db)}async _withRetries(ht){let xt=0;for(;;)try{const _t=await this._openDb();return await ht(_t)}catch(_t){if(xt++>_TRANSACTION_RETRY_COUNT)throw _t;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _isWorker()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Receiver._getInstance(_getWorkerGlobalScope()),this.receiver._subscribe("keyChanged",async(ht,xt)=>({keyProcessed:(await this._poll()).includes(xt.key)})),this.receiver._subscribe("ping",async(ht,xt)=>["keyChanged"])}async initializeSender(){var ht,xt;if(this.activeServiceWorker=await _getActiveServiceWorker(),!this.activeServiceWorker)return;this.sender=new Sender(this.activeServiceWorker);const _t=await this.sender._send("ping",{},800);_t&&!((ht=_t[0])===null||ht===void 0)&&ht.fulfilled&&!((xt=_t[0])===null||xt===void 0)&&xt.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(ht){if(!(!this.sender||!this.activeServiceWorker||_getServiceWorkerController()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:ht},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const ht=await _openDatabase();return await _putObject(ht,STORAGE_AVAILABLE_KEY,"1"),await _deleteObject(ht,STORAGE_AVAILABLE_KEY),!0}catch{}return!1}async _withPendingWrite(ht){this.pendingWrites++;try{await ht()}finally{this.pendingWrites--}}async _set(ht,xt){return this._withPendingWrite(async()=>(await this._withRetries(_t=>_putObject(_t,ht,xt)),this.localCache[ht]=xt,this.notifyServiceWorker(ht)))}async _get(ht){const xt=await this._withRetries(_t=>getObject(_t,ht));return this.localCache[ht]=xt,xt}async _remove(ht){return this._withPendingWrite(async()=>(await this._withRetries(xt=>_deleteObject(xt,ht)),delete this.localCache[ht],this.notifyServiceWorker(ht)))}async _poll(){const ht=await this._withRetries($t=>{const wt=getObjectStore($t,!1).getAll();return new DBPromise(wt).toPromise()});if(!ht)return[];if(this.pendingWrites!==0)return[];const xt=[],_t=new Set;if(ht.length!==0)for(const{fbase_key:$t,value:wt}of ht)_t.add($t),JSON.stringify(this.localCache[$t])!==JSON.stringify(wt)&&(this.notifyListeners($t,wt),xt.push($t));for(const $t of Object.keys(this.localCache))this.localCache[$t]&&!_t.has($t)&&(this.notifyListeners($t,null),xt.push($t));return xt}notifyListeners(ht,xt){this.localCache[ht]=xt;const _t=this.listeners[ht];if(_t)for(const $t of Array.from(_t))$t(xt)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_POLLING_INTERVAL_MS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(ht,xt){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[ht]||(this.listeners[ht]=new Set,this._get(ht)),this.listeners[ht].add(xt)}_removeListener(ht,xt){this.listeners[ht]&&(this.listeners[ht].delete(xt),this.listeners[ht].size===0&&delete this.listeners[ht]),Object.keys(this.listeners).length===0&&this.stopPolling()}}IndexedDBLocalPersistence.type="LOCAL";const indexedDBLocalPersistence=IndexedDBLocalPersistence;new Delay(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _withDefaultResolver(vt,ht){return ht?_getInstance(ht):(_assert(vt._popupRedirectResolver,vt,"argument-error"),vt._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IdpCredential extends AuthCredential{constructor(ht){super("custom","custom"),this.params=ht}_getIdTokenResponse(ht){return signInWithIdp(ht,this._buildIdpRequest())}_linkToIdToken(ht,xt){return signInWithIdp(ht,this._buildIdpRequest(xt))}_getReauthenticationResolver(ht){return signInWithIdp(ht,this._buildIdpRequest())}_buildIdpRequest(ht){const xt={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return ht&&(xt.idToken=ht),xt}}function _signIn(vt){return _signInWithCredential(vt.auth,new IdpCredential(vt),vt.bypassAuthState)}function _reauth(vt){const{auth:ht,user:xt}=vt;return _assert(xt,ht,"internal-error"),_reauthenticate(xt,new IdpCredential(vt),vt.bypassAuthState)}async function _link(vt){const{auth:ht,user:xt}=vt;return _assert(xt,ht,"internal-error"),_link$1(xt,new IdpCredential(vt),vt.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AbstractPopupRedirectOperation{constructor(ht,xt,_t,$t,wt=!1){this.auth=ht,this.resolver=_t,this.user=$t,this.bypassAuthState=wt,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(xt)?xt:[xt]}execute(){return new Promise(async(ht,xt)=>{this.pendingPromise={resolve:ht,reject:xt};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(_t){this.reject(_t)}})}async onAuthEvent(ht){const{urlResponse:xt,sessionId:_t,postBody:$t,tenantId:wt,error:Ct,type:Pt}=ht;if(Ct){this.reject(Ct);return}const bt={auth:this.auth,requestUri:xt,sessionId:_t,tenantId:wt||void 0,postBody:$t||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(Pt)(bt))}catch(Rt){this.reject(Rt)}}onError(ht){this.reject(ht)}getIdpTask(ht){switch(ht){case"signInViaPopup":case"signInViaRedirect":return _signIn;case"linkViaPopup":case"linkViaRedirect":return _link;case"reauthViaPopup":case"reauthViaRedirect":return _reauth;default:_fail(this.auth,"internal-error")}}resolve(ht){debugAssert(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(ht),this.unregisterAndCleanUp()}reject(ht){debugAssert(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(ht),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _POLL_WINDOW_CLOSE_TIMEOUT=new Delay(2e3,1e4);class PopupOperation extends AbstractPopupRedirectOperation{constructor(ht,xt,_t,$t,wt){super(ht,xt,$t,wt),this.provider=_t,this.authWindow=null,this.pollId=null,PopupOperation.currentPopupAction&&PopupOperation.currentPopupAction.cancel(),PopupOperation.currentPopupAction=this}async executeNotNull(){const ht=await this.execute();return _assert(ht,this.auth,"internal-error"),ht}async onExecution(){debugAssert(this.filter.length===1,"Popup operations only handle one event");const ht=_generateEventId();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],ht),this.authWindow.associatedEvent=ht,this.resolver._originValidation(this.auth).catch(xt=>{this.reject(xt)}),this.resolver._isIframeWebStorageSupported(this.auth,xt=>{xt||this.reject(_createError(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var ht;return((ht=this.authWindow)===null||ht===void 0?void 0:ht.associatedEvent)||null}cancel(){this.reject(_createError(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,PopupOperation.currentPopupAction=null}pollUserCancellation(){const ht=()=>{var xt,_t;if(!((_t=(xt=this.authWindow)===null||xt===void 0?void 0:xt.window)===null||_t===void 0)&&_t.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_createError(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(ht,_POLL_WINDOW_CLOSE_TIMEOUT.get())};ht()}}PopupOperation.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PENDING_REDIRECT_KEY="pendingRedirect",redirectOutcomeMap=new Map;class RedirectAction extends AbstractPopupRedirectOperation{constructor(ht,xt,_t=!1){super(ht,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],xt,void 0,_t),this.eventId=null}async execute(){let ht=redirectOutcomeMap.get(this.auth._key());if(!ht){try{const _t=await _getAndClearPendingRedirectStatus(this.resolver,this.auth)?await super.execute():null;ht=()=>Promise.resolve(_t)}catch(xt){ht=()=>Promise.reject(xt)}redirectOutcomeMap.set(this.auth._key(),ht)}return this.bypassAuthState||redirectOutcomeMap.set(this.auth._key(),()=>Promise.resolve(null)),ht()}async onAuthEvent(ht){if(ht.type==="signInViaRedirect")return super.onAuthEvent(ht);if(ht.type==="unknown"){this.resolve(null);return}if(ht.eventId){const xt=await this.auth._redirectUserForId(ht.eventId);if(xt)return this.user=xt,super.onAuthEvent(ht);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _getAndClearPendingRedirectStatus(vt,ht){const xt=pendingRedirectKey(ht),_t=resolverPersistence(vt);if(!await _t._isAvailable())return!1;const $t=await _t._get(xt)==="true";return await _t._remove(xt),$t}function _overrideRedirectResult(vt,ht){redirectOutcomeMap.set(vt._key(),ht)}function resolverPersistence(vt){return _getInstance(vt._redirectPersistence)}function pendingRedirectKey(vt){return _persistenceKeyName(PENDING_REDIRECT_KEY,vt.config.apiKey,vt.name)}async function _getRedirectResult(vt,ht,xt=!1){if(_isFirebaseServerApp(vt.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(vt));const _t=_castAuth(vt),$t=_withDefaultResolver(_t,ht),Ct=await new RedirectAction(_t,$t,xt).execute();return Ct&&!xt&&(delete Ct.user._redirectEventId,await _t._persistUserIfCurrent(Ct.user),await _t._setRedirectUser(null,ht)),Ct}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EVENT_DUPLICATION_CACHE_DURATION_MS=10*60*1e3;class AuthEventManager{constructor(ht){this.auth=ht,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(ht){this.consumers.add(ht),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,ht)&&(this.sendToConsumer(this.queuedRedirectEvent,ht),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(ht){this.consumers.delete(ht)}onEvent(ht){if(this.hasEventBeenHandled(ht))return!1;let xt=!1;return this.consumers.forEach(_t=>{this.isEventForConsumer(ht,_t)&&(xt=!0,this.sendToConsumer(ht,_t),this.saveEventToCache(ht))}),this.hasHandledPotentialRedirect||!isRedirectEvent(ht)||(this.hasHandledPotentialRedirect=!0,xt||(this.queuedRedirectEvent=ht,xt=!0)),xt}sendToConsumer(ht,xt){var _t;if(ht.error&&!isNullRedirectEvent(ht)){const $t=((_t=ht.error.code)===null||_t===void 0?void 0:_t.split("auth/")[1])||"internal-error";xt.onError(_createError(this.auth,$t))}else xt.onAuthEvent(ht)}isEventForConsumer(ht,xt){const _t=xt.eventId===null||!!ht.eventId&&ht.eventId===xt.eventId;return xt.filter.includes(ht.type)&&_t}hasEventBeenHandled(ht){return Date.now()-this.lastProcessedEventTime>=EVENT_DUPLICATION_CACHE_DURATION_MS&&this.cachedEventUids.clear(),this.cachedEventUids.has(eventUid(ht))}saveEventToCache(ht){this.cachedEventUids.add(eventUid(ht)),this.lastProcessedEventTime=Date.now()}}function eventUid(vt){return[vt.type,vt.eventId,vt.sessionId,vt.tenantId].filter(ht=>ht).join("-")}function isNullRedirectEvent({type:vt,error:ht}){return vt==="unknown"&&(ht==null?void 0:ht.code)==="auth/no-auth-event"}function isRedirectEvent(vt){switch(vt.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return isNullRedirectEvent(vt);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _getProjectConfig(vt,ht={}){return _performApiRequest(vt,"GET","/v1/projects",ht)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP_ADDRESS_REGEX=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,HTTP_REGEX=/^https?/;async function _validateOrigin(vt){if(vt.config.emulator)return;const{authorizedDomains:ht}=await _getProjectConfig(vt);for(const xt of ht)try{if(matchDomain(xt))return}catch{}_fail(vt,"unauthorized-domain")}function matchDomain(vt){const ht=_getCurrentUrl(),{protocol:xt,hostname:_t}=new URL(ht);if(vt.startsWith("chrome-extension://")){const Ct=new URL(vt);return Ct.hostname===""&&_t===""?xt==="chrome-extension:"&&vt.replace("chrome-extension://","")===ht.replace("chrome-extension://",""):xt==="chrome-extension:"&&Ct.hostname===_t}if(!HTTP_REGEX.test(xt))return!1;if(IP_ADDRESS_REGEX.test(vt))return _t===vt;const $t=vt.replace(/\./g,"\\.");return new RegExp("^(.+\\."+$t+"|"+$t+")$","i").test(_t)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NETWORK_TIMEOUT=new Delay(3e4,6e4);function resetUnloadedGapiModules(){const vt=_window().___jsl;if(vt!=null&&vt.H){for(const ht of Object.keys(vt.H))if(vt.H[ht].r=vt.H[ht].r||[],vt.H[ht].L=vt.H[ht].L||[],vt.H[ht].r=[...vt.H[ht].L],vt.CP)for(let xt=0;xt<vt.CP.length;xt++)vt.CP[xt]=null}}function loadGapi(vt){return new Promise((ht,xt)=>{var _t,$t,wt;function Ct(){resetUnloadedGapiModules(),gapi.load("gapi.iframes",{callback:()=>{ht(gapi.iframes.getContext())},ontimeout:()=>{resetUnloadedGapiModules(),xt(_createError(vt,"network-request-failed"))},timeout:NETWORK_TIMEOUT.get()})}if(!(($t=(_t=_window().gapi)===null||_t===void 0?void 0:_t.iframes)===null||$t===void 0)&&$t.Iframe)ht(gapi.iframes.getContext());else if(!((wt=_window().gapi)===null||wt===void 0)&&wt.load)Ct();else{const Pt=_generateCallbackName("iframefcb");return _window()[Pt]=()=>{gapi.load?Ct():xt(_createError(vt,"network-request-failed"))},_loadJS(`${_gapiScriptUrl()}?onload=${Pt}`).catch(bt=>xt(bt))}}).catch(ht=>{throw cachedGApiLoader=null,ht})}let cachedGApiLoader=null;function _loadGapi(vt){return cachedGApiLoader=cachedGApiLoader||loadGapi(vt),cachedGApiLoader}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PING_TIMEOUT=new Delay(5e3,15e3),IFRAME_PATH="__/auth/iframe",EMULATED_IFRAME_PATH="emulator/auth/iframe",IFRAME_ATTRIBUTES={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},EID_FROM_APIHOST=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function getIframeUrl(vt){const ht=vt.config;_assert(ht.authDomain,vt,"auth-domain-config-required");const xt=ht.emulator?_emulatorUrl(ht,EMULATED_IFRAME_PATH):`https://${vt.config.authDomain}/${IFRAME_PATH}`,_t={apiKey:ht.apiKey,appName:vt.name,v:SDK_VERSION$1},$t=EID_FROM_APIHOST.get(vt.config.apiHost);$t&&(_t.eid=$t);const wt=vt._getFrameworks();return wt.length&&(_t.fw=wt.join(",")),`${xt}?${querystring(_t).slice(1)}`}async function _openIframe(vt){const ht=await _loadGapi(vt),xt=_window().gapi;return _assert(xt,vt,"internal-error"),ht.open({where:document.body,url:getIframeUrl(vt),messageHandlersFilter:xt.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:IFRAME_ATTRIBUTES,dontclear:!0},_t=>new Promise(async($t,wt)=>{await _t.restyle({setHideOnLeave:!1});const Ct=_createError(vt,"network-request-failed"),Pt=_window().setTimeout(()=>{wt(Ct)},PING_TIMEOUT.get());function bt(){_window().clearTimeout(Pt),$t(_t)}_t.ping(bt).then(bt,()=>{wt(Ct)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BASE_POPUP_OPTIONS={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},DEFAULT_WIDTH=500,DEFAULT_HEIGHT=600,TARGET_BLANK="_blank",FIREFOX_EMPTY_URL="http://localhost";class AuthPopup{constructor(ht){this.window=ht,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _open(vt,ht,xt,_t=DEFAULT_WIDTH,$t=DEFAULT_HEIGHT){const wt=Math.max((window.screen.availHeight-$t)/2,0).toString(),Ct=Math.max((window.screen.availWidth-_t)/2,0).toString();let Pt="";const bt=Object.assign(Object.assign({},BASE_POPUP_OPTIONS),{width:_t.toString(),height:$t.toString(),top:wt,left:Ct}),Rt=getUA().toLowerCase();xt&&(Pt=_isChromeIOS(Rt)?TARGET_BLANK:xt),_isFirefox(Rt)&&(ht=ht||FIREFOX_EMPTY_URL,bt.scrollbars="yes");const Nt=Object.entries(bt).reduce((Dt,[Ot,Lt])=>`${Dt}${Ot}=${Lt},`,"");if(_isIOSStandalone(Rt)&&Pt!=="_self")return openAsNewWindowIOS(ht||"",Pt),new AuthPopup(null);const kt=window.open(ht||"",Pt,Nt);_assert(kt,vt,"popup-blocked");try{kt.focus()}catch{}return new AuthPopup(kt)}function openAsNewWindowIOS(vt,ht){const xt=document.createElement("a");xt.href=vt,xt.target=ht;const _t=document.createEvent("MouseEvent");_t.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),xt.dispatchEvent(_t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WIDGET_PATH="__/auth/handler",EMULATOR_WIDGET_PATH="emulator/auth/handler",FIREBASE_APP_CHECK_FRAGMENT_ID=encodeURIComponent("fac");async function _getRedirectUrl(vt,ht,xt,_t,$t,wt){_assert(vt.config.authDomain,vt,"auth-domain-config-required"),_assert(vt.config.apiKey,vt,"invalid-api-key");const Ct={apiKey:vt.config.apiKey,appName:vt.name,authType:xt,redirectUrl:_t,v:SDK_VERSION$1,eventId:$t};if(ht instanceof FederatedAuthProvider){ht.setDefaultLanguage(vt.languageCode),Ct.providerId=ht.providerId||"",isEmpty(ht.getCustomParameters())||(Ct.customParameters=JSON.stringify(ht.getCustomParameters()));for(const[Nt,kt]of Object.entries({}))Ct[Nt]=kt}if(ht instanceof BaseOAuthProvider){const Nt=ht.getScopes().filter(kt=>kt!=="");Nt.length>0&&(Ct.scopes=Nt.join(","))}vt.tenantId&&(Ct.tid=vt.tenantId);const Pt=Ct;for(const Nt of Object.keys(Pt))Pt[Nt]===void 0&&delete Pt[Nt];const bt=await vt._getAppCheckToken(),Rt=bt?`#${FIREBASE_APP_CHECK_FRAGMENT_ID}=${encodeURIComponent(bt)}`:"";return`${getHandlerBase(vt)}?${querystring(Pt).slice(1)}${Rt}`}function getHandlerBase({config:vt}){return vt.emulator?_emulatorUrl(vt,EMULATOR_WIDGET_PATH):`https://${vt.authDomain}/${WIDGET_PATH}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WEB_STORAGE_SUPPORT_KEY="webStorageSupport";class BrowserPopupRedirectResolver{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=browserSessionPersistence,this._completeRedirectFn=_getRedirectResult,this._overrideRedirectResult=_overrideRedirectResult}async _openPopup(ht,xt,_t,$t){var wt;debugAssert((wt=this.eventManagers[ht._key()])===null||wt===void 0?void 0:wt.manager,"_initialize() not called before _openPopup()");const Ct=await _getRedirectUrl(ht,xt,_t,_getCurrentUrl(),$t);return _open(ht,Ct,_generateEventId())}async _openRedirect(ht,xt,_t,$t){await this._originValidation(ht);const wt=await _getRedirectUrl(ht,xt,_t,_getCurrentUrl(),$t);return _setWindowLocation(wt),new Promise(()=>{})}_initialize(ht){const xt=ht._key();if(this.eventManagers[xt]){const{manager:$t,promise:wt}=this.eventManagers[xt];return $t?Promise.resolve($t):(debugAssert(wt,"If manager is not set, promise should be"),wt)}const _t=this.initAndGetManager(ht);return this.eventManagers[xt]={promise:_t},_t.catch(()=>{delete this.eventManagers[xt]}),_t}async initAndGetManager(ht){const xt=await _openIframe(ht),_t=new AuthEventManager(ht);return xt.register("authEvent",$t=>(_assert($t==null?void 0:$t.authEvent,ht,"invalid-auth-event"),{status:_t.onEvent($t.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[ht._key()]={manager:_t},this.iframes[ht._key()]=xt,_t}_isIframeWebStorageSupported(ht,xt){this.iframes[ht._key()].send(WEB_STORAGE_SUPPORT_KEY,{type:WEB_STORAGE_SUPPORT_KEY},$t=>{var wt;const Ct=(wt=$t==null?void 0:$t[0])===null||wt===void 0?void 0:wt[WEB_STORAGE_SUPPORT_KEY];Ct!==void 0&&xt(!!Ct),_fail(ht,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(ht){const xt=ht._key();return this.originValidationPromises[xt]||(this.originValidationPromises[xt]=_validateOrigin(ht)),this.originValidationPromises[xt]}get _shouldInitProactively(){return _isMobileBrowser()||_isSafari()||_isIOS()}}const browserPopupRedirectResolver=BrowserPopupRedirectResolver;var name$2="@firebase/auth",version$2="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthInterop{constructor(ht){this.auth=ht,this.internalListeners=new Map}getUid(){var ht;return this.assertAuthConfigured(),((ht=this.auth.currentUser)===null||ht===void 0?void 0:ht.uid)||null}async getToken(ht){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(ht)}:null}addAuthTokenListener(ht){if(this.assertAuthConfigured(),this.internalListeners.has(ht))return;const xt=this.auth.onIdTokenChanged(_t=>{ht((_t==null?void 0:_t.stsTokenManager.accessToken)||null)});this.internalListeners.set(ht,xt),this.updateProactiveRefresh()}removeAuthTokenListener(ht){this.assertAuthConfigured();const xt=this.internalListeners.get(ht);xt&&(this.internalListeners.delete(ht),xt(),this.updateProactiveRefresh())}assertAuthConfigured(){_assert(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getVersionForPlatform(vt){switch(vt){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function registerAuth(vt){_registerComponent(new Component("auth",(ht,{options:xt})=>{const _t=ht.getProvider("app").getImmediate(),$t=ht.getProvider("heartbeat"),wt=ht.getProvider("app-check-internal"),{apiKey:Ct,authDomain:Pt}=_t.options;_assert(Ct&&!Ct.includes(":"),"invalid-api-key",{appName:_t.name});const bt={apiKey:Ct,authDomain:Pt,clientPlatform:vt,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_getClientVersion(vt)},Rt=new AuthImpl(_t,$t,wt,bt);return _initializeAuthInstance(Rt,xt),Rt},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((ht,xt,_t)=>{ht.getProvider("auth-internal").initialize()})),_registerComponent(new Component("auth-internal",ht=>{const xt=_castAuth(ht.getProvider("auth").getImmediate());return(_t=>new AuthInterop(_t))(xt)},"PRIVATE").setInstantiationMode("EXPLICIT")),registerVersion(name$2,version$2,getVersionForPlatform(vt)),registerVersion(name$2,version$2,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ID_TOKEN_MAX_AGE=5*60,authIdTokenMaxAge=getExperimentalSetting("authIdTokenMaxAge")||DEFAULT_ID_TOKEN_MAX_AGE;let lastPostedIdToken=null;const mintCookieFactory=vt=>async ht=>{const xt=ht&&await ht.getIdTokenResult(),_t=xt&&(new Date().getTime()-Date.parse(xt.issuedAtTime))/1e3;if(_t&&_t>authIdTokenMaxAge)return;const $t=xt==null?void 0:xt.token;lastPostedIdToken!==$t&&(lastPostedIdToken=$t,await fetch(vt,{method:$t?"POST":"DELETE",headers:$t?{Authorization:`Bearer ${$t}`}:{}}))};function getAuth(vt=getApp()){const ht=_getProvider(vt,"auth");if(ht.isInitialized())return ht.getImmediate();const xt=initializeAuth(vt,{popupRedirectResolver:browserPopupRedirectResolver,persistence:[indexedDBLocalPersistence,browserLocalPersistence,browserSessionPersistence]}),_t=getExperimentalSetting("authTokenSyncURL");if(_t&&typeof isSecureContext=="boolean"&&isSecureContext){const wt=new URL(_t,location.origin);if(location.origin===wt.origin){const Ct=mintCookieFactory(wt.toString());beforeAuthStateChanged(xt,Ct,()=>Ct(xt.currentUser)),onIdTokenChanged(xt,Pt=>Ct(Pt))}}const $t=getDefaultEmulatorHost("auth");return $t&&connectAuthEmulator(xt,`http://${$t}`),xt}function getScriptParentElement(){var vt,ht;return(ht=(vt=document.getElementsByTagName("head"))===null||vt===void 0?void 0:vt[0])!==null&&ht!==void 0?ht:document}_setExternalJSProvider({loadJS(vt){return new Promise((ht,xt)=>{const _t=document.createElement("script");_t.setAttribute("src",vt),_t.onload=ht,_t.onerror=$t=>{const wt=_createError("internal-error");wt.customData=$t,xt(wt)},_t.type="text/javascript",_t.charset="UTF-8",getScriptParentElement().appendChild(_t)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});registerAuth("Browser");var name$1="firebase",version$1="11.0.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */registerVersion(name$1,version$1,"app");const firebaseConfig={apiKey:"AIzaSyAktjl2Jc1EEaDI7uYZk2hb2BFklxYCnZY",authDomain:"banana-game-cfe4c.firebaseapp.com",databaseURL:"https://banana-game-cfe4c-default-rtdb.firebaseio.com/",projectId:"banana-game-cfe4c",storageBucket:"banana-game-cfe4c.firebasestorage.app",messagingSenderId:"430115360458",appId:"1:430115360458:web:64a484c247066a28752e33",measurementId:"G-WPDTWCQED5"},app=initializeApp(firebaseConfig);var define_process_env_default$1={};const name="@firebase/database",version="1.0.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let SDK_VERSION="";function setSDKVersion(vt){SDK_VERSION=vt}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DOMStorageWrapper{constructor(ht){this.domStorage_=ht,this.prefix_="firebase:"}set(ht,xt){xt==null?this.domStorage_.removeItem(this.prefixedName_(ht)):this.domStorage_.setItem(this.prefixedName_(ht),stringify(xt))}get(ht){const xt=this.domStorage_.getItem(this.prefixedName_(ht));return xt==null?null:jsonEval(xt)}remove(ht){this.domStorage_.removeItem(this.prefixedName_(ht))}prefixedName_(ht){return this.prefix_+ht}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MemoryStorage{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(ht,xt){xt==null?delete this.cache_[ht]:this.cache_[ht]=xt}get(ht){return contains(this.cache_,ht)?this.cache_[ht]:null}remove(ht){delete this.cache_[ht]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const createStoragefor=function(vt){try{if(typeof window<"u"&&typeof window[vt]<"u"){const ht=window[vt];return ht.setItem("firebase:sentinel","cache"),ht.removeItem("firebase:sentinel"),new DOMStorageWrapper(ht)}}catch{}return new MemoryStorage},PersistentStorage=createStoragefor("localStorage"),SessionStorage=createStoragefor("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logClient=new Logger("@firebase/database"),LUIDGenerator=function(){let vt=1;return function(){return vt++}}(),sha1=function(vt){const ht=stringToByteArray(vt),xt=new Sha1;xt.update(ht);const _t=xt.digest();return base64.encodeByteArray(_t)},buildLogMessage_=function(...vt){let ht="";for(let xt=0;xt<vt.length;xt++){const _t=vt[xt];Array.isArray(_t)||_t&&typeof _t=="object"&&typeof _t.length=="number"?ht+=buildLogMessage_.apply(null,_t):typeof _t=="object"?ht+=stringify(_t):ht+=_t,ht+=" "}return ht};let logger=null,firstLog_=!0;const enableLogging$1=function(vt,ht){assert(!ht,"Can't turn on custom loggers persistently."),logClient.logLevel=LogLevel.VERBOSE,logger=logClient.log.bind(logClient)},log=function(...vt){if(firstLog_===!0&&(firstLog_=!1,logger===null&&SessionStorage.get("logging_enabled")===!0&&enableLogging$1()),logger){const ht=buildLogMessage_.apply(null,vt);logger(ht)}},logWrapper=function(vt){return function(...ht){log(vt,...ht)}},error=function(...vt){const ht="FIREBASE INTERNAL ERROR: "+buildLogMessage_(...vt);logClient.error(ht)},fatal=function(...vt){const ht=`FIREBASE FATAL ERROR: ${buildLogMessage_(...vt)}`;throw logClient.error(ht),new Error(ht)},warn=function(...vt){const ht="FIREBASE WARNING: "+buildLogMessage_(...vt);logClient.warn(ht)},warnIfPageIsSecure=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&warn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},isInvalidJSONNumber=function(vt){return typeof vt=="number"&&(vt!==vt||vt===Number.POSITIVE_INFINITY||vt===Number.NEGATIVE_INFINITY)},executeWhenDOMReady=function(vt){if(document.readyState==="complete")vt();else{let ht=!1;const xt=function(){if(!document.body){setTimeout(xt,Math.floor(10));return}ht||(ht=!0,vt())};document.addEventListener?(document.addEventListener("DOMContentLoaded",xt,!1),window.addEventListener("load",xt,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&xt()}),window.attachEvent("onload",xt))}},MIN_NAME="[MIN_NAME]",MAX_NAME="[MAX_NAME]",nameCompare=function(vt,ht){if(vt===ht)return 0;if(vt===MIN_NAME||ht===MAX_NAME)return-1;if(ht===MIN_NAME||vt===MAX_NAME)return 1;{const xt=tryParseInt(vt),_t=tryParseInt(ht);return xt!==null?_t!==null?xt-_t===0?vt.length-ht.length:xt-_t:-1:_t!==null?1:vt<ht?-1:1}},stringCompare=function(vt,ht){return vt===ht?0:vt<ht?-1:1},requireKey=function(vt,ht){if(ht&&vt in ht)return ht[vt];throw new Error("Missing required key ("+vt+") in object: "+stringify(ht))},ObjectToUniqueKey=function(vt){if(typeof vt!="object"||vt===null)return stringify(vt);const ht=[];for(const _t in vt)ht.push(_t);ht.sort();let xt="{";for(let _t=0;_t<ht.length;_t++)_t!==0&&(xt+=","),xt+=stringify(ht[_t]),xt+=":",xt+=ObjectToUniqueKey(vt[ht[_t]]);return xt+="}",xt},splitStringBySize=function(vt,ht){const xt=vt.length;if(xt<=ht)return[vt];const _t=[];for(let $t=0;$t<xt;$t+=ht)$t+ht>xt?_t.push(vt.substring($t,xt)):_t.push(vt.substring($t,$t+ht));return _t};function each(vt,ht){for(const xt in vt)vt.hasOwnProperty(xt)&&ht(xt,vt[xt])}const doubleToIEEE754String=function(vt){assert(!isInvalidJSONNumber(vt),"Invalid JSON number");const ht=11,xt=52,_t=(1<<ht-1)-1;let $t,wt,Ct,Pt,bt;vt===0?(wt=0,Ct=0,$t=1/vt===-1/0?1:0):($t=vt<0,vt=Math.abs(vt),vt>=Math.pow(2,1-_t)?(Pt=Math.min(Math.floor(Math.log(vt)/Math.LN2),_t),wt=Pt+_t,Ct=Math.round(vt*Math.pow(2,xt-Pt)-Math.pow(2,xt))):(wt=0,Ct=Math.round(vt/Math.pow(2,1-_t-xt))));const Rt=[];for(bt=xt;bt;bt-=1)Rt.push(Ct%2?1:0),Ct=Math.floor(Ct/2);for(bt=ht;bt;bt-=1)Rt.push(wt%2?1:0),wt=Math.floor(wt/2);Rt.push($t?1:0),Rt.reverse();const Nt=Rt.join("");let kt="";for(bt=0;bt<64;bt+=8){let Dt=parseInt(Nt.substr(bt,8),2).toString(16);Dt.length===1&&(Dt="0"+Dt),kt=kt+Dt}return kt.toLowerCase()},isChromeExtensionContentScript=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},isWindowsStoreApp=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function errorForServerCode(vt,ht){let xt="Unknown Error";vt==="too_big"?xt="The data requested exceeds the maximum size that can be accessed with a single request.":vt==="permission_denied"?xt="Client doesn't have permission to access the desired data.":vt==="unavailable"&&(xt="The service is unavailable");const _t=new Error(vt+" at "+ht._path.toString()+": "+xt);return _t.code=vt.toUpperCase(),_t}const INTEGER_REGEXP_=new RegExp("^-?(0*)\\d{1,10}$"),INTEGER_32_MIN=-2147483648,INTEGER_32_MAX=2147483647,tryParseInt=function(vt){if(INTEGER_REGEXP_.test(vt)){const ht=Number(vt);if(ht>=INTEGER_32_MIN&&ht<=INTEGER_32_MAX)return ht}return null},exceptionGuard=function(vt){try{vt()}catch(ht){setTimeout(()=>{const xt=ht.stack||"";throw warn("Exception was thrown by user callback.",xt),ht},Math.floor(0))}},beingCrawled=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},setTimeoutNonBlocking=function(vt,ht){const xt=setTimeout(vt,ht);return typeof xt=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(xt):typeof xt=="object"&&xt.unref&&xt.unref(),xt};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AppCheckTokenProvider{constructor(ht,xt){this.appName_=ht,this.appCheckProvider=xt,this.appCheck=xt==null?void 0:xt.getImmediate({optional:!0}),this.appCheck||xt==null||xt.get().then(_t=>this.appCheck=_t)}getToken(ht){return this.appCheck?this.appCheck.getToken(ht):new Promise((xt,_t)=>{setTimeout(()=>{this.appCheck?this.getToken(ht).then(xt,_t):xt(null)},0)})}addTokenChangeListener(ht){var xt;(xt=this.appCheckProvider)===null||xt===void 0||xt.get().then(_t=>_t.addTokenListener(ht))}notifyForInvalidToken(){warn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FirebaseAuthTokenProvider{constructor(ht,xt,_t){this.appName_=ht,this.firebaseOptions_=xt,this.authProvider_=_t,this.auth_=null,this.auth_=_t.getImmediate({optional:!0}),this.auth_||_t.onInit($t=>this.auth_=$t)}getToken(ht){return this.auth_?this.auth_.getToken(ht).catch(xt=>xt&&xt.code==="auth/token-not-initialized"?(log("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(xt)):new Promise((xt,_t)=>{setTimeout(()=>{this.auth_?this.getToken(ht).then(xt,_t):xt(null)},0)})}addTokenChangeListener(ht){this.auth_?this.auth_.addAuthTokenListener(ht):this.authProvider_.get().then(xt=>xt.addAuthTokenListener(ht))}removeTokenChangeListener(ht){this.authProvider_.get().then(xt=>xt.removeAuthTokenListener(ht))}notifyForInvalidToken(){let ht='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?ht+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?ht+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':ht+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',warn(ht)}}class EmulatorTokenProvider{constructor(ht){this.accessToken=ht}getToken(ht){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(ht){ht(this.accessToken)}removeTokenChangeListener(ht){}notifyForInvalidToken(){}}EmulatorTokenProvider.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PROTOCOL_VERSION="5",VERSION_PARAM="v",TRANSPORT_SESSION_PARAM="s",REFERER_PARAM="r",FORGE_REF="f",FORGE_DOMAIN_RE=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,LAST_SESSION_PARAM="ls",APPLICATION_ID_PARAM="p",APP_CHECK_TOKEN_PARAM="ac",WEBSOCKET="websocket",LONG_POLLING="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RepoInfo{constructor(ht,xt,_t,$t,wt=!1,Ct="",Pt=!1,bt=!1){this.secure=xt,this.namespace=_t,this.webSocketOnly=$t,this.nodeAdmin=wt,this.persistenceKey=Ct,this.includeNamespaceInQueryParams=Pt,this.isUsingEmulator=bt,this._host=ht.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=PersistentStorage.get("host:"+ht)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(ht){ht!==this.internalHost&&(this.internalHost=ht,this.isCacheableHost()&&PersistentStorage.set("host:"+this._host,this.internalHost))}toString(){let ht=this.toURLString();return this.persistenceKey&&(ht+="<"+this.persistenceKey+">"),ht}toURLString(){const ht=this.secure?"https://":"http://",xt=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${ht}${this.host}/${xt}`}}function repoInfoNeedsQueryParam(vt){return vt.host!==vt.internalHost||vt.isCustomHost()||vt.includeNamespaceInQueryParams}function repoInfoConnectionURL(vt,ht,xt){assert(typeof ht=="string","typeof type must == string"),assert(typeof xt=="object","typeof params must == object");let _t;if(ht===WEBSOCKET)_t=(vt.secure?"wss://":"ws://")+vt.internalHost+"/.ws?";else if(ht===LONG_POLLING)_t=(vt.secure?"https://":"http://")+vt.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+ht);repoInfoNeedsQueryParam(vt)&&(xt.ns=vt.namespace);const $t=[];return each(xt,(wt,Ct)=>{$t.push(wt+"="+Ct)}),_t+$t.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class StatsCollection{constructor(){this.counters_={}}incrementCounter(ht,xt=1){contains(this.counters_,ht)||(this.counters_[ht]=0),this.counters_[ht]+=xt}get(){return deepCopy(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const collections={},reporters={};function statsManagerGetCollection(vt){const ht=vt.toString();return collections[ht]||(collections[ht]=new StatsCollection),collections[ht]}function statsManagerGetOrCreateReporter(vt,ht){const xt=vt.toString();return reporters[xt]||(reporters[xt]=ht()),reporters[xt]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PacketReceiver{constructor(ht){this.onMessage_=ht,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(ht,xt){this.closeAfterResponse=ht,this.onClose=xt,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(ht,xt){for(this.pendingResponses[ht]=xt;this.pendingResponses[this.currentResponseNum];){const _t=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let $t=0;$t<_t.length;++$t)_t[$t]&&exceptionGuard(()=>{this.onMessage_(_t[$t])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FIREBASE_LONGPOLL_START_PARAM="start",FIREBASE_LONGPOLL_CLOSE_COMMAND="close",FIREBASE_LONGPOLL_COMMAND_CB_NAME="pLPCommand",FIREBASE_LONGPOLL_DATA_CB_NAME="pRTLPCB",FIREBASE_LONGPOLL_ID_PARAM="id",FIREBASE_LONGPOLL_PW_PARAM="pw",FIREBASE_LONGPOLL_SERIAL_PARAM="ser",FIREBASE_LONGPOLL_CALLBACK_ID_PARAM="cb",FIREBASE_LONGPOLL_SEGMENT_NUM_PARAM="seg",FIREBASE_LONGPOLL_SEGMENTS_IN_PACKET="ts",FIREBASE_LONGPOLL_DATA_PARAM="d",FIREBASE_LONGPOLL_DISCONN_FRAME_REQUEST_PARAM="dframe",MAX_URL_DATA_SIZE=1870,SEG_HEADER_SIZE=30,MAX_PAYLOAD_SIZE=MAX_URL_DATA_SIZE-SEG_HEADER_SIZE,KEEPALIVE_REQUEST_INTERVAL=25e3,LP_CONNECT_TIMEOUT=3e4;class BrowserPollConnection{constructor(ht,xt,_t,$t,wt,Ct,Pt){this.connId=ht,this.repoInfo=xt,this.applicationId=_t,this.appCheckToken=$t,this.authToken=wt,this.transportSessionId=Ct,this.lastSessionId=Pt,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=logWrapper(ht),this.stats_=statsManagerGetCollection(xt),this.urlFn=bt=>(this.appCheckToken&&(bt[APP_CHECK_TOKEN_PARAM]=this.appCheckToken),repoInfoConnectionURL(xt,LONG_POLLING,bt))}open(ht,xt){this.curSegmentNum=0,this.onDisconnect_=xt,this.myPacketOrderer=new PacketReceiver(ht),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(LP_CONNECT_TIMEOUT)),executeWhenDOMReady(()=>{if(this.isClosed_)return;this.scriptTagHolder=new FirebaseIFrameScriptHolder((...wt)=>{const[Ct,Pt,bt,Rt,Nt]=wt;if(this.incrementIncomingBytes_(wt),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,Ct===FIREBASE_LONGPOLL_START_PARAM)this.id=Pt,this.password=bt;else if(Ct===FIREBASE_LONGPOLL_CLOSE_COMMAND)Pt?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(Pt,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+Ct)},(...wt)=>{const[Ct,Pt]=wt;this.incrementIncomingBytes_(wt),this.myPacketOrderer.handleResponse(Ct,Pt)},()=>{this.onClosed_()},this.urlFn);const _t={};_t[FIREBASE_LONGPOLL_START_PARAM]="t",_t[FIREBASE_LONGPOLL_SERIAL_PARAM]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(_t[FIREBASE_LONGPOLL_CALLBACK_ID_PARAM]=this.scriptTagHolder.uniqueCallbackIdentifier),_t[VERSION_PARAM]=PROTOCOL_VERSION,this.transportSessionId&&(_t[TRANSPORT_SESSION_PARAM]=this.transportSessionId),this.lastSessionId&&(_t[LAST_SESSION_PARAM]=this.lastSessionId),this.applicationId&&(_t[APPLICATION_ID_PARAM]=this.applicationId),this.appCheckToken&&(_t[APP_CHECK_TOKEN_PARAM]=this.appCheckToken),typeof location<"u"&&location.hostname&&FORGE_DOMAIN_RE.test(location.hostname)&&(_t[REFERER_PARAM]=FORGE_REF);const $t=this.urlFn(_t);this.log_("Connecting via long-poll to "+$t),this.scriptTagHolder.addTag($t,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){BrowserPollConnection.forceAllow_=!0}static forceDisallow(){BrowserPollConnection.forceDisallow_=!0}static isAvailable(){return BrowserPollConnection.forceAllow_?!0:!BrowserPollConnection.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!isChromeExtensionContentScript()&&!isWindowsStoreApp()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(ht){const xt=stringify(ht);this.bytesSent+=xt.length,this.stats_.incrementCounter("bytes_sent",xt.length);const _t=base64Encode(xt),$t=splitStringBySize(_t,MAX_PAYLOAD_SIZE);for(let wt=0;wt<$t.length;wt++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,$t.length,$t[wt]),this.curSegmentNum++}addDisconnectPingFrame(ht,xt){this.myDisconnFrame=document.createElement("iframe");const _t={};_t[FIREBASE_LONGPOLL_DISCONN_FRAME_REQUEST_PARAM]="t",_t[FIREBASE_LONGPOLL_ID_PARAM]=ht,_t[FIREBASE_LONGPOLL_PW_PARAM]=xt,this.myDisconnFrame.src=this.urlFn(_t),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(ht){const xt=stringify(ht).length;this.bytesReceived+=xt,this.stats_.incrementCounter("bytes_received",xt)}}class FirebaseIFrameScriptHolder{constructor(ht,xt,_t,$t){this.onDisconnect=_t,this.urlFn=$t,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=LUIDGenerator(),window[FIREBASE_LONGPOLL_COMMAND_CB_NAME+this.uniqueCallbackIdentifier]=ht,window[FIREBASE_LONGPOLL_DATA_CB_NAME+this.uniqueCallbackIdentifier]=xt,this.myIFrame=FirebaseIFrameScriptHolder.createIFrame_();let wt="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(wt='<script>document.domain="'+document.domain+'";<\/script>');const Ct="<html><body>"+wt+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(Ct),this.myIFrame.doc.close()}catch(Pt){log("frame writing exception"),Pt.stack&&log(Pt.stack),log(Pt)}}}static createIFrame_(){const ht=document.createElement("iframe");if(ht.style.display="none",document.body){document.body.appendChild(ht);try{ht.contentWindow.document||log("No IE domain setting required")}catch{const _t=document.domain;ht.src="javascript:void((function(){document.open();document.domain='"+_t+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return ht.contentDocument?ht.doc=ht.contentDocument:ht.contentWindow?ht.doc=ht.contentWindow.document:ht.document&&(ht.doc=ht.document),ht}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const ht=this.onDisconnect;ht&&(this.onDisconnect=null,ht())}startLongPoll(ht,xt){for(this.myID=ht,this.myPW=xt,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const ht={};ht[FIREBASE_LONGPOLL_ID_PARAM]=this.myID,ht[FIREBASE_LONGPOLL_PW_PARAM]=this.myPW,ht[FIREBASE_LONGPOLL_SERIAL_PARAM]=this.currentSerial;let xt=this.urlFn(ht),_t="",$t=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+SEG_HEADER_SIZE+_t.length<=MAX_URL_DATA_SIZE;){const Ct=this.pendingSegs.shift();_t=_t+"&"+FIREBASE_LONGPOLL_SEGMENT_NUM_PARAM+$t+"="+Ct.seg+"&"+FIREBASE_LONGPOLL_SEGMENTS_IN_PACKET+$t+"="+Ct.ts+"&"+FIREBASE_LONGPOLL_DATA_PARAM+$t+"="+Ct.d,$t++}return xt=xt+_t,this.addLongPollTag_(xt,this.currentSerial),!0}else return!1}enqueueSegment(ht,xt,_t){this.pendingSegs.push({seg:ht,ts:xt,d:_t}),this.alive&&this.newRequest_()}addLongPollTag_(ht,xt){this.outstandingRequests.add(xt);const _t=()=>{this.outstandingRequests.delete(xt),this.newRequest_()},$t=setTimeout(_t,Math.floor(KEEPALIVE_REQUEST_INTERVAL)),wt=()=>{clearTimeout($t),_t()};this.addTag(ht,wt)}addTag(ht,xt){setTimeout(()=>{try{if(!this.sendNewPolls)return;const _t=this.myIFrame.doc.createElement("script");_t.type="text/javascript",_t.async=!0,_t.src=ht,_t.onload=_t.onreadystatechange=function(){const $t=_t.readyState;(!$t||$t==="loaded"||$t==="complete")&&(_t.onload=_t.onreadystatechange=null,_t.parentNode&&_t.parentNode.removeChild(_t),xt())},_t.onerror=()=>{log("Long-poll script failed to load: "+ht),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(_t)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WEBSOCKET_MAX_FRAME_SIZE=16384,WEBSOCKET_KEEPALIVE_INTERVAL=45e3;let WebSocketImpl=null;typeof MozWebSocket<"u"?WebSocketImpl=MozWebSocket:typeof WebSocket<"u"&&(WebSocketImpl=WebSocket);class WebSocketConnection{constructor(ht,xt,_t,$t,wt,Ct,Pt){this.connId=ht,this.applicationId=_t,this.appCheckToken=$t,this.authToken=wt,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=logWrapper(this.connId),this.stats_=statsManagerGetCollection(xt),this.connURL=WebSocketConnection.connectionURL_(xt,Ct,Pt,$t,_t),this.nodeAdmin=xt.nodeAdmin}static connectionURL_(ht,xt,_t,$t,wt){const Ct={};return Ct[VERSION_PARAM]=PROTOCOL_VERSION,typeof location<"u"&&location.hostname&&FORGE_DOMAIN_RE.test(location.hostname)&&(Ct[REFERER_PARAM]=FORGE_REF),xt&&(Ct[TRANSPORT_SESSION_PARAM]=xt),_t&&(Ct[LAST_SESSION_PARAM]=_t),$t&&(Ct[APP_CHECK_TOKEN_PARAM]=$t),wt&&(Ct[APPLICATION_ID_PARAM]=wt),repoInfoConnectionURL(ht,WEBSOCKET,Ct)}open(ht,xt){this.onDisconnect=xt,this.onMessage=ht,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,PersistentStorage.set("previous_websocket_failure",!0);try{let _t;isNodeSdk(),this.mySock=new WebSocketImpl(this.connURL,[],_t)}catch(_t){this.log_("Error instantiating WebSocket.");const $t=_t.message||_t.data;$t&&this.log_($t),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=_t=>{this.handleIncomingFrame(_t)},this.mySock.onerror=_t=>{this.log_("WebSocket error.  Closing connection.");const $t=_t.message||_t.data;$t&&this.log_($t),this.onClosed_()}}start(){}static forceDisallow(){WebSocketConnection.forceDisallow_=!0}static isAvailable(){let ht=!1;if(typeof navigator<"u"&&navigator.userAgent){const xt=/Android ([0-9]{0,}\.[0-9]{0,})/,_t=navigator.userAgent.match(xt);_t&&_t.length>1&&parseFloat(_t[1])<4.4&&(ht=!0)}return!ht&&WebSocketImpl!==null&&!WebSocketConnection.forceDisallow_}static previouslyFailed(){return PersistentStorage.isInMemoryStorage||PersistentStorage.get("previous_websocket_failure")===!0}markConnectionHealthy(){PersistentStorage.remove("previous_websocket_failure")}appendFrame_(ht){if(this.frames.push(ht),this.frames.length===this.totalFrames){const xt=this.frames.join("");this.frames=null;const _t=jsonEval(xt);this.onMessage(_t)}}handleNewFrameCount_(ht){this.totalFrames=ht,this.frames=[]}extractFrameCount_(ht){if(assert(this.frames===null,"We already have a frame buffer"),ht.length<=6){const xt=Number(ht);if(!isNaN(xt))return this.handleNewFrameCount_(xt),null}return this.handleNewFrameCount_(1),ht}handleIncomingFrame(ht){if(this.mySock===null)return;const xt=ht.data;if(this.bytesReceived+=xt.length,this.stats_.incrementCounter("bytes_received",xt.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(xt);else{const _t=this.extractFrameCount_(xt);_t!==null&&this.appendFrame_(_t)}}send(ht){this.resetKeepAlive();const xt=stringify(ht);this.bytesSent+=xt.length,this.stats_.incrementCounter("bytes_sent",xt.length);const _t=splitStringBySize(xt,WEBSOCKET_MAX_FRAME_SIZE);_t.length>1&&this.sendString_(String(_t.length));for(let $t=0;$t<_t.length;$t++)this.sendString_(_t[$t])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(WEBSOCKET_KEEPALIVE_INTERVAL))}sendString_(ht){try{this.mySock.send(ht)}catch(xt){this.log_("Exception thrown from WebSocket.send():",xt.message||xt.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}WebSocketConnection.responsesRequiredToBeHealthy=2;WebSocketConnection.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TransportManager{static get ALL_TRANSPORTS(){return[BrowserPollConnection,WebSocketConnection]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(ht){this.initTransports_(ht)}initTransports_(ht){const xt=WebSocketConnection&&WebSocketConnection.isAvailable();let _t=xt&&!WebSocketConnection.previouslyFailed();if(ht.webSocketOnly&&(xt||warn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),_t=!0),_t)this.transports_=[WebSocketConnection];else{const $t=this.transports_=[];for(const wt of TransportManager.ALL_TRANSPORTS)wt&&wt.isAvailable()&&$t.push(wt);TransportManager.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}TransportManager.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UPGRADE_TIMEOUT=6e4,DELAY_BEFORE_SENDING_EXTRA_REQUESTS=5e3,BYTES_SENT_HEALTHY_OVERRIDE=10*1024,BYTES_RECEIVED_HEALTHY_OVERRIDE=100*1024,MESSAGE_TYPE="t",MESSAGE_DATA="d",CONTROL_SHUTDOWN="s",CONTROL_RESET="r",CONTROL_ERROR="e",CONTROL_PONG="o",SWITCH_ACK="a",END_TRANSMISSION="n",PING="p",SERVER_HELLO="h";class Connection{constructor(ht,xt,_t,$t,wt,Ct,Pt,bt,Rt,Nt){this.id=ht,this.repoInfo_=xt,this.applicationId_=_t,this.appCheckToken_=$t,this.authToken_=wt,this.onMessage_=Ct,this.onReady_=Pt,this.onDisconnect_=bt,this.onKill_=Rt,this.lastSessionId=Nt,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=logWrapper("c:"+this.id+":"),this.transportManager_=new TransportManager(xt),this.log_("Connection created"),this.start_()}start_(){const ht=this.transportManager_.initialTransport();this.conn_=new ht(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=ht.responsesRequiredToBeHealthy||0;const xt=this.connReceiver_(this.conn_),_t=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(xt,_t)},Math.floor(0));const $t=ht.healthyTimeout||0;$t>0&&(this.healthyTimeout_=setTimeoutNonBlocking(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>BYTES_RECEIVED_HEALTHY_OVERRIDE?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>BYTES_SENT_HEALTHY_OVERRIDE?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor($t)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(ht){return xt=>{ht===this.conn_?this.onConnectionLost_(xt):ht===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(ht){return xt=>{this.state_!==2&&(ht===this.rx_?this.onPrimaryMessageReceived_(xt):ht===this.secondaryConn_?this.onSecondaryMessageReceived_(xt):this.log_("message on old connection"))}}sendRequest(ht){const xt={t:"d",d:ht};this.sendData_(xt)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(ht){if(MESSAGE_TYPE in ht){const xt=ht[MESSAGE_TYPE];xt===SWITCH_ACK?this.upgradeIfSecondaryHealthy_():xt===CONTROL_RESET?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):xt===CONTROL_PONG&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(ht){const xt=requireKey("t",ht),_t=requireKey("d",ht);if(xt==="c")this.onSecondaryControl_(_t);else if(xt==="d")this.pendingDataMessages.push(_t);else throw new Error("Unknown protocol layer: "+xt)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:PING,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:SWITCH_ACK,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:END_TRANSMISSION,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(ht){const xt=requireKey("t",ht),_t=requireKey("d",ht);xt==="c"?this.onControl_(_t):xt==="d"&&this.onDataMessage_(_t)}onDataMessage_(ht){this.onPrimaryResponse_(),this.onMessage_(ht)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(ht){const xt=requireKey(MESSAGE_TYPE,ht);if(MESSAGE_DATA in ht){const _t=ht[MESSAGE_DATA];if(xt===SERVER_HELLO){const $t=Object.assign({},_t);this.repoInfo_.isUsingEmulator&&($t.h=this.repoInfo_.host),this.onHandshake_($t)}else if(xt===END_TRANSMISSION){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let $t=0;$t<this.pendingDataMessages.length;++$t)this.onDataMessage_(this.pendingDataMessages[$t]);this.pendingDataMessages=[],this.tryCleanupConnection()}else xt===CONTROL_SHUTDOWN?this.onConnectionShutdown_(_t):xt===CONTROL_RESET?this.onReset_(_t):xt===CONTROL_ERROR?error("Server Error: "+_t):xt===CONTROL_PONG?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):error("Unknown control packet command: "+xt)}}onHandshake_(ht){const xt=ht.ts,_t=ht.v,$t=ht.h;this.sessionId=ht.s,this.repoInfo_.host=$t,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,xt),PROTOCOL_VERSION!==_t&&warn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const ht=this.transportManager_.upgradeTransport();ht&&this.startUpgrade_(ht)}startUpgrade_(ht){this.secondaryConn_=new ht(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=ht.responsesRequiredToBeHealthy||0;const xt=this.connReceiver_(this.secondaryConn_),_t=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(xt,_t),setTimeoutNonBlocking(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(UPGRADE_TIMEOUT))}onReset_(ht){this.log_("Reset packet received.  New host: "+ht),this.repoInfo_.host=ht,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(ht,xt){this.log_("Realtime connection established."),this.conn_=ht,this.state_=1,this.onReady_&&(this.onReady_(xt,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):setTimeoutNonBlocking(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(DELAY_BEFORE_SENDING_EXTRA_REQUESTS))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:PING,d:{}}}))}onSecondaryConnectionLost_(){const ht=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===ht||this.rx_===ht)&&this.close()}onConnectionLost_(ht){this.conn_=null,!ht&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(PersistentStorage.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(ht){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(ht),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(ht){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(ht)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ServerActions{put(ht,xt,_t,$t){}merge(ht,xt,_t,$t){}refreshAuthToken(ht){}refreshAppCheckToken(ht){}onDisconnectPut(ht,xt,_t){}onDisconnectMerge(ht,xt,_t){}onDisconnectCancel(ht,xt){}reportStats(ht){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EventEmitter{constructor(ht){this.allowedEvents_=ht,this.listeners_={},assert(Array.isArray(ht)&&ht.length>0,"Requires a non-empty array")}trigger(ht,...xt){if(Array.isArray(this.listeners_[ht])){const _t=[...this.listeners_[ht]];for(let $t=0;$t<_t.length;$t++)_t[$t].callback.apply(_t[$t].context,xt)}}on(ht,xt,_t){this.validateEventType_(ht),this.listeners_[ht]=this.listeners_[ht]||[],this.listeners_[ht].push({callback:xt,context:_t});const $t=this.getInitialEvent(ht);$t&&xt.apply(_t,$t)}off(ht,xt,_t){this.validateEventType_(ht);const $t=this.listeners_[ht]||[];for(let wt=0;wt<$t.length;wt++)if($t[wt].callback===xt&&(!_t||_t===$t[wt].context)){$t.splice(wt,1);return}}validateEventType_(ht){assert(this.allowedEvents_.find(xt=>xt===ht),"Unknown event: "+ht)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OnlineMonitor extends EventEmitter{static getInstance(){return new OnlineMonitor}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!isMobileCordova()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(ht){return assert(ht==="online","Unknown event type: "+ht),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MAX_PATH_DEPTH=32,MAX_PATH_LENGTH_BYTES=768;class Path{constructor(ht,xt){if(xt===void 0){this.pieces_=ht.split("/");let _t=0;for(let $t=0;$t<this.pieces_.length;$t++)this.pieces_[$t].length>0&&(this.pieces_[_t]=this.pieces_[$t],_t++);this.pieces_.length=_t,this.pieceNum_=0}else this.pieces_=ht,this.pieceNum_=xt}toString(){let ht="";for(let xt=this.pieceNum_;xt<this.pieces_.length;xt++)this.pieces_[xt]!==""&&(ht+="/"+this.pieces_[xt]);return ht||"/"}}function newEmptyPath(){return new Path("")}function pathGetFront(vt){return vt.pieceNum_>=vt.pieces_.length?null:vt.pieces_[vt.pieceNum_]}function pathGetLength(vt){return vt.pieces_.length-vt.pieceNum_}function pathPopFront(vt){let ht=vt.pieceNum_;return ht<vt.pieces_.length&&ht++,new Path(vt.pieces_,ht)}function pathGetBack(vt){return vt.pieceNum_<vt.pieces_.length?vt.pieces_[vt.pieces_.length-1]:null}function pathToUrlEncodedString(vt){let ht="";for(let xt=vt.pieceNum_;xt<vt.pieces_.length;xt++)vt.pieces_[xt]!==""&&(ht+="/"+encodeURIComponent(String(vt.pieces_[xt])));return ht||"/"}function pathSlice(vt,ht=0){return vt.pieces_.slice(vt.pieceNum_+ht)}function pathParent(vt){if(vt.pieceNum_>=vt.pieces_.length)return null;const ht=[];for(let xt=vt.pieceNum_;xt<vt.pieces_.length-1;xt++)ht.push(vt.pieces_[xt]);return new Path(ht,0)}function pathChild(vt,ht){const xt=[];for(let _t=vt.pieceNum_;_t<vt.pieces_.length;_t++)xt.push(vt.pieces_[_t]);if(ht instanceof Path)for(let _t=ht.pieceNum_;_t<ht.pieces_.length;_t++)xt.push(ht.pieces_[_t]);else{const _t=ht.split("/");for(let $t=0;$t<_t.length;$t++)_t[$t].length>0&&xt.push(_t[$t])}return new Path(xt,0)}function pathIsEmpty(vt){return vt.pieceNum_>=vt.pieces_.length}function newRelativePath(vt,ht){const xt=pathGetFront(vt),_t=pathGetFront(ht);if(xt===null)return ht;if(xt===_t)return newRelativePath(pathPopFront(vt),pathPopFront(ht));throw new Error("INTERNAL ERROR: innerPath ("+ht+") is not within outerPath ("+vt+")")}function pathCompare(vt,ht){const xt=pathSlice(vt,0),_t=pathSlice(ht,0);for(let $t=0;$t<xt.length&&$t<_t.length;$t++){const wt=nameCompare(xt[$t],_t[$t]);if(wt!==0)return wt}return xt.length===_t.length?0:xt.length<_t.length?-1:1}function pathEquals(vt,ht){if(pathGetLength(vt)!==pathGetLength(ht))return!1;for(let xt=vt.pieceNum_,_t=ht.pieceNum_;xt<=vt.pieces_.length;xt++,_t++)if(vt.pieces_[xt]!==ht.pieces_[_t])return!1;return!0}function pathContains(vt,ht){let xt=vt.pieceNum_,_t=ht.pieceNum_;if(pathGetLength(vt)>pathGetLength(ht))return!1;for(;xt<vt.pieces_.length;){if(vt.pieces_[xt]!==ht.pieces_[_t])return!1;++xt,++_t}return!0}class ValidationPath{constructor(ht,xt){this.errorPrefix_=xt,this.parts_=pathSlice(ht,0),this.byteLength_=Math.max(1,this.parts_.length);for(let _t=0;_t<this.parts_.length;_t++)this.byteLength_+=stringLength(this.parts_[_t]);validationPathCheckValid(this)}}function validationPathPush(vt,ht){vt.parts_.length>0&&(vt.byteLength_+=1),vt.parts_.push(ht),vt.byteLength_+=stringLength(ht),validationPathCheckValid(vt)}function validationPathPop(vt){const ht=vt.parts_.pop();vt.byteLength_-=stringLength(ht),vt.parts_.length>0&&(vt.byteLength_-=1)}function validationPathCheckValid(vt){if(vt.byteLength_>MAX_PATH_LENGTH_BYTES)throw new Error(vt.errorPrefix_+"has a key path longer than "+MAX_PATH_LENGTH_BYTES+" bytes ("+vt.byteLength_+").");if(vt.parts_.length>MAX_PATH_DEPTH)throw new Error(vt.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+MAX_PATH_DEPTH+") or object contains a cycle "+validationPathToErrorString(vt))}function validationPathToErrorString(vt){return vt.parts_.length===0?"":"in property '"+vt.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VisibilityMonitor extends EventEmitter{static getInstance(){return new VisibilityMonitor}constructor(){super(["visible"]);let ht,xt;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(xt="visibilitychange",ht="hidden"):typeof document.mozHidden<"u"?(xt="mozvisibilitychange",ht="mozHidden"):typeof document.msHidden<"u"?(xt="msvisibilitychange",ht="msHidden"):typeof document.webkitHidden<"u"&&(xt="webkitvisibilitychange",ht="webkitHidden")),this.visible_=!0,xt&&document.addEventListener(xt,()=>{const _t=!document[ht];_t!==this.visible_&&(this.visible_=_t,this.trigger("visible",_t))},!1)}getInitialEvent(ht){return assert(ht==="visible","Unknown event type: "+ht),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RECONNECT_MIN_DELAY=1e3,RECONNECT_MAX_DELAY_DEFAULT=60*5*1e3,RECONNECT_MAX_DELAY_FOR_ADMINS=30*1e3,RECONNECT_DELAY_MULTIPLIER=1.3,RECONNECT_DELAY_RESET_TIMEOUT=3e4,SERVER_KILL_INTERRUPT_REASON="server_kill",INVALID_TOKEN_THRESHOLD=3;class PersistentConnection extends ServerActions{constructor(ht,xt,_t,$t,wt,Ct,Pt,bt){if(super(),this.repoInfo_=ht,this.applicationId_=xt,this.onDataUpdate_=_t,this.onConnectStatus_=$t,this.onServerInfoUpdate_=wt,this.authTokenProvider_=Ct,this.appCheckTokenProvider_=Pt,this.authOverride_=bt,this.id=PersistentConnection.nextPersistentConnectionId_++,this.log_=logWrapper("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=RECONNECT_MIN_DELAY,this.maxReconnectDelay_=RECONNECT_MAX_DELAY_DEFAULT,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,bt&&!isNodeSdk())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");VisibilityMonitor.getInstance().on("visible",this.onVisible_,this),ht.host.indexOf("fblocal")===-1&&OnlineMonitor.getInstance().on("online",this.onOnline_,this)}sendRequest(ht,xt,_t){const $t=++this.requestNumber_,wt={r:$t,a:ht,b:xt};this.log_(stringify(wt)),assert(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(wt),_t&&(this.requestCBHash_[$t]=_t)}get(ht){this.initConnection_();const xt=new Deferred,$t={action:"g",request:{p:ht._path.toString(),q:ht._queryObject},onComplete:Ct=>{const Pt=Ct.d;Ct.s==="ok"?xt.resolve(Pt):xt.reject(Pt)}};this.outstandingGets_.push($t),this.outstandingGetCount_++;const wt=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(wt),xt.promise}listen(ht,xt,_t,$t){this.initConnection_();const wt=ht._queryIdentifier,Ct=ht._path.toString();this.log_("Listen called for "+Ct+" "+wt),this.listens.has(Ct)||this.listens.set(Ct,new Map),assert(ht._queryParams.isDefault()||!ht._queryParams.loadsAllData(),"listen() called for non-default but complete query"),assert(!this.listens.get(Ct).has(wt),"listen() called twice for same path/queryId.");const Pt={onComplete:$t,hashFn:xt,query:ht,tag:_t};this.listens.get(Ct).set(wt,Pt),this.connected_&&this.sendListen_(Pt)}sendGet_(ht){const xt=this.outstandingGets_[ht];this.sendRequest("g",xt.request,_t=>{delete this.outstandingGets_[ht],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),xt.onComplete&&xt.onComplete(_t)})}sendListen_(ht){const xt=ht.query,_t=xt._path.toString(),$t=xt._queryIdentifier;this.log_("Listen on "+_t+" for "+$t);const wt={p:_t},Ct="q";ht.tag&&(wt.q=xt._queryObject,wt.t=ht.tag),wt.h=ht.hashFn(),this.sendRequest(Ct,wt,Pt=>{const bt=Pt.d,Rt=Pt.s;PersistentConnection.warnOnListenWarnings_(bt,xt),(this.listens.get(_t)&&this.listens.get(_t).get($t))===ht&&(this.log_("listen response",Pt),Rt!=="ok"&&this.removeListen_(_t,$t),ht.onComplete&&ht.onComplete(Rt,bt))})}static warnOnListenWarnings_(ht,xt){if(ht&&typeof ht=="object"&&contains(ht,"w")){const _t=safeGet(ht,"w");if(Array.isArray(_t)&&~_t.indexOf("no_index")){const $t='".indexOn": "'+xt._queryParams.getIndex().toString()+'"',wt=xt._path.toString();warn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${$t} at ${wt} to your security rules for better performance.`)}}}refreshAuthToken(ht){this.authToken_=ht,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(ht)}reduceReconnectDelayIfAdminCredential_(ht){(ht&&ht.length===40||isAdmin(ht))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=RECONNECT_MAX_DELAY_FOR_ADMINS)}refreshAppCheckToken(ht){this.appCheckToken_=ht,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const ht=this.authToken_,xt=isValidFormat(ht)?"auth":"gauth",_t={cred:ht};this.authOverride_===null?_t.noauth=!0:typeof this.authOverride_=="object"&&(_t.authvar=this.authOverride_),this.sendRequest(xt,_t,$t=>{const wt=$t.s,Ct=$t.d||"error";this.authToken_===ht&&(wt==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(wt,Ct))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},ht=>{const xt=ht.s,_t=ht.d||"error";xt==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(xt,_t)})}unlisten(ht,xt){const _t=ht._path.toString(),$t=ht._queryIdentifier;this.log_("Unlisten called for "+_t+" "+$t),assert(ht._queryParams.isDefault()||!ht._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(_t,$t)&&this.connected_&&this.sendUnlisten_(_t,$t,ht._queryObject,xt)}sendUnlisten_(ht,xt,_t,$t){this.log_("Unlisten on "+ht+" for "+xt);const wt={p:ht},Ct="n";$t&&(wt.q=_t,wt.t=$t),this.sendRequest(Ct,wt)}onDisconnectPut(ht,xt,_t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",ht,xt,_t):this.onDisconnectRequestQueue_.push({pathString:ht,action:"o",data:xt,onComplete:_t})}onDisconnectMerge(ht,xt,_t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",ht,xt,_t):this.onDisconnectRequestQueue_.push({pathString:ht,action:"om",data:xt,onComplete:_t})}onDisconnectCancel(ht,xt){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",ht,null,xt):this.onDisconnectRequestQueue_.push({pathString:ht,action:"oc",data:null,onComplete:xt})}sendOnDisconnect_(ht,xt,_t,$t){const wt={p:xt,d:_t};this.log_("onDisconnect "+ht,wt),this.sendRequest(ht,wt,Ct=>{$t&&setTimeout(()=>{$t(Ct.s,Ct.d)},Math.floor(0))})}put(ht,xt,_t,$t){this.putInternal("p",ht,xt,_t,$t)}merge(ht,xt,_t,$t){this.putInternal("m",ht,xt,_t,$t)}putInternal(ht,xt,_t,$t,wt){this.initConnection_();const Ct={p:xt,d:_t};wt!==void 0&&(Ct.h=wt),this.outstandingPuts_.push({action:ht,request:Ct,onComplete:$t}),this.outstandingPutCount_++;const Pt=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(Pt):this.log_("Buffering put: "+xt)}sendPut_(ht){const xt=this.outstandingPuts_[ht].action,_t=this.outstandingPuts_[ht].request,$t=this.outstandingPuts_[ht].onComplete;this.outstandingPuts_[ht].queued=this.connected_,this.sendRequest(xt,_t,wt=>{this.log_(xt+" response",wt),delete this.outstandingPuts_[ht],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),$t&&$t(wt.s,wt.d)})}reportStats(ht){if(this.connected_){const xt={c:ht};this.log_("reportStats",xt),this.sendRequest("s",xt,_t=>{if(_t.s!=="ok"){const wt=_t.d;this.log_("reportStats","Error sending stats: "+wt)}})}}onDataMessage_(ht){if("r"in ht){this.log_("from server: "+stringify(ht));const xt=ht.r,_t=this.requestCBHash_[xt];_t&&(delete this.requestCBHash_[xt],_t(ht.b))}else{if("error"in ht)throw"A server-side error has occurred: "+ht.error;"a"in ht&&this.onDataPush_(ht.a,ht.b)}}onDataPush_(ht,xt){this.log_("handleServerMessage",ht,xt),ht==="d"?this.onDataUpdate_(xt.p,xt.d,!1,xt.t):ht==="m"?this.onDataUpdate_(xt.p,xt.d,!0,xt.t):ht==="c"?this.onListenRevoked_(xt.p,xt.q):ht==="ac"?this.onAuthRevoked_(xt.s,xt.d):ht==="apc"?this.onAppCheckRevoked_(xt.s,xt.d):ht==="sd"?this.onSecurityDebugPacket_(xt):error("Unrecognized action received from server: "+stringify(ht)+`
Are you using the latest client?`)}onReady_(ht,xt){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(ht),this.lastSessionId=xt,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(ht){assert(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(ht))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(ht){ht&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=RECONNECT_MIN_DELAY,this.realtime_||this.scheduleConnect_(0)),this.visible_=ht}onOnline_(ht){ht?(this.log_("Browser went online."),this.reconnectDelay_=RECONNECT_MIN_DELAY,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>RECONNECT_DELAY_RESET_TIMEOUT&&(this.reconnectDelay_=RECONNECT_MIN_DELAY),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const ht=new Date().getTime()-this.lastConnectionAttemptTime_;let xt=Math.max(0,this.reconnectDelay_-ht);xt=Math.random()*xt,this.log_("Trying to reconnect in "+xt+"ms"),this.scheduleConnect_(xt),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*RECONNECT_DELAY_MULTIPLIER)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const ht=this.onDataMessage_.bind(this),xt=this.onReady_.bind(this),_t=this.onRealtimeDisconnect_.bind(this),$t=this.id+":"+PersistentConnection.nextConnectionId_++,wt=this.lastSessionId;let Ct=!1,Pt=null;const bt=function(){Pt?Pt.close():(Ct=!0,_t())},Rt=function(kt){assert(Pt,"sendRequest call when we're not connected not allowed."),Pt.sendRequest(kt)};this.realtime_={close:bt,sendRequest:Rt};const Nt=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[kt,Dt]=await Promise.all([this.authTokenProvider_.getToken(Nt),this.appCheckTokenProvider_.getToken(Nt)]);Ct?log("getToken() completed but was canceled"):(log("getToken() completed. Creating connection."),this.authToken_=kt&&kt.accessToken,this.appCheckToken_=Dt&&Dt.token,Pt=new Connection($t,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,ht,xt,_t,Ot=>{warn(Ot+" ("+this.repoInfo_.toString()+")"),this.interrupt(SERVER_KILL_INTERRUPT_REASON)},wt))}catch(kt){this.log_("Failed to get token: "+kt),Ct||(this.repoInfo_.nodeAdmin&&warn(kt),bt())}}}interrupt(ht){log("Interrupting connection for reason: "+ht),this.interruptReasons_[ht]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(ht){log("Resuming connection for reason: "+ht),delete this.interruptReasons_[ht],isEmpty(this.interruptReasons_)&&(this.reconnectDelay_=RECONNECT_MIN_DELAY,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(ht){const xt=ht-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:xt})}cancelSentTransactions_(){for(let ht=0;ht<this.outstandingPuts_.length;ht++){const xt=this.outstandingPuts_[ht];xt&&"h"in xt.request&&xt.queued&&(xt.onComplete&&xt.onComplete("disconnect"),delete this.outstandingPuts_[ht],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(ht,xt){let _t;xt?_t=xt.map(wt=>ObjectToUniqueKey(wt)).join("$"):_t="default";const $t=this.removeListen_(ht,_t);$t&&$t.onComplete&&$t.onComplete("permission_denied")}removeListen_(ht,xt){const _t=new Path(ht).toString();let $t;if(this.listens.has(_t)){const wt=this.listens.get(_t);$t=wt.get(xt),wt.delete(xt),wt.size===0&&this.listens.delete(_t)}else $t=void 0;return $t}onAuthRevoked_(ht,xt){log("Auth token revoked: "+ht+"/"+xt),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(ht==="invalid_token"||ht==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=INVALID_TOKEN_THRESHOLD&&(this.reconnectDelay_=RECONNECT_MAX_DELAY_FOR_ADMINS,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(ht,xt){log("App check token revoked: "+ht+"/"+xt),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(ht==="invalid_token"||ht==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=INVALID_TOKEN_THRESHOLD&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(ht){this.securityDebugCallback_?this.securityDebugCallback_(ht):"msg"in ht&&console.log("FIREBASE: "+ht.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const ht of this.listens.values())for(const xt of ht.values())this.sendListen_(xt);for(let ht=0;ht<this.outstandingPuts_.length;ht++)this.outstandingPuts_[ht]&&this.sendPut_(ht);for(;this.onDisconnectRequestQueue_.length;){const ht=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(ht.action,ht.pathString,ht.data,ht.onComplete)}for(let ht=0;ht<this.outstandingGets_.length;ht++)this.outstandingGets_[ht]&&this.sendGet_(ht)}sendConnectStats_(){const ht={};let xt="js";ht["sdk."+xt+"."+SDK_VERSION.replace(/\./g,"-")]=1,isMobileCordova()?ht["framework.cordova"]=1:isReactNative()&&(ht["framework.reactnative"]=1),this.reportStats(ht)}shouldReconnect_(){const ht=OnlineMonitor.getInstance().currentlyOnline();return isEmpty(this.interruptReasons_)&&ht}}PersistentConnection.nextPersistentConnectionId_=0;PersistentConnection.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NamedNode{constructor(ht,xt){this.name=ht,this.node=xt}static Wrap(ht,xt){return new NamedNode(ht,xt)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Index{getCompare(){return this.compare.bind(this)}indexedValueChanged(ht,xt){const _t=new NamedNode(MIN_NAME,ht),$t=new NamedNode(MIN_NAME,xt);return this.compare(_t,$t)!==0}minPost(){return NamedNode.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let __EMPTY_NODE;class KeyIndex extends Index{static get __EMPTY_NODE(){return __EMPTY_NODE}static set __EMPTY_NODE(ht){__EMPTY_NODE=ht}compare(ht,xt){return nameCompare(ht.name,xt.name)}isDefinedOn(ht){throw assertionError("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(ht,xt){return!1}minPost(){return NamedNode.MIN}maxPost(){return new NamedNode(MAX_NAME,__EMPTY_NODE)}makePost(ht,xt){return assert(typeof ht=="string","KeyIndex indexValue must always be a string."),new NamedNode(ht,__EMPTY_NODE)}toString(){return".key"}}const KEY_INDEX=new KeyIndex;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SortedMapIterator{constructor(ht,xt,_t,$t,wt=null){this.isReverse_=$t,this.resultGenerator_=wt,this.nodeStack_=[];let Ct=1;for(;!ht.isEmpty();)if(ht=ht,Ct=xt?_t(ht.key,xt):1,$t&&(Ct*=-1),Ct<0)this.isReverse_?ht=ht.left:ht=ht.right;else if(Ct===0){this.nodeStack_.push(ht);break}else this.nodeStack_.push(ht),this.isReverse_?ht=ht.right:ht=ht.left}getNext(){if(this.nodeStack_.length===0)return null;let ht=this.nodeStack_.pop(),xt;if(this.resultGenerator_?xt=this.resultGenerator_(ht.key,ht.value):xt={key:ht.key,value:ht.value},this.isReverse_)for(ht=ht.left;!ht.isEmpty();)this.nodeStack_.push(ht),ht=ht.right;else for(ht=ht.right;!ht.isEmpty();)this.nodeStack_.push(ht),ht=ht.left;return xt}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const ht=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(ht.key,ht.value):{key:ht.key,value:ht.value}}}class LLRBNode{constructor(ht,xt,_t,$t,wt){this.key=ht,this.value=xt,this.color=_t??LLRBNode.RED,this.left=$t??SortedMap.EMPTY_NODE,this.right=wt??SortedMap.EMPTY_NODE}copy(ht,xt,_t,$t,wt){return new LLRBNode(ht??this.key,xt??this.value,_t??this.color,$t??this.left,wt??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(ht){return this.left.inorderTraversal(ht)||!!ht(this.key,this.value)||this.right.inorderTraversal(ht)}reverseTraversal(ht){return this.right.reverseTraversal(ht)||ht(this.key,this.value)||this.left.reverseTraversal(ht)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(ht,xt,_t){let $t=this;const wt=_t(ht,$t.key);return wt<0?$t=$t.copy(null,null,null,$t.left.insert(ht,xt,_t),null):wt===0?$t=$t.copy(null,xt,null,null,null):$t=$t.copy(null,null,null,null,$t.right.insert(ht,xt,_t)),$t.fixUp_()}removeMin_(){if(this.left.isEmpty())return SortedMap.EMPTY_NODE;let ht=this;return!ht.left.isRed_()&&!ht.left.left.isRed_()&&(ht=ht.moveRedLeft_()),ht=ht.copy(null,null,null,ht.left.removeMin_(),null),ht.fixUp_()}remove(ht,xt){let _t,$t;if(_t=this,xt(ht,_t.key)<0)!_t.left.isEmpty()&&!_t.left.isRed_()&&!_t.left.left.isRed_()&&(_t=_t.moveRedLeft_()),_t=_t.copy(null,null,null,_t.left.remove(ht,xt),null);else{if(_t.left.isRed_()&&(_t=_t.rotateRight_()),!_t.right.isEmpty()&&!_t.right.isRed_()&&!_t.right.left.isRed_()&&(_t=_t.moveRedRight_()),xt(ht,_t.key)===0){if(_t.right.isEmpty())return SortedMap.EMPTY_NODE;$t=_t.right.min_(),_t=_t.copy($t.key,$t.value,null,null,_t.right.removeMin_())}_t=_t.copy(null,null,null,null,_t.right.remove(ht,xt))}return _t.fixUp_()}isRed_(){return this.color}fixUp_(){let ht=this;return ht.right.isRed_()&&!ht.left.isRed_()&&(ht=ht.rotateLeft_()),ht.left.isRed_()&&ht.left.left.isRed_()&&(ht=ht.rotateRight_()),ht.left.isRed_()&&ht.right.isRed_()&&(ht=ht.colorFlip_()),ht}moveRedLeft_(){let ht=this.colorFlip_();return ht.right.left.isRed_()&&(ht=ht.copy(null,null,null,null,ht.right.rotateRight_()),ht=ht.rotateLeft_(),ht=ht.colorFlip_()),ht}moveRedRight_(){let ht=this.colorFlip_();return ht.left.left.isRed_()&&(ht=ht.rotateRight_(),ht=ht.colorFlip_()),ht}rotateLeft_(){const ht=this.copy(null,null,LLRBNode.RED,null,this.right.left);return this.right.copy(null,null,this.color,ht,null)}rotateRight_(){const ht=this.copy(null,null,LLRBNode.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,ht)}colorFlip_(){const ht=this.left.copy(null,null,!this.left.color,null,null),xt=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,ht,xt)}checkMaxDepth_(){const ht=this.check_();return Math.pow(2,ht)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const ht=this.left.check_();if(ht!==this.right.check_())throw new Error("Black depths differ");return ht+(this.isRed_()?0:1)}}LLRBNode.RED=!0;LLRBNode.BLACK=!1;class LLRBEmptyNode{copy(ht,xt,_t,$t,wt){return this}insert(ht,xt,_t){return new LLRBNode(ht,xt,null)}remove(ht,xt){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(ht){return!1}reverseTraversal(ht){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class SortedMap{constructor(ht,xt=SortedMap.EMPTY_NODE){this.comparator_=ht,this.root_=xt}insert(ht,xt){return new SortedMap(this.comparator_,this.root_.insert(ht,xt,this.comparator_).copy(null,null,LLRBNode.BLACK,null,null))}remove(ht){return new SortedMap(this.comparator_,this.root_.remove(ht,this.comparator_).copy(null,null,LLRBNode.BLACK,null,null))}get(ht){let xt,_t=this.root_;for(;!_t.isEmpty();){if(xt=this.comparator_(ht,_t.key),xt===0)return _t.value;xt<0?_t=_t.left:xt>0&&(_t=_t.right)}return null}getPredecessorKey(ht){let xt,_t=this.root_,$t=null;for(;!_t.isEmpty();)if(xt=this.comparator_(ht,_t.key),xt===0){if(_t.left.isEmpty())return $t?$t.key:null;for(_t=_t.left;!_t.right.isEmpty();)_t=_t.right;return _t.key}else xt<0?_t=_t.left:xt>0&&($t=_t,_t=_t.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(ht){return this.root_.inorderTraversal(ht)}reverseTraversal(ht){return this.root_.reverseTraversal(ht)}getIterator(ht){return new SortedMapIterator(this.root_,null,this.comparator_,!1,ht)}getIteratorFrom(ht,xt){return new SortedMapIterator(this.root_,ht,this.comparator_,!1,xt)}getReverseIteratorFrom(ht,xt){return new SortedMapIterator(this.root_,ht,this.comparator_,!0,xt)}getReverseIterator(ht){return new SortedMapIterator(this.root_,null,this.comparator_,!0,ht)}}SortedMap.EMPTY_NODE=new LLRBEmptyNode;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NAME_ONLY_COMPARATOR(vt,ht){return nameCompare(vt.name,ht.name)}function NAME_COMPARATOR(vt,ht){return nameCompare(vt,ht)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let MAX_NODE$2;function setMaxNode$1(vt){MAX_NODE$2=vt}const priorityHashText=function(vt){return typeof vt=="number"?"number:"+doubleToIEEE754String(vt):"string:"+vt},validatePriorityNode=function(vt){if(vt.isLeafNode()){const ht=vt.val();assert(typeof ht=="string"||typeof ht=="number"||typeof ht=="object"&&contains(ht,".sv"),"Priority must be a string or number.")}else assert(vt===MAX_NODE$2||vt.isEmpty(),"priority of unexpected type.");assert(vt===MAX_NODE$2||vt.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let __childrenNodeConstructor;class LeafNode{static set __childrenNodeConstructor(ht){__childrenNodeConstructor=ht}static get __childrenNodeConstructor(){return __childrenNodeConstructor}constructor(ht,xt=LeafNode.__childrenNodeConstructor.EMPTY_NODE){this.value_=ht,this.priorityNode_=xt,this.lazyHash_=null,assert(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),validatePriorityNode(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(ht){return new LeafNode(this.value_,ht)}getImmediateChild(ht){return ht===".priority"?this.priorityNode_:LeafNode.__childrenNodeConstructor.EMPTY_NODE}getChild(ht){return pathIsEmpty(ht)?this:pathGetFront(ht)===".priority"?this.priorityNode_:LeafNode.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(ht,xt){return null}updateImmediateChild(ht,xt){return ht===".priority"?this.updatePriority(xt):xt.isEmpty()&&ht!==".priority"?this:LeafNode.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(ht,xt).updatePriority(this.priorityNode_)}updateChild(ht,xt){const _t=pathGetFront(ht);return _t===null?xt:xt.isEmpty()&&_t!==".priority"?this:(assert(_t!==".priority"||pathGetLength(ht)===1,".priority must be the last token in a path"),this.updateImmediateChild(_t,LeafNode.__childrenNodeConstructor.EMPTY_NODE.updateChild(pathPopFront(ht),xt)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(ht,xt){return!1}val(ht){return ht&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let ht="";this.priorityNode_.isEmpty()||(ht+="priority:"+priorityHashText(this.priorityNode_.val())+":");const xt=typeof this.value_;ht+=xt+":",xt==="number"?ht+=doubleToIEEE754String(this.value_):ht+=this.value_,this.lazyHash_=sha1(ht)}return this.lazyHash_}getValue(){return this.value_}compareTo(ht){return ht===LeafNode.__childrenNodeConstructor.EMPTY_NODE?1:ht instanceof LeafNode.__childrenNodeConstructor?-1:(assert(ht.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(ht))}compareToLeafNode_(ht){const xt=typeof ht.value_,_t=typeof this.value_,$t=LeafNode.VALUE_TYPE_ORDER.indexOf(xt),wt=LeafNode.VALUE_TYPE_ORDER.indexOf(_t);return assert($t>=0,"Unknown leaf type: "+xt),assert(wt>=0,"Unknown leaf type: "+_t),$t===wt?_t==="object"?0:this.value_<ht.value_?-1:this.value_===ht.value_?0:1:wt-$t}withIndex(){return this}isIndexed(){return!0}equals(ht){if(ht===this)return!0;if(ht.isLeafNode()){const xt=ht;return this.value_===xt.value_&&this.priorityNode_.equals(xt.priorityNode_)}else return!1}}LeafNode.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nodeFromJSON$1,MAX_NODE$1;function setNodeFromJSON(vt){nodeFromJSON$1=vt}function setMaxNode(vt){MAX_NODE$1=vt}class PriorityIndex extends Index{compare(ht,xt){const _t=ht.node.getPriority(),$t=xt.node.getPriority(),wt=_t.compareTo($t);return wt===0?nameCompare(ht.name,xt.name):wt}isDefinedOn(ht){return!ht.getPriority().isEmpty()}indexedValueChanged(ht,xt){return!ht.getPriority().equals(xt.getPriority())}minPost(){return NamedNode.MIN}maxPost(){return new NamedNode(MAX_NAME,new LeafNode("[PRIORITY-POST]",MAX_NODE$1))}makePost(ht,xt){const _t=nodeFromJSON$1(ht);return new NamedNode(xt,new LeafNode("[PRIORITY-POST]",_t))}toString(){return".priority"}}const PRIORITY_INDEX=new PriorityIndex;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LOG_2=Math.log(2);class Base12Num{constructor(ht){const xt=wt=>parseInt(Math.log(wt)/LOG_2,10),_t=wt=>parseInt(Array(wt+1).join("1"),2);this.count=xt(ht+1),this.current_=this.count-1;const $t=_t(this.count);this.bits_=ht+1&$t}nextBitIsOne(){const ht=!(this.bits_&1<<this.current_);return this.current_--,ht}}const buildChildSet=function(vt,ht,xt,_t){vt.sort(ht);const $t=function(bt,Rt){const Nt=Rt-bt;let kt,Dt;if(Nt===0)return null;if(Nt===1)return kt=vt[bt],Dt=xt?xt(kt):kt,new LLRBNode(Dt,kt.node,LLRBNode.BLACK,null,null);{const Ot=parseInt(Nt/2,10)+bt,Lt=$t(bt,Ot),Ft=$t(Ot+1,Rt);return kt=vt[Ot],Dt=xt?xt(kt):kt,new LLRBNode(Dt,kt.node,LLRBNode.BLACK,Lt,Ft)}},wt=function(bt){let Rt=null,Nt=null,kt=vt.length;const Dt=function(Lt,Ft){const Ut=kt-Lt,jt=kt;kt-=Lt;const Vt=$t(Ut+1,jt),Bt=vt[Ut],Wt=xt?xt(Bt):Bt;Ot(new LLRBNode(Wt,Bt.node,Ft,null,Vt))},Ot=function(Lt){Rt?(Rt.left=Lt,Rt=Lt):(Nt=Lt,Rt=Lt)};for(let Lt=0;Lt<bt.count;++Lt){const Ft=bt.nextBitIsOne(),Ut=Math.pow(2,bt.count-(Lt+1));Ft?Dt(Ut,LLRBNode.BLACK):(Dt(Ut,LLRBNode.BLACK),Dt(Ut,LLRBNode.RED))}return Nt},Ct=new Base12Num(vt.length),Pt=wt(Ct);return new SortedMap(_t||ht,Pt)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _defaultIndexMap;const fallbackObject={};class IndexMap{static get Default(){return assert(fallbackObject&&PRIORITY_INDEX,"ChildrenNode.ts has not been loaded"),_defaultIndexMap=_defaultIndexMap||new IndexMap({".priority":fallbackObject},{".priority":PRIORITY_INDEX}),_defaultIndexMap}constructor(ht,xt){this.indexes_=ht,this.indexSet_=xt}get(ht){const xt=safeGet(this.indexes_,ht);if(!xt)throw new Error("No index defined for "+ht);return xt instanceof SortedMap?xt:null}hasIndex(ht){return contains(this.indexSet_,ht.toString())}addIndex(ht,xt){assert(ht!==KEY_INDEX,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const _t=[];let $t=!1;const wt=xt.getIterator(NamedNode.Wrap);let Ct=wt.getNext();for(;Ct;)$t=$t||ht.isDefinedOn(Ct.node),_t.push(Ct),Ct=wt.getNext();let Pt;$t?Pt=buildChildSet(_t,ht.getCompare()):Pt=fallbackObject;const bt=ht.toString(),Rt=Object.assign({},this.indexSet_);Rt[bt]=ht;const Nt=Object.assign({},this.indexes_);return Nt[bt]=Pt,new IndexMap(Nt,Rt)}addToIndexes(ht,xt){const _t=map(this.indexes_,($t,wt)=>{const Ct=safeGet(this.indexSet_,wt);if(assert(Ct,"Missing index implementation for "+wt),$t===fallbackObject)if(Ct.isDefinedOn(ht.node)){const Pt=[],bt=xt.getIterator(NamedNode.Wrap);let Rt=bt.getNext();for(;Rt;)Rt.name!==ht.name&&Pt.push(Rt),Rt=bt.getNext();return Pt.push(ht),buildChildSet(Pt,Ct.getCompare())}else return fallbackObject;else{const Pt=xt.get(ht.name);let bt=$t;return Pt&&(bt=bt.remove(new NamedNode(ht.name,Pt))),bt.insert(ht,ht.node)}});return new IndexMap(_t,this.indexSet_)}removeFromIndexes(ht,xt){const _t=map(this.indexes_,$t=>{if($t===fallbackObject)return $t;{const wt=xt.get(ht.name);return wt?$t.remove(new NamedNode(ht.name,wt)):$t}});return new IndexMap(_t,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let EMPTY_NODE;class ChildrenNode{static get EMPTY_NODE(){return EMPTY_NODE||(EMPTY_NODE=new ChildrenNode(new SortedMap(NAME_COMPARATOR),null,IndexMap.Default))}constructor(ht,xt,_t){this.children_=ht,this.priorityNode_=xt,this.indexMap_=_t,this.lazyHash_=null,this.priorityNode_&&validatePriorityNode(this.priorityNode_),this.children_.isEmpty()&&assert(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||EMPTY_NODE}updatePriority(ht){return this.children_.isEmpty()?this:new ChildrenNode(this.children_,ht,this.indexMap_)}getImmediateChild(ht){if(ht===".priority")return this.getPriority();{const xt=this.children_.get(ht);return xt===null?EMPTY_NODE:xt}}getChild(ht){const xt=pathGetFront(ht);return xt===null?this:this.getImmediateChild(xt).getChild(pathPopFront(ht))}hasChild(ht){return this.children_.get(ht)!==null}updateImmediateChild(ht,xt){if(assert(xt,"We should always be passing snapshot nodes"),ht===".priority")return this.updatePriority(xt);{const _t=new NamedNode(ht,xt);let $t,wt;xt.isEmpty()?($t=this.children_.remove(ht),wt=this.indexMap_.removeFromIndexes(_t,this.children_)):($t=this.children_.insert(ht,xt),wt=this.indexMap_.addToIndexes(_t,this.children_));const Ct=$t.isEmpty()?EMPTY_NODE:this.priorityNode_;return new ChildrenNode($t,Ct,wt)}}updateChild(ht,xt){const _t=pathGetFront(ht);if(_t===null)return xt;{assert(pathGetFront(ht)!==".priority"||pathGetLength(ht)===1,".priority must be the last token in a path");const $t=this.getImmediateChild(_t).updateChild(pathPopFront(ht),xt);return this.updateImmediateChild(_t,$t)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(ht){if(this.isEmpty())return null;const xt={};let _t=0,$t=0,wt=!0;if(this.forEachChild(PRIORITY_INDEX,(Ct,Pt)=>{xt[Ct]=Pt.val(ht),_t++,wt&&ChildrenNode.INTEGER_REGEXP_.test(Ct)?$t=Math.max($t,Number(Ct)):wt=!1}),!ht&&wt&&$t<2*_t){const Ct=[];for(const Pt in xt)Ct[Pt]=xt[Pt];return Ct}else return ht&&!this.getPriority().isEmpty()&&(xt[".priority"]=this.getPriority().val()),xt}hash(){if(this.lazyHash_===null){let ht="";this.getPriority().isEmpty()||(ht+="priority:"+priorityHashText(this.getPriority().val())+":"),this.forEachChild(PRIORITY_INDEX,(xt,_t)=>{const $t=_t.hash();$t!==""&&(ht+=":"+xt+":"+$t)}),this.lazyHash_=ht===""?"":sha1(ht)}return this.lazyHash_}getPredecessorChildName(ht,xt,_t){const $t=this.resolveIndex_(_t);if($t){const wt=$t.getPredecessorKey(new NamedNode(ht,xt));return wt?wt.name:null}else return this.children_.getPredecessorKey(ht)}getFirstChildName(ht){const xt=this.resolveIndex_(ht);if(xt){const _t=xt.minKey();return _t&&_t.name}else return this.children_.minKey()}getFirstChild(ht){const xt=this.getFirstChildName(ht);return xt?new NamedNode(xt,this.children_.get(xt)):null}getLastChildName(ht){const xt=this.resolveIndex_(ht);if(xt){const _t=xt.maxKey();return _t&&_t.name}else return this.children_.maxKey()}getLastChild(ht){const xt=this.getLastChildName(ht);return xt?new NamedNode(xt,this.children_.get(xt)):null}forEachChild(ht,xt){const _t=this.resolveIndex_(ht);return _t?_t.inorderTraversal($t=>xt($t.name,$t.node)):this.children_.inorderTraversal(xt)}getIterator(ht){return this.getIteratorFrom(ht.minPost(),ht)}getIteratorFrom(ht,xt){const _t=this.resolveIndex_(xt);if(_t)return _t.getIteratorFrom(ht,$t=>$t);{const $t=this.children_.getIteratorFrom(ht.name,NamedNode.Wrap);let wt=$t.peek();for(;wt!=null&&xt.compare(wt,ht)<0;)$t.getNext(),wt=$t.peek();return $t}}getReverseIterator(ht){return this.getReverseIteratorFrom(ht.maxPost(),ht)}getReverseIteratorFrom(ht,xt){const _t=this.resolveIndex_(xt);if(_t)return _t.getReverseIteratorFrom(ht,$t=>$t);{const $t=this.children_.getReverseIteratorFrom(ht.name,NamedNode.Wrap);let wt=$t.peek();for(;wt!=null&&xt.compare(wt,ht)>0;)$t.getNext(),wt=$t.peek();return $t}}compareTo(ht){return this.isEmpty()?ht.isEmpty()?0:-1:ht.isLeafNode()||ht.isEmpty()?1:ht===MAX_NODE?-1:0}withIndex(ht){if(ht===KEY_INDEX||this.indexMap_.hasIndex(ht))return this;{const xt=this.indexMap_.addIndex(ht,this.children_);return new ChildrenNode(this.children_,this.priorityNode_,xt)}}isIndexed(ht){return ht===KEY_INDEX||this.indexMap_.hasIndex(ht)}equals(ht){if(ht===this)return!0;if(ht.isLeafNode())return!1;{const xt=ht;if(this.getPriority().equals(xt.getPriority()))if(this.children_.count()===xt.children_.count()){const _t=this.getIterator(PRIORITY_INDEX),$t=xt.getIterator(PRIORITY_INDEX);let wt=_t.getNext(),Ct=$t.getNext();for(;wt&&Ct;){if(wt.name!==Ct.name||!wt.node.equals(Ct.node))return!1;wt=_t.getNext(),Ct=$t.getNext()}return wt===null&&Ct===null}else return!1;else return!1}}resolveIndex_(ht){return ht===KEY_INDEX?null:this.indexMap_.get(ht.toString())}}ChildrenNode.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class MaxNode extends ChildrenNode{constructor(){super(new SortedMap(NAME_COMPARATOR),ChildrenNode.EMPTY_NODE,IndexMap.Default)}compareTo(ht){return ht===this?0:1}equals(ht){return ht===this}getPriority(){return this}getImmediateChild(ht){return ChildrenNode.EMPTY_NODE}isEmpty(){return!1}}const MAX_NODE=new MaxNode;Object.defineProperties(NamedNode,{MIN:{value:new NamedNode(MIN_NAME,ChildrenNode.EMPTY_NODE)},MAX:{value:new NamedNode(MAX_NAME,MAX_NODE)}});KeyIndex.__EMPTY_NODE=ChildrenNode.EMPTY_NODE;LeafNode.__childrenNodeConstructor=ChildrenNode;setMaxNode$1(MAX_NODE);setMaxNode(MAX_NODE);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const USE_HINZE=!0;function nodeFromJSON(vt,ht=null){if(vt===null)return ChildrenNode.EMPTY_NODE;if(typeof vt=="object"&&".priority"in vt&&(ht=vt[".priority"]),assert(ht===null||typeof ht=="string"||typeof ht=="number"||typeof ht=="object"&&".sv"in ht,"Invalid priority type found: "+typeof ht),typeof vt=="object"&&".value"in vt&&vt[".value"]!==null&&(vt=vt[".value"]),typeof vt!="object"||".sv"in vt){const xt=vt;return new LeafNode(xt,nodeFromJSON(ht))}if(!(vt instanceof Array)&&USE_HINZE){const xt=[];let _t=!1;if(each(vt,(Ct,Pt)=>{if(Ct.substring(0,1)!=="."){const bt=nodeFromJSON(Pt);bt.isEmpty()||(_t=_t||!bt.getPriority().isEmpty(),xt.push(new NamedNode(Ct,bt)))}}),xt.length===0)return ChildrenNode.EMPTY_NODE;const wt=buildChildSet(xt,NAME_ONLY_COMPARATOR,Ct=>Ct.name,NAME_COMPARATOR);if(_t){const Ct=buildChildSet(xt,PRIORITY_INDEX.getCompare());return new ChildrenNode(wt,nodeFromJSON(ht),new IndexMap({".priority":Ct},{".priority":PRIORITY_INDEX}))}else return new ChildrenNode(wt,nodeFromJSON(ht),IndexMap.Default)}else{let xt=ChildrenNode.EMPTY_NODE;return each(vt,(_t,$t)=>{if(contains(vt,_t)&&_t.substring(0,1)!=="."){const wt=nodeFromJSON($t);(wt.isLeafNode()||!wt.isEmpty())&&(xt=xt.updateImmediateChild(_t,wt))}}),xt.updatePriority(nodeFromJSON(ht))}}setNodeFromJSON(nodeFromJSON);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PathIndex extends Index{constructor(ht){super(),this.indexPath_=ht,assert(!pathIsEmpty(ht)&&pathGetFront(ht)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(ht){return ht.getChild(this.indexPath_)}isDefinedOn(ht){return!ht.getChild(this.indexPath_).isEmpty()}compare(ht,xt){const _t=this.extractChild(ht.node),$t=this.extractChild(xt.node),wt=_t.compareTo($t);return wt===0?nameCompare(ht.name,xt.name):wt}makePost(ht,xt){const _t=nodeFromJSON(ht),$t=ChildrenNode.EMPTY_NODE.updateChild(this.indexPath_,_t);return new NamedNode(xt,$t)}maxPost(){const ht=ChildrenNode.EMPTY_NODE.updateChild(this.indexPath_,MAX_NODE);return new NamedNode(MAX_NAME,ht)}toString(){return pathSlice(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ValueIndex extends Index{compare(ht,xt){const _t=ht.node.compareTo(xt.node);return _t===0?nameCompare(ht.name,xt.name):_t}isDefinedOn(ht){return!0}indexedValueChanged(ht,xt){return!ht.equals(xt)}minPost(){return NamedNode.MIN}maxPost(){return NamedNode.MAX}makePost(ht,xt){const _t=nodeFromJSON(ht);return new NamedNode(xt,_t)}toString(){return".value"}}const VALUE_INDEX=new ValueIndex;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function changeValue(vt){return{type:"value",snapshotNode:vt}}function changeChildAdded(vt,ht){return{type:"child_added",snapshotNode:ht,childName:vt}}function changeChildRemoved(vt,ht){return{type:"child_removed",snapshotNode:ht,childName:vt}}function changeChildChanged(vt,ht,xt){return{type:"child_changed",snapshotNode:ht,childName:vt,oldSnap:xt}}function changeChildMoved(vt,ht){return{type:"child_moved",snapshotNode:ht,childName:vt}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IndexedFilter{constructor(ht){this.index_=ht}updateChild(ht,xt,_t,$t,wt,Ct){assert(ht.isIndexed(this.index_),"A node must be indexed if only a child is updated");const Pt=ht.getImmediateChild(xt);return Pt.getChild($t).equals(_t.getChild($t))&&Pt.isEmpty()===_t.isEmpty()||(Ct!=null&&(_t.isEmpty()?ht.hasChild(xt)?Ct.trackChildChange(changeChildRemoved(xt,Pt)):assert(ht.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):Pt.isEmpty()?Ct.trackChildChange(changeChildAdded(xt,_t)):Ct.trackChildChange(changeChildChanged(xt,_t,Pt))),ht.isLeafNode()&&_t.isEmpty())?ht:ht.updateImmediateChild(xt,_t).withIndex(this.index_)}updateFullNode(ht,xt,_t){return _t!=null&&(ht.isLeafNode()||ht.forEachChild(PRIORITY_INDEX,($t,wt)=>{xt.hasChild($t)||_t.trackChildChange(changeChildRemoved($t,wt))}),xt.isLeafNode()||xt.forEachChild(PRIORITY_INDEX,($t,wt)=>{if(ht.hasChild($t)){const Ct=ht.getImmediateChild($t);Ct.equals(wt)||_t.trackChildChange(changeChildChanged($t,wt,Ct))}else _t.trackChildChange(changeChildAdded($t,wt))})),xt.withIndex(this.index_)}updatePriority(ht,xt){return ht.isEmpty()?ChildrenNode.EMPTY_NODE:ht.updatePriority(xt)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RangedFilter{constructor(ht){this.indexedFilter_=new IndexedFilter(ht.getIndex()),this.index_=ht.getIndex(),this.startPost_=RangedFilter.getStartPost_(ht),this.endPost_=RangedFilter.getEndPost_(ht),this.startIsInclusive_=!ht.startAfterSet_,this.endIsInclusive_=!ht.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(ht){const xt=this.startIsInclusive_?this.index_.compare(this.getStartPost(),ht)<=0:this.index_.compare(this.getStartPost(),ht)<0,_t=this.endIsInclusive_?this.index_.compare(ht,this.getEndPost())<=0:this.index_.compare(ht,this.getEndPost())<0;return xt&&_t}updateChild(ht,xt,_t,$t,wt,Ct){return this.matches(new NamedNode(xt,_t))||(_t=ChildrenNode.EMPTY_NODE),this.indexedFilter_.updateChild(ht,xt,_t,$t,wt,Ct)}updateFullNode(ht,xt,_t){xt.isLeafNode()&&(xt=ChildrenNode.EMPTY_NODE);let $t=xt.withIndex(this.index_);$t=$t.updatePriority(ChildrenNode.EMPTY_NODE);const wt=this;return xt.forEachChild(PRIORITY_INDEX,(Ct,Pt)=>{wt.matches(new NamedNode(Ct,Pt))||($t=$t.updateImmediateChild(Ct,ChildrenNode.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(ht,$t,_t)}updatePriority(ht,xt){return ht}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(ht){if(ht.hasStart()){const xt=ht.getIndexStartName();return ht.getIndex().makePost(ht.getIndexStartValue(),xt)}else return ht.getIndex().minPost()}static getEndPost_(ht){if(ht.hasEnd()){const xt=ht.getIndexEndName();return ht.getIndex().makePost(ht.getIndexEndValue(),xt)}else return ht.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LimitedFilter{constructor(ht){this.withinDirectionalStart=xt=>this.reverse_?this.withinEndPost(xt):this.withinStartPost(xt),this.withinDirectionalEnd=xt=>this.reverse_?this.withinStartPost(xt):this.withinEndPost(xt),this.withinStartPost=xt=>{const _t=this.index_.compare(this.rangedFilter_.getStartPost(),xt);return this.startIsInclusive_?_t<=0:_t<0},this.withinEndPost=xt=>{const _t=this.index_.compare(xt,this.rangedFilter_.getEndPost());return this.endIsInclusive_?_t<=0:_t<0},this.rangedFilter_=new RangedFilter(ht),this.index_=ht.getIndex(),this.limit_=ht.getLimit(),this.reverse_=!ht.isViewFromLeft(),this.startIsInclusive_=!ht.startAfterSet_,this.endIsInclusive_=!ht.endBeforeSet_}updateChild(ht,xt,_t,$t,wt,Ct){return this.rangedFilter_.matches(new NamedNode(xt,_t))||(_t=ChildrenNode.EMPTY_NODE),ht.getImmediateChild(xt).equals(_t)?ht:ht.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(ht,xt,_t,$t,wt,Ct):this.fullLimitUpdateChild_(ht,xt,_t,wt,Ct)}updateFullNode(ht,xt,_t){let $t;if(xt.isLeafNode()||xt.isEmpty())$t=ChildrenNode.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<xt.numChildren()&&xt.isIndexed(this.index_)){$t=ChildrenNode.EMPTY_NODE.withIndex(this.index_);let wt;this.reverse_?wt=xt.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):wt=xt.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let Ct=0;for(;wt.hasNext()&&Ct<this.limit_;){const Pt=wt.getNext();if(this.withinDirectionalStart(Pt))if(this.withinDirectionalEnd(Pt))$t=$t.updateImmediateChild(Pt.name,Pt.node),Ct++;else break;else continue}}else{$t=xt.withIndex(this.index_),$t=$t.updatePriority(ChildrenNode.EMPTY_NODE);let wt;this.reverse_?wt=$t.getReverseIterator(this.index_):wt=$t.getIterator(this.index_);let Ct=0;for(;wt.hasNext();){const Pt=wt.getNext();Ct<this.limit_&&this.withinDirectionalStart(Pt)&&this.withinDirectionalEnd(Pt)?Ct++:$t=$t.updateImmediateChild(Pt.name,ChildrenNode.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(ht,$t,_t)}updatePriority(ht,xt){return ht}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(ht,xt,_t,$t,wt){let Ct;if(this.reverse_){const kt=this.index_.getCompare();Ct=(Dt,Ot)=>kt(Ot,Dt)}else Ct=this.index_.getCompare();const Pt=ht;assert(Pt.numChildren()===this.limit_,"");const bt=new NamedNode(xt,_t),Rt=this.reverse_?Pt.getFirstChild(this.index_):Pt.getLastChild(this.index_),Nt=this.rangedFilter_.matches(bt);if(Pt.hasChild(xt)){const kt=Pt.getImmediateChild(xt);let Dt=$t.getChildAfterChild(this.index_,Rt,this.reverse_);for(;Dt!=null&&(Dt.name===xt||Pt.hasChild(Dt.name));)Dt=$t.getChildAfterChild(this.index_,Dt,this.reverse_);const Ot=Dt==null?1:Ct(Dt,bt);if(Nt&&!_t.isEmpty()&&Ot>=0)return wt!=null&&wt.trackChildChange(changeChildChanged(xt,_t,kt)),Pt.updateImmediateChild(xt,_t);{wt!=null&&wt.trackChildChange(changeChildRemoved(xt,kt));const Ft=Pt.updateImmediateChild(xt,ChildrenNode.EMPTY_NODE);return Dt!=null&&this.rangedFilter_.matches(Dt)?(wt!=null&&wt.trackChildChange(changeChildAdded(Dt.name,Dt.node)),Ft.updateImmediateChild(Dt.name,Dt.node)):Ft}}else return _t.isEmpty()?ht:Nt&&Ct(Rt,bt)>=0?(wt!=null&&(wt.trackChildChange(changeChildRemoved(Rt.name,Rt.node)),wt.trackChildChange(changeChildAdded(xt,_t))),Pt.updateImmediateChild(xt,_t).updateImmediateChild(Rt.name,ChildrenNode.EMPTY_NODE)):ht}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QueryParams{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=PRIORITY_INDEX}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return assert(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return assert(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:MIN_NAME}hasEnd(){return this.endSet_}getIndexEndValue(){return assert(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return assert(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:MAX_NAME}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return assert(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===PRIORITY_INDEX}copy(){const ht=new QueryParams;return ht.limitSet_=this.limitSet_,ht.limit_=this.limit_,ht.startSet_=this.startSet_,ht.startAfterSet_=this.startAfterSet_,ht.indexStartValue_=this.indexStartValue_,ht.startNameSet_=this.startNameSet_,ht.indexStartName_=this.indexStartName_,ht.endSet_=this.endSet_,ht.endBeforeSet_=this.endBeforeSet_,ht.indexEndValue_=this.indexEndValue_,ht.endNameSet_=this.endNameSet_,ht.indexEndName_=this.indexEndName_,ht.index_=this.index_,ht.viewFrom_=this.viewFrom_,ht}}function queryParamsGetNodeFilter(vt){return vt.loadsAllData()?new IndexedFilter(vt.getIndex()):vt.hasLimit()?new LimitedFilter(vt):new RangedFilter(vt)}function queryParamsLimitToLast(vt,ht){const xt=vt.copy();return xt.limitSet_=!0,xt.limit_=ht,xt.viewFrom_="r",xt}function queryParamsOrderBy(vt,ht){const xt=vt.copy();return xt.index_=ht,xt}function queryParamsToRestQueryStringParameters(vt){const ht={};if(vt.isDefault())return ht;let xt;if(vt.index_===PRIORITY_INDEX?xt="$priority":vt.index_===VALUE_INDEX?xt="$value":vt.index_===KEY_INDEX?xt="$key":(assert(vt.index_ instanceof PathIndex,"Unrecognized index type!"),xt=vt.index_.toString()),ht.orderBy=stringify(xt),vt.startSet_){const _t=vt.startAfterSet_?"startAfter":"startAt";ht[_t]=stringify(vt.indexStartValue_),vt.startNameSet_&&(ht[_t]+=","+stringify(vt.indexStartName_))}if(vt.endSet_){const _t=vt.endBeforeSet_?"endBefore":"endAt";ht[_t]=stringify(vt.indexEndValue_),vt.endNameSet_&&(ht[_t]+=","+stringify(vt.indexEndName_))}return vt.limitSet_&&(vt.isViewFromLeft()?ht.limitToFirst=vt.limit_:ht.limitToLast=vt.limit_),ht}function queryParamsGetQueryObject(vt){const ht={};if(vt.startSet_&&(ht.sp=vt.indexStartValue_,vt.startNameSet_&&(ht.sn=vt.indexStartName_),ht.sin=!vt.startAfterSet_),vt.endSet_&&(ht.ep=vt.indexEndValue_,vt.endNameSet_&&(ht.en=vt.indexEndName_),ht.ein=!vt.endBeforeSet_),vt.limitSet_){ht.l=vt.limit_;let xt=vt.viewFrom_;xt===""&&(vt.isViewFromLeft()?xt="l":xt="r"),ht.vf=xt}return vt.index_!==PRIORITY_INDEX&&(ht.i=vt.index_.toString()),ht}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ReadonlyRestClient extends ServerActions{reportStats(ht){throw new Error("Method not implemented.")}static getListenId_(ht,xt){return xt!==void 0?"tag$"+xt:(assert(ht._queryParams.isDefault(),"should have a tag if it's not a default query."),ht._path.toString())}constructor(ht,xt,_t,$t){super(),this.repoInfo_=ht,this.onDataUpdate_=xt,this.authTokenProvider_=_t,this.appCheckTokenProvider_=$t,this.log_=logWrapper("p:rest:"),this.listens_={}}listen(ht,xt,_t,$t){const wt=ht._path.toString();this.log_("Listen called for "+wt+" "+ht._queryIdentifier);const Ct=ReadonlyRestClient.getListenId_(ht,_t),Pt={};this.listens_[Ct]=Pt;const bt=queryParamsToRestQueryStringParameters(ht._queryParams);this.restRequest_(wt+".json",bt,(Rt,Nt)=>{let kt=Nt;if(Rt===404&&(kt=null,Rt=null),Rt===null&&this.onDataUpdate_(wt,kt,!1,_t),safeGet(this.listens_,Ct)===Pt){let Dt;Rt?Rt===401?Dt="permission_denied":Dt="rest_error:"+Rt:Dt="ok",$t(Dt,null)}})}unlisten(ht,xt){const _t=ReadonlyRestClient.getListenId_(ht,xt);delete this.listens_[_t]}get(ht){const xt=queryParamsToRestQueryStringParameters(ht._queryParams),_t=ht._path.toString(),$t=new Deferred;return this.restRequest_(_t+".json",xt,(wt,Ct)=>{let Pt=Ct;wt===404&&(Pt=null,wt=null),wt===null?(this.onDataUpdate_(_t,Pt,!1,null),$t.resolve(Pt)):$t.reject(new Error(Pt))}),$t.promise}refreshAuthToken(ht){}restRequest_(ht,xt={},_t){return xt.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([$t,wt])=>{$t&&$t.accessToken&&(xt.auth=$t.accessToken),wt&&wt.token&&(xt.ac=wt.token);const Ct=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+ht+"?ns="+this.repoInfo_.namespace+querystring(xt);this.log_("Sending REST request for "+Ct);const Pt=new XMLHttpRequest;Pt.onreadystatechange=()=>{if(_t&&Pt.readyState===4){this.log_("REST Response for "+Ct+" received. status:",Pt.status,"response:",Pt.responseText);let bt=null;if(Pt.status>=200&&Pt.status<300){try{bt=jsonEval(Pt.responseText)}catch{warn("Failed to parse JSON response for "+Ct+": "+Pt.responseText)}_t(null,bt)}else Pt.status!==401&&Pt.status!==404&&warn("Got unsuccessful REST response for "+Ct+" Status: "+Pt.status),_t(Pt.status);_t=null}},Pt.open("GET",Ct,!0),Pt.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SnapshotHolder{constructor(){this.rootNode_=ChildrenNode.EMPTY_NODE}getNode(ht){return this.rootNode_.getChild(ht)}updateSnapshot(ht,xt){this.rootNode_=this.rootNode_.updateChild(ht,xt)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function newSparseSnapshotTree(){return{value:null,children:new Map}}function sparseSnapshotTreeRemember(vt,ht,xt){if(pathIsEmpty(ht))vt.value=xt,vt.children.clear();else if(vt.value!==null)vt.value=vt.value.updateChild(ht,xt);else{const _t=pathGetFront(ht);vt.children.has(_t)||vt.children.set(_t,newSparseSnapshotTree());const $t=vt.children.get(_t);ht=pathPopFront(ht),sparseSnapshotTreeRemember($t,ht,xt)}}function sparseSnapshotTreeForEachTree(vt,ht,xt){vt.value!==null?xt(ht,vt.value):sparseSnapshotTreeForEachChild(vt,(_t,$t)=>{const wt=new Path(ht.toString()+"/"+_t);sparseSnapshotTreeForEachTree($t,wt,xt)})}function sparseSnapshotTreeForEachChild(vt,ht){vt.children.forEach((xt,_t)=>{ht(_t,xt)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class StatsListener{constructor(ht){this.collection_=ht,this.last_=null}get(){const ht=this.collection_.get(),xt=Object.assign({},ht);return this.last_&&each(this.last_,(_t,$t)=>{xt[_t]=xt[_t]-$t}),this.last_=ht,xt}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FIRST_STATS_MIN_TIME=10*1e3,FIRST_STATS_MAX_TIME=30*1e3,REPORT_STATS_INTERVAL=5*60*1e3;class StatsReporter{constructor(ht,xt){this.server_=xt,this.statsToReport_={},this.statsListener_=new StatsListener(ht);const _t=FIRST_STATS_MIN_TIME+(FIRST_STATS_MAX_TIME-FIRST_STATS_MIN_TIME)*Math.random();setTimeoutNonBlocking(this.reportStats_.bind(this),Math.floor(_t))}reportStats_(){const ht=this.statsListener_.get(),xt={};let _t=!1;each(ht,($t,wt)=>{wt>0&&contains(this.statsToReport_,$t)&&(xt[$t]=wt,_t=!0)}),_t&&this.server_.reportStats(xt),setTimeoutNonBlocking(this.reportStats_.bind(this),Math.floor(Math.random()*2*REPORT_STATS_INTERVAL))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var OperationType;(function(vt){vt[vt.OVERWRITE=0]="OVERWRITE",vt[vt.MERGE=1]="MERGE",vt[vt.ACK_USER_WRITE=2]="ACK_USER_WRITE",vt[vt.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(OperationType||(OperationType={}));function newOperationSourceUser(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function newOperationSourceServer(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function newOperationSourceServerTaggedQuery(vt){return{fromUser:!1,fromServer:!0,queryId:vt,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AckUserWrite{constructor(ht,xt,_t){this.path=ht,this.affectedTree=xt,this.revert=_t,this.type=OperationType.ACK_USER_WRITE,this.source=newOperationSourceUser()}operationForChild(ht){if(pathIsEmpty(this.path)){if(this.affectedTree.value!=null)return assert(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const xt=this.affectedTree.subtree(new Path(ht));return new AckUserWrite(newEmptyPath(),xt,this.revert)}}else return assert(pathGetFront(this.path)===ht,"operationForChild called for unrelated child."),new AckUserWrite(pathPopFront(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ListenComplete{constructor(ht,xt){this.source=ht,this.path=xt,this.type=OperationType.LISTEN_COMPLETE}operationForChild(ht){return pathIsEmpty(this.path)?new ListenComplete(this.source,newEmptyPath()):new ListenComplete(this.source,pathPopFront(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Overwrite{constructor(ht,xt,_t){this.source=ht,this.path=xt,this.snap=_t,this.type=OperationType.OVERWRITE}operationForChild(ht){return pathIsEmpty(this.path)?new Overwrite(this.source,newEmptyPath(),this.snap.getImmediateChild(ht)):new Overwrite(this.source,pathPopFront(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Merge{constructor(ht,xt,_t){this.source=ht,this.path=xt,this.children=_t,this.type=OperationType.MERGE}operationForChild(ht){if(pathIsEmpty(this.path)){const xt=this.children.subtree(new Path(ht));return xt.isEmpty()?null:xt.value?new Overwrite(this.source,newEmptyPath(),xt.value):new Merge(this.source,newEmptyPath(),xt)}else return assert(pathGetFront(this.path)===ht,"Can't get a merge for a child not on the path of the operation"),new Merge(this.source,pathPopFront(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CacheNode{constructor(ht,xt,_t){this.node_=ht,this.fullyInitialized_=xt,this.filtered_=_t}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(ht){if(pathIsEmpty(ht))return this.isFullyInitialized()&&!this.filtered_;const xt=pathGetFront(ht);return this.isCompleteForChild(xt)}isCompleteForChild(ht){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(ht)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EventGenerator{constructor(ht){this.query_=ht,this.index_=this.query_._queryParams.getIndex()}}function eventGeneratorGenerateEventsForChanges(vt,ht,xt,_t){const $t=[],wt=[];return ht.forEach(Ct=>{Ct.type==="child_changed"&&vt.index_.indexedValueChanged(Ct.oldSnap,Ct.snapshotNode)&&wt.push(changeChildMoved(Ct.childName,Ct.snapshotNode))}),eventGeneratorGenerateEventsForType(vt,$t,"child_removed",ht,_t,xt),eventGeneratorGenerateEventsForType(vt,$t,"child_added",ht,_t,xt),eventGeneratorGenerateEventsForType(vt,$t,"child_moved",wt,_t,xt),eventGeneratorGenerateEventsForType(vt,$t,"child_changed",ht,_t,xt),eventGeneratorGenerateEventsForType(vt,$t,"value",ht,_t,xt),$t}function eventGeneratorGenerateEventsForType(vt,ht,xt,_t,$t,wt){const Ct=_t.filter(Pt=>Pt.type===xt);Ct.sort((Pt,bt)=>eventGeneratorCompareChanges(vt,Pt,bt)),Ct.forEach(Pt=>{const bt=eventGeneratorMaterializeSingleChange(vt,Pt,wt);$t.forEach(Rt=>{Rt.respondsTo(Pt.type)&&ht.push(Rt.createEvent(bt,vt.query_))})})}function eventGeneratorMaterializeSingleChange(vt,ht,xt){return ht.type==="value"||ht.type==="child_removed"||(ht.prevName=xt.getPredecessorChildName(ht.childName,ht.snapshotNode,vt.index_)),ht}function eventGeneratorCompareChanges(vt,ht,xt){if(ht.childName==null||xt.childName==null)throw assertionError("Should only compare child_ events.");const _t=new NamedNode(ht.childName,ht.snapshotNode),$t=new NamedNode(xt.childName,xt.snapshotNode);return vt.index_.compare(_t,$t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function newViewCache(vt,ht){return{eventCache:vt,serverCache:ht}}function viewCacheUpdateEventSnap(vt,ht,xt,_t){return newViewCache(new CacheNode(ht,xt,_t),vt.serverCache)}function viewCacheUpdateServerSnap(vt,ht,xt,_t){return newViewCache(vt.eventCache,new CacheNode(ht,xt,_t))}function viewCacheGetCompleteEventSnap(vt){return vt.eventCache.isFullyInitialized()?vt.eventCache.getNode():null}function viewCacheGetCompleteServerSnap(vt){return vt.serverCache.isFullyInitialized()?vt.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let emptyChildrenSingleton;const EmptyChildren=()=>(emptyChildrenSingleton||(emptyChildrenSingleton=new SortedMap(stringCompare)),emptyChildrenSingleton);class ImmutableTree{static fromObject(ht){let xt=new ImmutableTree(null);return each(ht,(_t,$t)=>{xt=xt.set(new Path(_t),$t)}),xt}constructor(ht,xt=EmptyChildren()){this.value=ht,this.children=xt}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(ht,xt){if(this.value!=null&&xt(this.value))return{path:newEmptyPath(),value:this.value};if(pathIsEmpty(ht))return null;{const _t=pathGetFront(ht),$t=this.children.get(_t);if($t!==null){const wt=$t.findRootMostMatchingPathAndValue(pathPopFront(ht),xt);return wt!=null?{path:pathChild(new Path(_t),wt.path),value:wt.value}:null}else return null}}findRootMostValueAndPath(ht){return this.findRootMostMatchingPathAndValue(ht,()=>!0)}subtree(ht){if(pathIsEmpty(ht))return this;{const xt=pathGetFront(ht),_t=this.children.get(xt);return _t!==null?_t.subtree(pathPopFront(ht)):new ImmutableTree(null)}}set(ht,xt){if(pathIsEmpty(ht))return new ImmutableTree(xt,this.children);{const _t=pathGetFront(ht),wt=(this.children.get(_t)||new ImmutableTree(null)).set(pathPopFront(ht),xt),Ct=this.children.insert(_t,wt);return new ImmutableTree(this.value,Ct)}}remove(ht){if(pathIsEmpty(ht))return this.children.isEmpty()?new ImmutableTree(null):new ImmutableTree(null,this.children);{const xt=pathGetFront(ht),_t=this.children.get(xt);if(_t){const $t=_t.remove(pathPopFront(ht));let wt;return $t.isEmpty()?wt=this.children.remove(xt):wt=this.children.insert(xt,$t),this.value===null&&wt.isEmpty()?new ImmutableTree(null):new ImmutableTree(this.value,wt)}else return this}}get(ht){if(pathIsEmpty(ht))return this.value;{const xt=pathGetFront(ht),_t=this.children.get(xt);return _t?_t.get(pathPopFront(ht)):null}}setTree(ht,xt){if(pathIsEmpty(ht))return xt;{const _t=pathGetFront(ht),wt=(this.children.get(_t)||new ImmutableTree(null)).setTree(pathPopFront(ht),xt);let Ct;return wt.isEmpty()?Ct=this.children.remove(_t):Ct=this.children.insert(_t,wt),new ImmutableTree(this.value,Ct)}}fold(ht){return this.fold_(newEmptyPath(),ht)}fold_(ht,xt){const _t={};return this.children.inorderTraversal(($t,wt)=>{_t[$t]=wt.fold_(pathChild(ht,$t),xt)}),xt(ht,this.value,_t)}findOnPath(ht,xt){return this.findOnPath_(ht,newEmptyPath(),xt)}findOnPath_(ht,xt,_t){const $t=this.value?_t(xt,this.value):!1;if($t)return $t;if(pathIsEmpty(ht))return null;{const wt=pathGetFront(ht),Ct=this.children.get(wt);return Ct?Ct.findOnPath_(pathPopFront(ht),pathChild(xt,wt),_t):null}}foreachOnPath(ht,xt){return this.foreachOnPath_(ht,newEmptyPath(),xt)}foreachOnPath_(ht,xt,_t){if(pathIsEmpty(ht))return this;{this.value&&_t(xt,this.value);const $t=pathGetFront(ht),wt=this.children.get($t);return wt?wt.foreachOnPath_(pathPopFront(ht),pathChild(xt,$t),_t):new ImmutableTree(null)}}foreach(ht){this.foreach_(newEmptyPath(),ht)}foreach_(ht,xt){this.children.inorderTraversal((_t,$t)=>{$t.foreach_(pathChild(ht,_t),xt)}),this.value&&xt(ht,this.value)}foreachChild(ht){this.children.inorderTraversal((xt,_t)=>{_t.value&&ht(xt,_t.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CompoundWrite{constructor(ht){this.writeTree_=ht}static empty(){return new CompoundWrite(new ImmutableTree(null))}}function compoundWriteAddWrite(vt,ht,xt){if(pathIsEmpty(ht))return new CompoundWrite(new ImmutableTree(xt));{const _t=vt.writeTree_.findRootMostValueAndPath(ht);if(_t!=null){const $t=_t.path;let wt=_t.value;const Ct=newRelativePath($t,ht);return wt=wt.updateChild(Ct,xt),new CompoundWrite(vt.writeTree_.set($t,wt))}else{const $t=new ImmutableTree(xt),wt=vt.writeTree_.setTree(ht,$t);return new CompoundWrite(wt)}}}function compoundWriteAddWrites(vt,ht,xt){let _t=vt;return each(xt,($t,wt)=>{_t=compoundWriteAddWrite(_t,pathChild(ht,$t),wt)}),_t}function compoundWriteRemoveWrite(vt,ht){if(pathIsEmpty(ht))return CompoundWrite.empty();{const xt=vt.writeTree_.setTree(ht,new ImmutableTree(null));return new CompoundWrite(xt)}}function compoundWriteHasCompleteWrite(vt,ht){return compoundWriteGetCompleteNode(vt,ht)!=null}function compoundWriteGetCompleteNode(vt,ht){const xt=vt.writeTree_.findRootMostValueAndPath(ht);return xt!=null?vt.writeTree_.get(xt.path).getChild(newRelativePath(xt.path,ht)):null}function compoundWriteGetCompleteChildren(vt){const ht=[],xt=vt.writeTree_.value;return xt!=null?xt.isLeafNode()||xt.forEachChild(PRIORITY_INDEX,(_t,$t)=>{ht.push(new NamedNode(_t,$t))}):vt.writeTree_.children.inorderTraversal((_t,$t)=>{$t.value!=null&&ht.push(new NamedNode(_t,$t.value))}),ht}function compoundWriteChildCompoundWrite(vt,ht){if(pathIsEmpty(ht))return vt;{const xt=compoundWriteGetCompleteNode(vt,ht);return xt!=null?new CompoundWrite(new ImmutableTree(xt)):new CompoundWrite(vt.writeTree_.subtree(ht))}}function compoundWriteIsEmpty(vt){return vt.writeTree_.isEmpty()}function compoundWriteApply(vt,ht){return applySubtreeWrite(newEmptyPath(),vt.writeTree_,ht)}function applySubtreeWrite(vt,ht,xt){if(ht.value!=null)return xt.updateChild(vt,ht.value);{let _t=null;return ht.children.inorderTraversal(($t,wt)=>{$t===".priority"?(assert(wt.value!==null,"Priority writes must always be leaf nodes"),_t=wt.value):xt=applySubtreeWrite(pathChild(vt,$t),wt,xt)}),!xt.getChild(vt).isEmpty()&&_t!==null&&(xt=xt.updateChild(pathChild(vt,".priority"),_t)),xt}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function writeTreeChildWrites(vt,ht){return newWriteTreeRef(ht,vt)}function writeTreeAddOverwrite(vt,ht,xt,_t,$t){assert(_t>vt.lastWriteId,"Stacking an older write on top of newer ones"),$t===void 0&&($t=!0),vt.allWrites.push({path:ht,snap:xt,writeId:_t,visible:$t}),$t&&(vt.visibleWrites=compoundWriteAddWrite(vt.visibleWrites,ht,xt)),vt.lastWriteId=_t}function writeTreeAddMerge(vt,ht,xt,_t){assert(_t>vt.lastWriteId,"Stacking an older merge on top of newer ones"),vt.allWrites.push({path:ht,children:xt,writeId:_t,visible:!0}),vt.visibleWrites=compoundWriteAddWrites(vt.visibleWrites,ht,xt),vt.lastWriteId=_t}function writeTreeGetWrite(vt,ht){for(let xt=0;xt<vt.allWrites.length;xt++){const _t=vt.allWrites[xt];if(_t.writeId===ht)return _t}return null}function writeTreeRemoveWrite(vt,ht){const xt=vt.allWrites.findIndex(Pt=>Pt.writeId===ht);assert(xt>=0,"removeWrite called with nonexistent writeId.");const _t=vt.allWrites[xt];vt.allWrites.splice(xt,1);let $t=_t.visible,wt=!1,Ct=vt.allWrites.length-1;for(;$t&&Ct>=0;){const Pt=vt.allWrites[Ct];Pt.visible&&(Ct>=xt&&writeTreeRecordContainsPath_(Pt,_t.path)?$t=!1:pathContains(_t.path,Pt.path)&&(wt=!0)),Ct--}if($t){if(wt)return writeTreeResetTree_(vt),!0;if(_t.snap)vt.visibleWrites=compoundWriteRemoveWrite(vt.visibleWrites,_t.path);else{const Pt=_t.children;each(Pt,bt=>{vt.visibleWrites=compoundWriteRemoveWrite(vt.visibleWrites,pathChild(_t.path,bt))})}return!0}else return!1}function writeTreeRecordContainsPath_(vt,ht){if(vt.snap)return pathContains(vt.path,ht);for(const xt in vt.children)if(vt.children.hasOwnProperty(xt)&&pathContains(pathChild(vt.path,xt),ht))return!0;return!1}function writeTreeResetTree_(vt){vt.visibleWrites=writeTreeLayerTree_(vt.allWrites,writeTreeDefaultFilter_,newEmptyPath()),vt.allWrites.length>0?vt.lastWriteId=vt.allWrites[vt.allWrites.length-1].writeId:vt.lastWriteId=-1}function writeTreeDefaultFilter_(vt){return vt.visible}function writeTreeLayerTree_(vt,ht,xt){let _t=CompoundWrite.empty();for(let $t=0;$t<vt.length;++$t){const wt=vt[$t];if(ht(wt)){const Ct=wt.path;let Pt;if(wt.snap)pathContains(xt,Ct)?(Pt=newRelativePath(xt,Ct),_t=compoundWriteAddWrite(_t,Pt,wt.snap)):pathContains(Ct,xt)&&(Pt=newRelativePath(Ct,xt),_t=compoundWriteAddWrite(_t,newEmptyPath(),wt.snap.getChild(Pt)));else if(wt.children){if(pathContains(xt,Ct))Pt=newRelativePath(xt,Ct),_t=compoundWriteAddWrites(_t,Pt,wt.children);else if(pathContains(Ct,xt))if(Pt=newRelativePath(Ct,xt),pathIsEmpty(Pt))_t=compoundWriteAddWrites(_t,newEmptyPath(),wt.children);else{const bt=safeGet(wt.children,pathGetFront(Pt));if(bt){const Rt=bt.getChild(pathPopFront(Pt));_t=compoundWriteAddWrite(_t,newEmptyPath(),Rt)}}}else throw assertionError("WriteRecord should have .snap or .children")}}return _t}function writeTreeCalcCompleteEventCache(vt,ht,xt,_t,$t){if(!_t&&!$t){const wt=compoundWriteGetCompleteNode(vt.visibleWrites,ht);if(wt!=null)return wt;{const Ct=compoundWriteChildCompoundWrite(vt.visibleWrites,ht);if(compoundWriteIsEmpty(Ct))return xt;if(xt==null&&!compoundWriteHasCompleteWrite(Ct,newEmptyPath()))return null;{const Pt=xt||ChildrenNode.EMPTY_NODE;return compoundWriteApply(Ct,Pt)}}}else{const wt=compoundWriteChildCompoundWrite(vt.visibleWrites,ht);if(!$t&&compoundWriteIsEmpty(wt))return xt;if(!$t&&xt==null&&!compoundWriteHasCompleteWrite(wt,newEmptyPath()))return null;{const Ct=function(Rt){return(Rt.visible||$t)&&(!_t||!~_t.indexOf(Rt.writeId))&&(pathContains(Rt.path,ht)||pathContains(ht,Rt.path))},Pt=writeTreeLayerTree_(vt.allWrites,Ct,ht),bt=xt||ChildrenNode.EMPTY_NODE;return compoundWriteApply(Pt,bt)}}}function writeTreeCalcCompleteEventChildren(vt,ht,xt){let _t=ChildrenNode.EMPTY_NODE;const $t=compoundWriteGetCompleteNode(vt.visibleWrites,ht);if($t)return $t.isLeafNode()||$t.forEachChild(PRIORITY_INDEX,(wt,Ct)=>{_t=_t.updateImmediateChild(wt,Ct)}),_t;if(xt){const wt=compoundWriteChildCompoundWrite(vt.visibleWrites,ht);return xt.forEachChild(PRIORITY_INDEX,(Ct,Pt)=>{const bt=compoundWriteApply(compoundWriteChildCompoundWrite(wt,new Path(Ct)),Pt);_t=_t.updateImmediateChild(Ct,bt)}),compoundWriteGetCompleteChildren(wt).forEach(Ct=>{_t=_t.updateImmediateChild(Ct.name,Ct.node)}),_t}else{const wt=compoundWriteChildCompoundWrite(vt.visibleWrites,ht);return compoundWriteGetCompleteChildren(wt).forEach(Ct=>{_t=_t.updateImmediateChild(Ct.name,Ct.node)}),_t}}function writeTreeCalcEventCacheAfterServerOverwrite(vt,ht,xt,_t,$t){assert(_t||$t,"Either existingEventSnap or existingServerSnap must exist");const wt=pathChild(ht,xt);if(compoundWriteHasCompleteWrite(vt.visibleWrites,wt))return null;{const Ct=compoundWriteChildCompoundWrite(vt.visibleWrites,wt);return compoundWriteIsEmpty(Ct)?$t.getChild(xt):compoundWriteApply(Ct,$t.getChild(xt))}}function writeTreeCalcCompleteChild(vt,ht,xt,_t){const $t=pathChild(ht,xt),wt=compoundWriteGetCompleteNode(vt.visibleWrites,$t);if(wt!=null)return wt;if(_t.isCompleteForChild(xt)){const Ct=compoundWriteChildCompoundWrite(vt.visibleWrites,$t);return compoundWriteApply(Ct,_t.getNode().getImmediateChild(xt))}else return null}function writeTreeShadowingWrite(vt,ht){return compoundWriteGetCompleteNode(vt.visibleWrites,ht)}function writeTreeCalcIndexedSlice(vt,ht,xt,_t,$t,wt,Ct){let Pt;const bt=compoundWriteChildCompoundWrite(vt.visibleWrites,ht),Rt=compoundWriteGetCompleteNode(bt,newEmptyPath());if(Rt!=null)Pt=Rt;else if(xt!=null)Pt=compoundWriteApply(bt,xt);else return[];if(Pt=Pt.withIndex(Ct),!Pt.isEmpty()&&!Pt.isLeafNode()){const Nt=[],kt=Ct.getCompare(),Dt=wt?Pt.getReverseIteratorFrom(_t,Ct):Pt.getIteratorFrom(_t,Ct);let Ot=Dt.getNext();for(;Ot&&Nt.length<$t;)kt(Ot,_t)!==0&&Nt.push(Ot),Ot=Dt.getNext();return Nt}else return[]}function newWriteTree(){return{visibleWrites:CompoundWrite.empty(),allWrites:[],lastWriteId:-1}}function writeTreeRefCalcCompleteEventCache(vt,ht,xt,_t){return writeTreeCalcCompleteEventCache(vt.writeTree,vt.treePath,ht,xt,_t)}function writeTreeRefCalcCompleteEventChildren(vt,ht){return writeTreeCalcCompleteEventChildren(vt.writeTree,vt.treePath,ht)}function writeTreeRefCalcEventCacheAfterServerOverwrite(vt,ht,xt,_t){return writeTreeCalcEventCacheAfterServerOverwrite(vt.writeTree,vt.treePath,ht,xt,_t)}function writeTreeRefShadowingWrite(vt,ht){return writeTreeShadowingWrite(vt.writeTree,pathChild(vt.treePath,ht))}function writeTreeRefCalcIndexedSlice(vt,ht,xt,_t,$t,wt){return writeTreeCalcIndexedSlice(vt.writeTree,vt.treePath,ht,xt,_t,$t,wt)}function writeTreeRefCalcCompleteChild(vt,ht,xt){return writeTreeCalcCompleteChild(vt.writeTree,vt.treePath,ht,xt)}function writeTreeRefChild(vt,ht){return newWriteTreeRef(pathChild(vt.treePath,ht),vt.writeTree)}function newWriteTreeRef(vt,ht){return{treePath:vt,writeTree:ht}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ChildChangeAccumulator{constructor(){this.changeMap=new Map}trackChildChange(ht){const xt=ht.type,_t=ht.childName;assert(xt==="child_added"||xt==="child_changed"||xt==="child_removed","Only child changes supported for tracking"),assert(_t!==".priority","Only non-priority child changes can be tracked.");const $t=this.changeMap.get(_t);if($t){const wt=$t.type;if(xt==="child_added"&&wt==="child_removed")this.changeMap.set(_t,changeChildChanged(_t,ht.snapshotNode,$t.snapshotNode));else if(xt==="child_removed"&&wt==="child_added")this.changeMap.delete(_t);else if(xt==="child_removed"&&wt==="child_changed")this.changeMap.set(_t,changeChildRemoved(_t,$t.oldSnap));else if(xt==="child_changed"&&wt==="child_added")this.changeMap.set(_t,changeChildAdded(_t,ht.snapshotNode));else if(xt==="child_changed"&&wt==="child_changed")this.changeMap.set(_t,changeChildChanged(_t,ht.snapshotNode,$t.oldSnap));else throw assertionError("Illegal combination of changes: "+ht+" occurred after "+$t)}else this.changeMap.set(_t,ht)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NoCompleteChildSource_{getCompleteChild(ht){return null}getChildAfterChild(ht,xt,_t){return null}}const NO_COMPLETE_CHILD_SOURCE=new NoCompleteChildSource_;class WriteTreeCompleteChildSource{constructor(ht,xt,_t=null){this.writes_=ht,this.viewCache_=xt,this.optCompleteServerCache_=_t}getCompleteChild(ht){const xt=this.viewCache_.eventCache;if(xt.isCompleteForChild(ht))return xt.getNode().getImmediateChild(ht);{const _t=this.optCompleteServerCache_!=null?new CacheNode(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return writeTreeRefCalcCompleteChild(this.writes_,ht,_t)}}getChildAfterChild(ht,xt,_t){const $t=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:viewCacheGetCompleteServerSnap(this.viewCache_),wt=writeTreeRefCalcIndexedSlice(this.writes_,$t,xt,1,_t,ht);return wt.length===0?null:wt[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function newViewProcessor(vt){return{filter:vt}}function viewProcessorAssertIndexed(vt,ht){assert(ht.eventCache.getNode().isIndexed(vt.filter.getIndex()),"Event snap not indexed"),assert(ht.serverCache.getNode().isIndexed(vt.filter.getIndex()),"Server snap not indexed")}function viewProcessorApplyOperation(vt,ht,xt,_t,$t){const wt=new ChildChangeAccumulator;let Ct,Pt;if(xt.type===OperationType.OVERWRITE){const Rt=xt;Rt.source.fromUser?Ct=viewProcessorApplyUserOverwrite(vt,ht,Rt.path,Rt.snap,_t,$t,wt):(assert(Rt.source.fromServer,"Unknown source."),Pt=Rt.source.tagged||ht.serverCache.isFiltered()&&!pathIsEmpty(Rt.path),Ct=viewProcessorApplyServerOverwrite(vt,ht,Rt.path,Rt.snap,_t,$t,Pt,wt))}else if(xt.type===OperationType.MERGE){const Rt=xt;Rt.source.fromUser?Ct=viewProcessorApplyUserMerge(vt,ht,Rt.path,Rt.children,_t,$t,wt):(assert(Rt.source.fromServer,"Unknown source."),Pt=Rt.source.tagged||ht.serverCache.isFiltered(),Ct=viewProcessorApplyServerMerge(vt,ht,Rt.path,Rt.children,_t,$t,Pt,wt))}else if(xt.type===OperationType.ACK_USER_WRITE){const Rt=xt;Rt.revert?Ct=viewProcessorRevertUserWrite(vt,ht,Rt.path,_t,$t,wt):Ct=viewProcessorAckUserWrite(vt,ht,Rt.path,Rt.affectedTree,_t,$t,wt)}else if(xt.type===OperationType.LISTEN_COMPLETE)Ct=viewProcessorListenComplete(vt,ht,xt.path,_t,wt);else throw assertionError("Unknown operation type: "+xt.type);const bt=wt.getChanges();return viewProcessorMaybeAddValueEvent(ht,Ct,bt),{viewCache:Ct,changes:bt}}function viewProcessorMaybeAddValueEvent(vt,ht,xt){const _t=ht.eventCache;if(_t.isFullyInitialized()){const $t=_t.getNode().isLeafNode()||_t.getNode().isEmpty(),wt=viewCacheGetCompleteEventSnap(vt);(xt.length>0||!vt.eventCache.isFullyInitialized()||$t&&!_t.getNode().equals(wt)||!_t.getNode().getPriority().equals(wt.getPriority()))&&xt.push(changeValue(viewCacheGetCompleteEventSnap(ht)))}}function viewProcessorGenerateEventCacheAfterServerEvent(vt,ht,xt,_t,$t,wt){const Ct=ht.eventCache;if(writeTreeRefShadowingWrite(_t,xt)!=null)return ht;{let Pt,bt;if(pathIsEmpty(xt))if(assert(ht.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),ht.serverCache.isFiltered()){const Rt=viewCacheGetCompleteServerSnap(ht),Nt=Rt instanceof ChildrenNode?Rt:ChildrenNode.EMPTY_NODE,kt=writeTreeRefCalcCompleteEventChildren(_t,Nt);Pt=vt.filter.updateFullNode(ht.eventCache.getNode(),kt,wt)}else{const Rt=writeTreeRefCalcCompleteEventCache(_t,viewCacheGetCompleteServerSnap(ht));Pt=vt.filter.updateFullNode(ht.eventCache.getNode(),Rt,wt)}else{const Rt=pathGetFront(xt);if(Rt===".priority"){assert(pathGetLength(xt)===1,"Can't have a priority with additional path components");const Nt=Ct.getNode();bt=ht.serverCache.getNode();const kt=writeTreeRefCalcEventCacheAfterServerOverwrite(_t,xt,Nt,bt);kt!=null?Pt=vt.filter.updatePriority(Nt,kt):Pt=Ct.getNode()}else{const Nt=pathPopFront(xt);let kt;if(Ct.isCompleteForChild(Rt)){bt=ht.serverCache.getNode();const Dt=writeTreeRefCalcEventCacheAfterServerOverwrite(_t,xt,Ct.getNode(),bt);Dt!=null?kt=Ct.getNode().getImmediateChild(Rt).updateChild(Nt,Dt):kt=Ct.getNode().getImmediateChild(Rt)}else kt=writeTreeRefCalcCompleteChild(_t,Rt,ht.serverCache);kt!=null?Pt=vt.filter.updateChild(Ct.getNode(),Rt,kt,Nt,$t,wt):Pt=Ct.getNode()}}return viewCacheUpdateEventSnap(ht,Pt,Ct.isFullyInitialized()||pathIsEmpty(xt),vt.filter.filtersNodes())}}function viewProcessorApplyServerOverwrite(vt,ht,xt,_t,$t,wt,Ct,Pt){const bt=ht.serverCache;let Rt;const Nt=Ct?vt.filter:vt.filter.getIndexedFilter();if(pathIsEmpty(xt))Rt=Nt.updateFullNode(bt.getNode(),_t,null);else if(Nt.filtersNodes()&&!bt.isFiltered()){const Ot=bt.getNode().updateChild(xt,_t);Rt=Nt.updateFullNode(bt.getNode(),Ot,null)}else{const Ot=pathGetFront(xt);if(!bt.isCompleteForPath(xt)&&pathGetLength(xt)>1)return ht;const Lt=pathPopFront(xt),Ut=bt.getNode().getImmediateChild(Ot).updateChild(Lt,_t);Ot===".priority"?Rt=Nt.updatePriority(bt.getNode(),Ut):Rt=Nt.updateChild(bt.getNode(),Ot,Ut,Lt,NO_COMPLETE_CHILD_SOURCE,null)}const kt=viewCacheUpdateServerSnap(ht,Rt,bt.isFullyInitialized()||pathIsEmpty(xt),Nt.filtersNodes()),Dt=new WriteTreeCompleteChildSource($t,kt,wt);return viewProcessorGenerateEventCacheAfterServerEvent(vt,kt,xt,$t,Dt,Pt)}function viewProcessorApplyUserOverwrite(vt,ht,xt,_t,$t,wt,Ct){const Pt=ht.eventCache;let bt,Rt;const Nt=new WriteTreeCompleteChildSource($t,ht,wt);if(pathIsEmpty(xt))Rt=vt.filter.updateFullNode(ht.eventCache.getNode(),_t,Ct),bt=viewCacheUpdateEventSnap(ht,Rt,!0,vt.filter.filtersNodes());else{const kt=pathGetFront(xt);if(kt===".priority")Rt=vt.filter.updatePriority(ht.eventCache.getNode(),_t),bt=viewCacheUpdateEventSnap(ht,Rt,Pt.isFullyInitialized(),Pt.isFiltered());else{const Dt=pathPopFront(xt),Ot=Pt.getNode().getImmediateChild(kt);let Lt;if(pathIsEmpty(Dt))Lt=_t;else{const Ft=Nt.getCompleteChild(kt);Ft!=null?pathGetBack(Dt)===".priority"&&Ft.getChild(pathParent(Dt)).isEmpty()?Lt=Ft:Lt=Ft.updateChild(Dt,_t):Lt=ChildrenNode.EMPTY_NODE}if(Ot.equals(Lt))bt=ht;else{const Ft=vt.filter.updateChild(Pt.getNode(),kt,Lt,Dt,Nt,Ct);bt=viewCacheUpdateEventSnap(ht,Ft,Pt.isFullyInitialized(),vt.filter.filtersNodes())}}}return bt}function viewProcessorCacheHasChild(vt,ht){return vt.eventCache.isCompleteForChild(ht)}function viewProcessorApplyUserMerge(vt,ht,xt,_t,$t,wt,Ct){let Pt=ht;return _t.foreach((bt,Rt)=>{const Nt=pathChild(xt,bt);viewProcessorCacheHasChild(ht,pathGetFront(Nt))&&(Pt=viewProcessorApplyUserOverwrite(vt,Pt,Nt,Rt,$t,wt,Ct))}),_t.foreach((bt,Rt)=>{const Nt=pathChild(xt,bt);viewProcessorCacheHasChild(ht,pathGetFront(Nt))||(Pt=viewProcessorApplyUserOverwrite(vt,Pt,Nt,Rt,$t,wt,Ct))}),Pt}function viewProcessorApplyMerge(vt,ht,xt){return xt.foreach((_t,$t)=>{ht=ht.updateChild(_t,$t)}),ht}function viewProcessorApplyServerMerge(vt,ht,xt,_t,$t,wt,Ct,Pt){if(ht.serverCache.getNode().isEmpty()&&!ht.serverCache.isFullyInitialized())return ht;let bt=ht,Rt;pathIsEmpty(xt)?Rt=_t:Rt=new ImmutableTree(null).setTree(xt,_t);const Nt=ht.serverCache.getNode();return Rt.children.inorderTraversal((kt,Dt)=>{if(Nt.hasChild(kt)){const Ot=ht.serverCache.getNode().getImmediateChild(kt),Lt=viewProcessorApplyMerge(vt,Ot,Dt);bt=viewProcessorApplyServerOverwrite(vt,bt,new Path(kt),Lt,$t,wt,Ct,Pt)}}),Rt.children.inorderTraversal((kt,Dt)=>{const Ot=!ht.serverCache.isCompleteForChild(kt)&&Dt.value===null;if(!Nt.hasChild(kt)&&!Ot){const Lt=ht.serverCache.getNode().getImmediateChild(kt),Ft=viewProcessorApplyMerge(vt,Lt,Dt);bt=viewProcessorApplyServerOverwrite(vt,bt,new Path(kt),Ft,$t,wt,Ct,Pt)}}),bt}function viewProcessorAckUserWrite(vt,ht,xt,_t,$t,wt,Ct){if(writeTreeRefShadowingWrite($t,xt)!=null)return ht;const Pt=ht.serverCache.isFiltered(),bt=ht.serverCache;if(_t.value!=null){if(pathIsEmpty(xt)&&bt.isFullyInitialized()||bt.isCompleteForPath(xt))return viewProcessorApplyServerOverwrite(vt,ht,xt,bt.getNode().getChild(xt),$t,wt,Pt,Ct);if(pathIsEmpty(xt)){let Rt=new ImmutableTree(null);return bt.getNode().forEachChild(KEY_INDEX,(Nt,kt)=>{Rt=Rt.set(new Path(Nt),kt)}),viewProcessorApplyServerMerge(vt,ht,xt,Rt,$t,wt,Pt,Ct)}else return ht}else{let Rt=new ImmutableTree(null);return _t.foreach((Nt,kt)=>{const Dt=pathChild(xt,Nt);bt.isCompleteForPath(Dt)&&(Rt=Rt.set(Nt,bt.getNode().getChild(Dt)))}),viewProcessorApplyServerMerge(vt,ht,xt,Rt,$t,wt,Pt,Ct)}}function viewProcessorListenComplete(vt,ht,xt,_t,$t){const wt=ht.serverCache,Ct=viewCacheUpdateServerSnap(ht,wt.getNode(),wt.isFullyInitialized()||pathIsEmpty(xt),wt.isFiltered());return viewProcessorGenerateEventCacheAfterServerEvent(vt,Ct,xt,_t,NO_COMPLETE_CHILD_SOURCE,$t)}function viewProcessorRevertUserWrite(vt,ht,xt,_t,$t,wt){let Ct;if(writeTreeRefShadowingWrite(_t,xt)!=null)return ht;{const Pt=new WriteTreeCompleteChildSource(_t,ht,$t),bt=ht.eventCache.getNode();let Rt;if(pathIsEmpty(xt)||pathGetFront(xt)===".priority"){let Nt;if(ht.serverCache.isFullyInitialized())Nt=writeTreeRefCalcCompleteEventCache(_t,viewCacheGetCompleteServerSnap(ht));else{const kt=ht.serverCache.getNode();assert(kt instanceof ChildrenNode,"serverChildren would be complete if leaf node"),Nt=writeTreeRefCalcCompleteEventChildren(_t,kt)}Nt=Nt,Rt=vt.filter.updateFullNode(bt,Nt,wt)}else{const Nt=pathGetFront(xt);let kt=writeTreeRefCalcCompleteChild(_t,Nt,ht.serverCache);kt==null&&ht.serverCache.isCompleteForChild(Nt)&&(kt=bt.getImmediateChild(Nt)),kt!=null?Rt=vt.filter.updateChild(bt,Nt,kt,pathPopFront(xt),Pt,wt):ht.eventCache.getNode().hasChild(Nt)?Rt=vt.filter.updateChild(bt,Nt,ChildrenNode.EMPTY_NODE,pathPopFront(xt),Pt,wt):Rt=bt,Rt.isEmpty()&&ht.serverCache.isFullyInitialized()&&(Ct=writeTreeRefCalcCompleteEventCache(_t,viewCacheGetCompleteServerSnap(ht)),Ct.isLeafNode()&&(Rt=vt.filter.updateFullNode(Rt,Ct,wt)))}return Ct=ht.serverCache.isFullyInitialized()||writeTreeRefShadowingWrite(_t,newEmptyPath())!=null,viewCacheUpdateEventSnap(ht,Rt,Ct,vt.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class View{constructor(ht,xt){this.query_=ht,this.eventRegistrations_=[];const _t=this.query_._queryParams,$t=new IndexedFilter(_t.getIndex()),wt=queryParamsGetNodeFilter(_t);this.processor_=newViewProcessor(wt);const Ct=xt.serverCache,Pt=xt.eventCache,bt=$t.updateFullNode(ChildrenNode.EMPTY_NODE,Ct.getNode(),null),Rt=wt.updateFullNode(ChildrenNode.EMPTY_NODE,Pt.getNode(),null),Nt=new CacheNode(bt,Ct.isFullyInitialized(),$t.filtersNodes()),kt=new CacheNode(Rt,Pt.isFullyInitialized(),wt.filtersNodes());this.viewCache_=newViewCache(kt,Nt),this.eventGenerator_=new EventGenerator(this.query_)}get query(){return this.query_}}function viewGetServerCache(vt){return vt.viewCache_.serverCache.getNode()}function viewGetCompleteNode(vt){return viewCacheGetCompleteEventSnap(vt.viewCache_)}function viewGetCompleteServerCache(vt,ht){const xt=viewCacheGetCompleteServerSnap(vt.viewCache_);return xt&&(vt.query._queryParams.loadsAllData()||!pathIsEmpty(ht)&&!xt.getImmediateChild(pathGetFront(ht)).isEmpty())?xt.getChild(ht):null}function viewIsEmpty(vt){return vt.eventRegistrations_.length===0}function viewAddEventRegistration(vt,ht){vt.eventRegistrations_.push(ht)}function viewRemoveEventRegistration(vt,ht,xt){const _t=[];if(xt){assert(ht==null,"A cancel should cancel all event registrations.");const $t=vt.query._path;vt.eventRegistrations_.forEach(wt=>{const Ct=wt.createCancelEvent(xt,$t);Ct&&_t.push(Ct)})}if(ht){let $t=[];for(let wt=0;wt<vt.eventRegistrations_.length;++wt){const Ct=vt.eventRegistrations_[wt];if(!Ct.matches(ht))$t.push(Ct);else if(ht.hasAnyCallback()){$t=$t.concat(vt.eventRegistrations_.slice(wt+1));break}}vt.eventRegistrations_=$t}else vt.eventRegistrations_=[];return _t}function viewApplyOperation(vt,ht,xt,_t){ht.type===OperationType.MERGE&&ht.source.queryId!==null&&(assert(viewCacheGetCompleteServerSnap(vt.viewCache_),"We should always have a full cache before handling merges"),assert(viewCacheGetCompleteEventSnap(vt.viewCache_),"Missing event cache, even though we have a server cache"));const $t=vt.viewCache_,wt=viewProcessorApplyOperation(vt.processor_,$t,ht,xt,_t);return viewProcessorAssertIndexed(vt.processor_,wt.viewCache),assert(wt.viewCache.serverCache.isFullyInitialized()||!$t.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),vt.viewCache_=wt.viewCache,viewGenerateEventsForChanges_(vt,wt.changes,wt.viewCache.eventCache.getNode(),null)}function viewGetInitialEvents(vt,ht){const xt=vt.viewCache_.eventCache,_t=[];return xt.getNode().isLeafNode()||xt.getNode().forEachChild(PRIORITY_INDEX,(wt,Ct)=>{_t.push(changeChildAdded(wt,Ct))}),xt.isFullyInitialized()&&_t.push(changeValue(xt.getNode())),viewGenerateEventsForChanges_(vt,_t,xt.getNode(),ht)}function viewGenerateEventsForChanges_(vt,ht,xt,_t){const $t=_t?[_t]:vt.eventRegistrations_;return eventGeneratorGenerateEventsForChanges(vt.eventGenerator_,ht,xt,$t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let referenceConstructor$1;class SyncPoint{constructor(){this.views=new Map}}function syncPointSetReferenceConstructor(vt){assert(!referenceConstructor$1,"__referenceConstructor has already been defined"),referenceConstructor$1=vt}function syncPointGetReferenceConstructor(){return assert(referenceConstructor$1,"Reference.ts has not been loaded"),referenceConstructor$1}function syncPointIsEmpty(vt){return vt.views.size===0}function syncPointApplyOperation(vt,ht,xt,_t){const $t=ht.source.queryId;if($t!==null){const wt=vt.views.get($t);return assert(wt!=null,"SyncTree gave us an op for an invalid query."),viewApplyOperation(wt,ht,xt,_t)}else{let wt=[];for(const Ct of vt.views.values())wt=wt.concat(viewApplyOperation(Ct,ht,xt,_t));return wt}}function syncPointGetView(vt,ht,xt,_t,$t){const wt=ht._queryIdentifier,Ct=vt.views.get(wt);if(!Ct){let Pt=writeTreeRefCalcCompleteEventCache(xt,$t?_t:null),bt=!1;Pt?bt=!0:_t instanceof ChildrenNode?(Pt=writeTreeRefCalcCompleteEventChildren(xt,_t),bt=!1):(Pt=ChildrenNode.EMPTY_NODE,bt=!1);const Rt=newViewCache(new CacheNode(Pt,bt,!1),new CacheNode(_t,$t,!1));return new View(ht,Rt)}return Ct}function syncPointAddEventRegistration(vt,ht,xt,_t,$t,wt){const Ct=syncPointGetView(vt,ht,_t,$t,wt);return vt.views.has(ht._queryIdentifier)||vt.views.set(ht._queryIdentifier,Ct),viewAddEventRegistration(Ct,xt),viewGetInitialEvents(Ct,xt)}function syncPointRemoveEventRegistration(vt,ht,xt,_t){const $t=ht._queryIdentifier,wt=[];let Ct=[];const Pt=syncPointHasCompleteView(vt);if($t==="default")for(const[bt,Rt]of vt.views.entries())Ct=Ct.concat(viewRemoveEventRegistration(Rt,xt,_t)),viewIsEmpty(Rt)&&(vt.views.delete(bt),Rt.query._queryParams.loadsAllData()||wt.push(Rt.query));else{const bt=vt.views.get($t);bt&&(Ct=Ct.concat(viewRemoveEventRegistration(bt,xt,_t)),viewIsEmpty(bt)&&(vt.views.delete($t),bt.query._queryParams.loadsAllData()||wt.push(bt.query)))}return Pt&&!syncPointHasCompleteView(vt)&&wt.push(new(syncPointGetReferenceConstructor())(ht._repo,ht._path)),{removed:wt,events:Ct}}function syncPointGetQueryViews(vt){const ht=[];for(const xt of vt.views.values())xt.query._queryParams.loadsAllData()||ht.push(xt);return ht}function syncPointGetCompleteServerCache(vt,ht){let xt=null;for(const _t of vt.views.values())xt=xt||viewGetCompleteServerCache(_t,ht);return xt}function syncPointViewForQuery(vt,ht){if(ht._queryParams.loadsAllData())return syncPointGetCompleteView(vt);{const _t=ht._queryIdentifier;return vt.views.get(_t)}}function syncPointViewExistsForQuery(vt,ht){return syncPointViewForQuery(vt,ht)!=null}function syncPointHasCompleteView(vt){return syncPointGetCompleteView(vt)!=null}function syncPointGetCompleteView(vt){for(const ht of vt.views.values())if(ht.query._queryParams.loadsAllData())return ht;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let referenceConstructor;function syncTreeSetReferenceConstructor(vt){assert(!referenceConstructor,"__referenceConstructor has already been defined"),referenceConstructor=vt}function syncTreeGetReferenceConstructor(){return assert(referenceConstructor,"Reference.ts has not been loaded"),referenceConstructor}let syncTreeNextQueryTag_=1;class SyncTree{constructor(ht){this.listenProvider_=ht,this.syncPointTree_=new ImmutableTree(null),this.pendingWriteTree_=newWriteTree(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function syncTreeApplyUserOverwrite(vt,ht,xt,_t,$t){return writeTreeAddOverwrite(vt.pendingWriteTree_,ht,xt,_t,$t),$t?syncTreeApplyOperationToSyncPoints_(vt,new Overwrite(newOperationSourceUser(),ht,xt)):[]}function syncTreeApplyUserMerge(vt,ht,xt,_t){writeTreeAddMerge(vt.pendingWriteTree_,ht,xt,_t);const $t=ImmutableTree.fromObject(xt);return syncTreeApplyOperationToSyncPoints_(vt,new Merge(newOperationSourceUser(),ht,$t))}function syncTreeAckUserWrite(vt,ht,xt=!1){const _t=writeTreeGetWrite(vt.pendingWriteTree_,ht);if(writeTreeRemoveWrite(vt.pendingWriteTree_,ht)){let wt=new ImmutableTree(null);return _t.snap!=null?wt=wt.set(newEmptyPath(),!0):each(_t.children,Ct=>{wt=wt.set(new Path(Ct),!0)}),syncTreeApplyOperationToSyncPoints_(vt,new AckUserWrite(_t.path,wt,xt))}else return[]}function syncTreeApplyServerOverwrite(vt,ht,xt){return syncTreeApplyOperationToSyncPoints_(vt,new Overwrite(newOperationSourceServer(),ht,xt))}function syncTreeApplyServerMerge(vt,ht,xt){const _t=ImmutableTree.fromObject(xt);return syncTreeApplyOperationToSyncPoints_(vt,new Merge(newOperationSourceServer(),ht,_t))}function syncTreeApplyListenComplete(vt,ht){return syncTreeApplyOperationToSyncPoints_(vt,new ListenComplete(newOperationSourceServer(),ht))}function syncTreeApplyTaggedListenComplete(vt,ht,xt){const _t=syncTreeQueryKeyForTag_(vt,xt);if(_t){const $t=syncTreeParseQueryKey_(_t),wt=$t.path,Ct=$t.queryId,Pt=newRelativePath(wt,ht),bt=new ListenComplete(newOperationSourceServerTaggedQuery(Ct),Pt);return syncTreeApplyTaggedOperation_(vt,wt,bt)}else return[]}function syncTreeRemoveEventRegistration(vt,ht,xt,_t,$t=!1){const wt=ht._path,Ct=vt.syncPointTree_.get(wt);let Pt=[];if(Ct&&(ht._queryIdentifier==="default"||syncPointViewExistsForQuery(Ct,ht))){const bt=syncPointRemoveEventRegistration(Ct,ht,xt,_t);syncPointIsEmpty(Ct)&&(vt.syncPointTree_=vt.syncPointTree_.remove(wt));const Rt=bt.removed;if(Pt=bt.events,!$t){const Nt=Rt.findIndex(Dt=>Dt._queryParams.loadsAllData())!==-1,kt=vt.syncPointTree_.findOnPath(wt,(Dt,Ot)=>syncPointHasCompleteView(Ot));if(Nt&&!kt){const Dt=vt.syncPointTree_.subtree(wt);if(!Dt.isEmpty()){const Ot=syncTreeCollectDistinctViewsForSubTree_(Dt);for(let Lt=0;Lt<Ot.length;++Lt){const Ft=Ot[Lt],Ut=Ft.query,jt=syncTreeCreateListenerForView_(vt,Ft);vt.listenProvider_.startListening(syncTreeQueryForListening_(Ut),syncTreeTagForQuery(vt,Ut),jt.hashFn,jt.onComplete)}}}!kt&&Rt.length>0&&!_t&&(Nt?vt.listenProvider_.stopListening(syncTreeQueryForListening_(ht),null):Rt.forEach(Dt=>{const Ot=vt.queryToTagMap.get(syncTreeMakeQueryKey_(Dt));vt.listenProvider_.stopListening(syncTreeQueryForListening_(Dt),Ot)}))}syncTreeRemoveTags_(vt,Rt)}return Pt}function syncTreeApplyTaggedQueryOverwrite(vt,ht,xt,_t){const $t=syncTreeQueryKeyForTag_(vt,_t);if($t!=null){const wt=syncTreeParseQueryKey_($t),Ct=wt.path,Pt=wt.queryId,bt=newRelativePath(Ct,ht),Rt=new Overwrite(newOperationSourceServerTaggedQuery(Pt),bt,xt);return syncTreeApplyTaggedOperation_(vt,Ct,Rt)}else return[]}function syncTreeApplyTaggedQueryMerge(vt,ht,xt,_t){const $t=syncTreeQueryKeyForTag_(vt,_t);if($t){const wt=syncTreeParseQueryKey_($t),Ct=wt.path,Pt=wt.queryId,bt=newRelativePath(Ct,ht),Rt=ImmutableTree.fromObject(xt),Nt=new Merge(newOperationSourceServerTaggedQuery(Pt),bt,Rt);return syncTreeApplyTaggedOperation_(vt,Ct,Nt)}else return[]}function syncTreeAddEventRegistration(vt,ht,xt,_t=!1){const $t=ht._path;let wt=null,Ct=!1;vt.syncPointTree_.foreachOnPath($t,(Dt,Ot)=>{const Lt=newRelativePath(Dt,$t);wt=wt||syncPointGetCompleteServerCache(Ot,Lt),Ct=Ct||syncPointHasCompleteView(Ot)});let Pt=vt.syncPointTree_.get($t);Pt?(Ct=Ct||syncPointHasCompleteView(Pt),wt=wt||syncPointGetCompleteServerCache(Pt,newEmptyPath())):(Pt=new SyncPoint,vt.syncPointTree_=vt.syncPointTree_.set($t,Pt));let bt;wt!=null?bt=!0:(bt=!1,wt=ChildrenNode.EMPTY_NODE,vt.syncPointTree_.subtree($t).foreachChild((Ot,Lt)=>{const Ft=syncPointGetCompleteServerCache(Lt,newEmptyPath());Ft&&(wt=wt.updateImmediateChild(Ot,Ft))}));const Rt=syncPointViewExistsForQuery(Pt,ht);if(!Rt&&!ht._queryParams.loadsAllData()){const Dt=syncTreeMakeQueryKey_(ht);assert(!vt.queryToTagMap.has(Dt),"View does not exist, but we have a tag");const Ot=syncTreeGetNextQueryTag_();vt.queryToTagMap.set(Dt,Ot),vt.tagToQueryMap.set(Ot,Dt)}const Nt=writeTreeChildWrites(vt.pendingWriteTree_,$t);let kt=syncPointAddEventRegistration(Pt,ht,xt,Nt,wt,bt);if(!Rt&&!Ct&&!_t){const Dt=syncPointViewForQuery(Pt,ht);kt=kt.concat(syncTreeSetupListener_(vt,ht,Dt))}return kt}function syncTreeCalcCompleteEventCache(vt,ht,xt){const $t=vt.pendingWriteTree_,wt=vt.syncPointTree_.findOnPath(ht,(Ct,Pt)=>{const bt=newRelativePath(Ct,ht),Rt=syncPointGetCompleteServerCache(Pt,bt);if(Rt)return Rt});return writeTreeCalcCompleteEventCache($t,ht,wt,xt,!0)}function syncTreeGetServerValue(vt,ht){const xt=ht._path;let _t=null;vt.syncPointTree_.foreachOnPath(xt,(Rt,Nt)=>{const kt=newRelativePath(Rt,xt);_t=_t||syncPointGetCompleteServerCache(Nt,kt)});let $t=vt.syncPointTree_.get(xt);$t?_t=_t||syncPointGetCompleteServerCache($t,newEmptyPath()):($t=new SyncPoint,vt.syncPointTree_=vt.syncPointTree_.set(xt,$t));const wt=_t!=null,Ct=wt?new CacheNode(_t,!0,!1):null,Pt=writeTreeChildWrites(vt.pendingWriteTree_,ht._path),bt=syncPointGetView($t,ht,Pt,wt?Ct.getNode():ChildrenNode.EMPTY_NODE,wt);return viewGetCompleteNode(bt)}function syncTreeApplyOperationToSyncPoints_(vt,ht){return syncTreeApplyOperationHelper_(ht,vt.syncPointTree_,null,writeTreeChildWrites(vt.pendingWriteTree_,newEmptyPath()))}function syncTreeApplyOperationHelper_(vt,ht,xt,_t){if(pathIsEmpty(vt.path))return syncTreeApplyOperationDescendantsHelper_(vt,ht,xt,_t);{const $t=ht.get(newEmptyPath());xt==null&&$t!=null&&(xt=syncPointGetCompleteServerCache($t,newEmptyPath()));let wt=[];const Ct=pathGetFront(vt.path),Pt=vt.operationForChild(Ct),bt=ht.children.get(Ct);if(bt&&Pt){const Rt=xt?xt.getImmediateChild(Ct):null,Nt=writeTreeRefChild(_t,Ct);wt=wt.concat(syncTreeApplyOperationHelper_(Pt,bt,Rt,Nt))}return $t&&(wt=wt.concat(syncPointApplyOperation($t,vt,_t,xt))),wt}}function syncTreeApplyOperationDescendantsHelper_(vt,ht,xt,_t){const $t=ht.get(newEmptyPath());xt==null&&$t!=null&&(xt=syncPointGetCompleteServerCache($t,newEmptyPath()));let wt=[];return ht.children.inorderTraversal((Ct,Pt)=>{const bt=xt?xt.getImmediateChild(Ct):null,Rt=writeTreeRefChild(_t,Ct),Nt=vt.operationForChild(Ct);Nt&&(wt=wt.concat(syncTreeApplyOperationDescendantsHelper_(Nt,Pt,bt,Rt)))}),$t&&(wt=wt.concat(syncPointApplyOperation($t,vt,_t,xt))),wt}function syncTreeCreateListenerForView_(vt,ht){const xt=ht.query,_t=syncTreeTagForQuery(vt,xt);return{hashFn:()=>(viewGetServerCache(ht)||ChildrenNode.EMPTY_NODE).hash(),onComplete:$t=>{if($t==="ok")return _t?syncTreeApplyTaggedListenComplete(vt,xt._path,_t):syncTreeApplyListenComplete(vt,xt._path);{const wt=errorForServerCode($t,xt);return syncTreeRemoveEventRegistration(vt,xt,null,wt)}}}}function syncTreeTagForQuery(vt,ht){const xt=syncTreeMakeQueryKey_(ht);return vt.queryToTagMap.get(xt)}function syncTreeMakeQueryKey_(vt){return vt._path.toString()+"$"+vt._queryIdentifier}function syncTreeQueryKeyForTag_(vt,ht){return vt.tagToQueryMap.get(ht)}function syncTreeParseQueryKey_(vt){const ht=vt.indexOf("$");return assert(ht!==-1&&ht<vt.length-1,"Bad queryKey."),{queryId:vt.substr(ht+1),path:new Path(vt.substr(0,ht))}}function syncTreeApplyTaggedOperation_(vt,ht,xt){const _t=vt.syncPointTree_.get(ht);assert(_t,"Missing sync point for query tag that we're tracking");const $t=writeTreeChildWrites(vt.pendingWriteTree_,ht);return syncPointApplyOperation(_t,xt,$t,null)}function syncTreeCollectDistinctViewsForSubTree_(vt){return vt.fold((ht,xt,_t)=>{if(xt&&syncPointHasCompleteView(xt))return[syncPointGetCompleteView(xt)];{let $t=[];return xt&&($t=syncPointGetQueryViews(xt)),each(_t,(wt,Ct)=>{$t=$t.concat(Ct)}),$t}})}function syncTreeQueryForListening_(vt){return vt._queryParams.loadsAllData()&&!vt._queryParams.isDefault()?new(syncTreeGetReferenceConstructor())(vt._repo,vt._path):vt}function syncTreeRemoveTags_(vt,ht){for(let xt=0;xt<ht.length;++xt){const _t=ht[xt];if(!_t._queryParams.loadsAllData()){const $t=syncTreeMakeQueryKey_(_t),wt=vt.queryToTagMap.get($t);vt.queryToTagMap.delete($t),vt.tagToQueryMap.delete(wt)}}}function syncTreeGetNextQueryTag_(){return syncTreeNextQueryTag_++}function syncTreeSetupListener_(vt,ht,xt){const _t=ht._path,$t=syncTreeTagForQuery(vt,ht),wt=syncTreeCreateListenerForView_(vt,xt),Ct=vt.listenProvider_.startListening(syncTreeQueryForListening_(ht),$t,wt.hashFn,wt.onComplete),Pt=vt.syncPointTree_.subtree(_t);if($t)assert(!syncPointHasCompleteView(Pt.value),"If we're adding a query, it shouldn't be shadowed");else{const bt=Pt.fold((Rt,Nt,kt)=>{if(!pathIsEmpty(Rt)&&Nt&&syncPointHasCompleteView(Nt))return[syncPointGetCompleteView(Nt).query];{let Dt=[];return Nt&&(Dt=Dt.concat(syncPointGetQueryViews(Nt).map(Ot=>Ot.query))),each(kt,(Ot,Lt)=>{Dt=Dt.concat(Lt)}),Dt}});for(let Rt=0;Rt<bt.length;++Rt){const Nt=bt[Rt];vt.listenProvider_.stopListening(syncTreeQueryForListening_(Nt),syncTreeTagForQuery(vt,Nt))}}return Ct}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ExistingValueProvider{constructor(ht){this.node_=ht}getImmediateChild(ht){const xt=this.node_.getImmediateChild(ht);return new ExistingValueProvider(xt)}node(){return this.node_}}class DeferredValueProvider{constructor(ht,xt){this.syncTree_=ht,this.path_=xt}getImmediateChild(ht){const xt=pathChild(this.path_,ht);return new DeferredValueProvider(this.syncTree_,xt)}node(){return syncTreeCalcCompleteEventCache(this.syncTree_,this.path_)}}const generateWithValues=function(vt){return vt=vt||{},vt.timestamp=vt.timestamp||new Date().getTime(),vt},resolveDeferredLeafValue=function(vt,ht,xt){if(!vt||typeof vt!="object")return vt;if(assert(".sv"in vt,"Unexpected leaf node or priority contents"),typeof vt[".sv"]=="string")return resolveScalarDeferredValue(vt[".sv"],ht,xt);if(typeof vt[".sv"]=="object")return resolveComplexDeferredValue(vt[".sv"],ht);assert(!1,"Unexpected server value: "+JSON.stringify(vt,null,2))},resolveScalarDeferredValue=function(vt,ht,xt){switch(vt){case"timestamp":return xt.timestamp;default:assert(!1,"Unexpected server value: "+vt)}},resolveComplexDeferredValue=function(vt,ht,xt){vt.hasOwnProperty("increment")||assert(!1,"Unexpected server value: "+JSON.stringify(vt,null,2));const _t=vt.increment;typeof _t!="number"&&assert(!1,"Unexpected increment value: "+_t);const $t=ht.node();if(assert($t!==null&&typeof $t<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!$t.isLeafNode())return _t;const Ct=$t.getValue();return typeof Ct!="number"?_t:Ct+_t},resolveDeferredValueTree=function(vt,ht,xt,_t){return resolveDeferredValue(ht,new DeferredValueProvider(xt,vt),_t)},resolveDeferredValueSnapshot=function(vt,ht,xt){return resolveDeferredValue(vt,new ExistingValueProvider(ht),xt)};function resolveDeferredValue(vt,ht,xt){const _t=vt.getPriority().val(),$t=resolveDeferredLeafValue(_t,ht.getImmediateChild(".priority"),xt);let wt;if(vt.isLeafNode()){const Ct=vt,Pt=resolveDeferredLeafValue(Ct.getValue(),ht,xt);return Pt!==Ct.getValue()||$t!==Ct.getPriority().val()?new LeafNode(Pt,nodeFromJSON($t)):vt}else{const Ct=vt;return wt=Ct,$t!==Ct.getPriority().val()&&(wt=wt.updatePriority(new LeafNode($t))),Ct.forEachChild(PRIORITY_INDEX,(Pt,bt)=>{const Rt=resolveDeferredValue(bt,ht.getImmediateChild(Pt),xt);Rt!==bt&&(wt=wt.updateImmediateChild(Pt,Rt))}),wt}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tree{constructor(ht="",xt=null,_t={children:{},childCount:0}){this.name=ht,this.parent=xt,this.node=_t}}function treeSubTree(vt,ht){let xt=ht instanceof Path?ht:new Path(ht),_t=vt,$t=pathGetFront(xt);for(;$t!==null;){const wt=safeGet(_t.node.children,$t)||{children:{},childCount:0};_t=new Tree($t,_t,wt),xt=pathPopFront(xt),$t=pathGetFront(xt)}return _t}function treeGetValue(vt){return vt.node.value}function treeSetValue(vt,ht){vt.node.value=ht,treeUpdateParents(vt)}function treeHasChildren(vt){return vt.node.childCount>0}function treeIsEmpty(vt){return treeGetValue(vt)===void 0&&!treeHasChildren(vt)}function treeForEachChild(vt,ht){each(vt.node.children,(xt,_t)=>{ht(new Tree(xt,vt,_t))})}function treeForEachDescendant(vt,ht,xt,_t){xt&&!_t&&ht(vt),treeForEachChild(vt,$t=>{treeForEachDescendant($t,ht,!0,_t)}),xt&&_t&&ht(vt)}function treeForEachAncestor(vt,ht,xt){let _t=vt.parent;for(;_t!==null;){if(ht(_t))return!0;_t=_t.parent}return!1}function treeGetPath(vt){return new Path(vt.parent===null?vt.name:treeGetPath(vt.parent)+"/"+vt.name)}function treeUpdateParents(vt){vt.parent!==null&&treeUpdateChild(vt.parent,vt.name,vt)}function treeUpdateChild(vt,ht,xt){const _t=treeIsEmpty(xt),$t=contains(vt.node.children,ht);_t&&$t?(delete vt.node.children[ht],vt.node.childCount--,treeUpdateParents(vt)):!_t&&!$t&&(vt.node.children[ht]=xt.node,vt.node.childCount++,treeUpdateParents(vt))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const INVALID_KEY_REGEX_=/[\[\].#$\/\u0000-\u001F\u007F]/,INVALID_PATH_REGEX_=/[\[\].#$\u0000-\u001F\u007F]/,MAX_LEAF_SIZE_=10*1024*1024,isValidKey=function(vt){return typeof vt=="string"&&vt.length!==0&&!INVALID_KEY_REGEX_.test(vt)},isValidPathString=function(vt){return typeof vt=="string"&&vt.length!==0&&!INVALID_PATH_REGEX_.test(vt)},isValidRootPathString=function(vt){return vt&&(vt=vt.replace(/^\/*\.info(\/|$)/,"/")),isValidPathString(vt)},isValidPriority=function(vt){return vt===null||typeof vt=="string"||typeof vt=="number"&&!isInvalidJSONNumber(vt)||vt&&typeof vt=="object"&&contains(vt,".sv")},validateFirebaseDataArg=function(vt,ht,xt,_t){validateFirebaseData(errorPrefix(vt,"value"),ht,xt)},validateFirebaseData=function(vt,ht,xt){const _t=xt instanceof Path?new ValidationPath(xt,vt):xt;if(ht===void 0)throw new Error(vt+"contains undefined "+validationPathToErrorString(_t));if(typeof ht=="function")throw new Error(vt+"contains a function "+validationPathToErrorString(_t)+" with contents = "+ht.toString());if(isInvalidJSONNumber(ht))throw new Error(vt+"contains "+ht.toString()+" "+validationPathToErrorString(_t));if(typeof ht=="string"&&ht.length>MAX_LEAF_SIZE_/3&&stringLength(ht)>MAX_LEAF_SIZE_)throw new Error(vt+"contains a string greater than "+MAX_LEAF_SIZE_+" utf8 bytes "+validationPathToErrorString(_t)+" ('"+ht.substring(0,50)+"...')");if(ht&&typeof ht=="object"){let $t=!1,wt=!1;if(each(ht,(Ct,Pt)=>{if(Ct===".value")$t=!0;else if(Ct!==".priority"&&Ct!==".sv"&&(wt=!0,!isValidKey(Ct)))throw new Error(vt+" contains an invalid key ("+Ct+") "+validationPathToErrorString(_t)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);validationPathPush(_t,Ct),validateFirebaseData(vt,Pt,_t),validationPathPop(_t)}),$t&&wt)throw new Error(vt+' contains ".value" child '+validationPathToErrorString(_t)+" in addition to actual children.")}},validateFirebaseMergePaths=function(vt,ht){let xt,_t;for(xt=0;xt<ht.length;xt++){_t=ht[xt];const wt=pathSlice(_t);for(let Ct=0;Ct<wt.length;Ct++)if(!(wt[Ct]===".priority"&&Ct===wt.length-1)){if(!isValidKey(wt[Ct]))throw new Error(vt+"contains an invalid key ("+wt[Ct]+") in path "+_t.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}ht.sort(pathCompare);let $t=null;for(xt=0;xt<ht.length;xt++){if(_t=ht[xt],$t!==null&&pathContains($t,_t))throw new Error(vt+"contains a path "+$t.toString()+" that is ancestor of another path "+_t.toString());$t=_t}},validateFirebaseMergeDataArg=function(vt,ht,xt,_t){const $t=errorPrefix(vt,"values");if(!(ht&&typeof ht=="object")||Array.isArray(ht))throw new Error($t+" must be an object containing the children to replace.");const wt=[];each(ht,(Ct,Pt)=>{const bt=new Path(Ct);if(validateFirebaseData($t,Pt,pathChild(xt,bt)),pathGetBack(bt)===".priority"&&!isValidPriority(Pt))throw new Error($t+"contains an invalid value for '"+bt.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");wt.push(bt)}),validateFirebaseMergePaths($t,wt)},validatePathString=function(vt,ht,xt,_t){if(!isValidPathString(xt))throw new Error(errorPrefix(vt,ht)+'was an invalid path = "'+xt+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},validateRootPathString=function(vt,ht,xt,_t){xt&&(xt=xt.replace(/^\/*\.info(\/|$)/,"/")),validatePathString(vt,ht,xt)},validateWritablePath=function(vt,ht){if(pathGetFront(ht)===".info")throw new Error(vt+" failed = Can't modify data under /.info/")},validateUrl=function(vt,ht){const xt=ht.path.toString();if(typeof ht.repoInfo.host!="string"||ht.repoInfo.host.length===0||!isValidKey(ht.repoInfo.namespace)&&ht.repoInfo.host.split(":")[0]!=="localhost"||xt.length!==0&&!isValidRootPathString(xt))throw new Error(errorPrefix(vt,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EventQueue{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function eventQueueQueueEvents(vt,ht){let xt=null;for(let _t=0;_t<ht.length;_t++){const $t=ht[_t],wt=$t.getPath();xt!==null&&!pathEquals(wt,xt.path)&&(vt.eventLists_.push(xt),xt=null),xt===null&&(xt={events:[],path:wt}),xt.events.push($t)}xt&&vt.eventLists_.push(xt)}function eventQueueRaiseEventsForChangedPath(vt,ht,xt){eventQueueQueueEvents(vt,xt),eventQueueRaiseQueuedEventsMatchingPredicate(vt,_t=>pathContains(_t,ht)||pathContains(ht,_t))}function eventQueueRaiseQueuedEventsMatchingPredicate(vt,ht){vt.recursionDepth_++;let xt=!0;for(let _t=0;_t<vt.eventLists_.length;_t++){const $t=vt.eventLists_[_t];if($t){const wt=$t.path;ht(wt)?(eventListRaise(vt.eventLists_[_t]),vt.eventLists_[_t]=null):xt=!1}}xt&&(vt.eventLists_=[]),vt.recursionDepth_--}function eventListRaise(vt){for(let ht=0;ht<vt.events.length;ht++){const xt=vt.events[ht];if(xt!==null){vt.events[ht]=null;const _t=xt.getEventRunner();logger&&log("event: "+xt.toString()),exceptionGuard(_t)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const INTERRUPT_REASON="repo_interrupt",MAX_TRANSACTION_RETRIES=25;class Repo{constructor(ht,xt,_t,$t){this.repoInfo_=ht,this.forceRestClient_=xt,this.authTokenProvider_=_t,this.appCheckProvider_=$t,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new EventQueue,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=newSparseSnapshotTree(),this.transactionQueueTree_=new Tree,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function repoStart(vt,ht,xt){if(vt.stats_=statsManagerGetCollection(vt.repoInfo_),vt.forceRestClient_||beingCrawled())vt.server_=new ReadonlyRestClient(vt.repoInfo_,(_t,$t,wt,Ct)=>{repoOnDataUpdate(vt,_t,$t,wt,Ct)},vt.authTokenProvider_,vt.appCheckProvider_),setTimeout(()=>repoOnConnectStatus(vt,!0),0);else{if(typeof xt<"u"&&xt!==null){if(typeof xt!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{stringify(xt)}catch(_t){throw new Error("Invalid authOverride provided: "+_t)}}vt.persistentConnection_=new PersistentConnection(vt.repoInfo_,ht,(_t,$t,wt,Ct)=>{repoOnDataUpdate(vt,_t,$t,wt,Ct)},_t=>{repoOnConnectStatus(vt,_t)},_t=>{repoOnServerInfoUpdate(vt,_t)},vt.authTokenProvider_,vt.appCheckProvider_,xt),vt.server_=vt.persistentConnection_}vt.authTokenProvider_.addTokenChangeListener(_t=>{vt.server_.refreshAuthToken(_t)}),vt.appCheckProvider_.addTokenChangeListener(_t=>{vt.server_.refreshAppCheckToken(_t.token)}),vt.statsReporter_=statsManagerGetOrCreateReporter(vt.repoInfo_,()=>new StatsReporter(vt.stats_,vt.server_)),vt.infoData_=new SnapshotHolder,vt.infoSyncTree_=new SyncTree({startListening:(_t,$t,wt,Ct)=>{let Pt=[];const bt=vt.infoData_.getNode(_t._path);return bt.isEmpty()||(Pt=syncTreeApplyServerOverwrite(vt.infoSyncTree_,_t._path,bt),setTimeout(()=>{Ct("ok")},0)),Pt},stopListening:()=>{}}),repoUpdateInfo(vt,"connected",!1),vt.serverSyncTree_=new SyncTree({startListening:(_t,$t,wt,Ct)=>(vt.server_.listen(_t,wt,$t,(Pt,bt)=>{const Rt=Ct(Pt,bt);eventQueueRaiseEventsForChangedPath(vt.eventQueue_,_t._path,Rt)}),[]),stopListening:(_t,$t)=>{vt.server_.unlisten(_t,$t)}})}function repoServerTime(vt){const xt=vt.infoData_.getNode(new Path(".info/serverTimeOffset")).val()||0;return new Date().getTime()+xt}function repoGenerateServerValues(vt){return generateWithValues({timestamp:repoServerTime(vt)})}function repoOnDataUpdate(vt,ht,xt,_t,$t){vt.dataUpdateCount++;const wt=new Path(ht);xt=vt.interceptServerDataCallback_?vt.interceptServerDataCallback_(ht,xt):xt;let Ct=[];if($t)if(_t){const bt=map(xt,Rt=>nodeFromJSON(Rt));Ct=syncTreeApplyTaggedQueryMerge(vt.serverSyncTree_,wt,bt,$t)}else{const bt=nodeFromJSON(xt);Ct=syncTreeApplyTaggedQueryOverwrite(vt.serverSyncTree_,wt,bt,$t)}else if(_t){const bt=map(xt,Rt=>nodeFromJSON(Rt));Ct=syncTreeApplyServerMerge(vt.serverSyncTree_,wt,bt)}else{const bt=nodeFromJSON(xt);Ct=syncTreeApplyServerOverwrite(vt.serverSyncTree_,wt,bt)}let Pt=wt;Ct.length>0&&(Pt=repoRerunTransactions(vt,wt)),eventQueueRaiseEventsForChangedPath(vt.eventQueue_,Pt,Ct)}function repoOnConnectStatus(vt,ht){repoUpdateInfo(vt,"connected",ht),ht===!1&&repoRunOnDisconnectEvents(vt)}function repoOnServerInfoUpdate(vt,ht){each(ht,(xt,_t)=>{repoUpdateInfo(vt,xt,_t)})}function repoUpdateInfo(vt,ht,xt){const _t=new Path("/.info/"+ht),$t=nodeFromJSON(xt);vt.infoData_.updateSnapshot(_t,$t);const wt=syncTreeApplyServerOverwrite(vt.infoSyncTree_,_t,$t);eventQueueRaiseEventsForChangedPath(vt.eventQueue_,_t,wt)}function repoGetNextWriteId(vt){return vt.nextWriteId_++}function repoGetValue(vt,ht,xt){const _t=syncTreeGetServerValue(vt.serverSyncTree_,ht);return _t!=null?Promise.resolve(_t):vt.server_.get(ht).then($t=>{const wt=nodeFromJSON($t).withIndex(ht._queryParams.getIndex());syncTreeAddEventRegistration(vt.serverSyncTree_,ht,xt,!0);let Ct;if(ht._queryParams.loadsAllData())Ct=syncTreeApplyServerOverwrite(vt.serverSyncTree_,ht._path,wt);else{const Pt=syncTreeTagForQuery(vt.serverSyncTree_,ht);Ct=syncTreeApplyTaggedQueryOverwrite(vt.serverSyncTree_,ht._path,wt,Pt)}return eventQueueRaiseEventsForChangedPath(vt.eventQueue_,ht._path,Ct),syncTreeRemoveEventRegistration(vt.serverSyncTree_,ht,xt,null,!0),wt},$t=>(repoLog(vt,"get for query "+stringify(ht)+" failed: "+$t),Promise.reject(new Error($t))))}function repoSetWithPriority(vt,ht,xt,_t,$t){repoLog(vt,"set",{path:ht.toString(),value:xt,priority:_t});const wt=repoGenerateServerValues(vt),Ct=nodeFromJSON(xt,_t),Pt=syncTreeCalcCompleteEventCache(vt.serverSyncTree_,ht),bt=resolveDeferredValueSnapshot(Ct,Pt,wt),Rt=repoGetNextWriteId(vt),Nt=syncTreeApplyUserOverwrite(vt.serverSyncTree_,ht,bt,Rt,!0);eventQueueQueueEvents(vt.eventQueue_,Nt),vt.server_.put(ht.toString(),Ct.val(!0),(Dt,Ot)=>{const Lt=Dt==="ok";Lt||warn("set at "+ht+" failed: "+Dt);const Ft=syncTreeAckUserWrite(vt.serverSyncTree_,Rt,!Lt);eventQueueRaiseEventsForChangedPath(vt.eventQueue_,ht,Ft),repoCallOnCompleteCallback(vt,$t,Dt,Ot)});const kt=repoAbortTransactions(vt,ht);repoRerunTransactions(vt,kt),eventQueueRaiseEventsForChangedPath(vt.eventQueue_,kt,[])}function repoUpdate(vt,ht,xt,_t){repoLog(vt,"update",{path:ht.toString(),value:xt});let $t=!0;const wt=repoGenerateServerValues(vt),Ct={};if(each(xt,(Pt,bt)=>{$t=!1,Ct[Pt]=resolveDeferredValueTree(pathChild(ht,Pt),nodeFromJSON(bt),vt.serverSyncTree_,wt)}),$t)log("update() called with empty data.  Don't do anything."),repoCallOnCompleteCallback(vt,_t,"ok",void 0);else{const Pt=repoGetNextWriteId(vt),bt=syncTreeApplyUserMerge(vt.serverSyncTree_,ht,Ct,Pt);eventQueueQueueEvents(vt.eventQueue_,bt),vt.server_.merge(ht.toString(),xt,(Rt,Nt)=>{const kt=Rt==="ok";kt||warn("update at "+ht+" failed: "+Rt);const Dt=syncTreeAckUserWrite(vt.serverSyncTree_,Pt,!kt),Ot=Dt.length>0?repoRerunTransactions(vt,ht):ht;eventQueueRaiseEventsForChangedPath(vt.eventQueue_,Ot,Dt),repoCallOnCompleteCallback(vt,_t,Rt,Nt)}),each(xt,Rt=>{const Nt=repoAbortTransactions(vt,pathChild(ht,Rt));repoRerunTransactions(vt,Nt)}),eventQueueRaiseEventsForChangedPath(vt.eventQueue_,ht,[])}}function repoRunOnDisconnectEvents(vt){repoLog(vt,"onDisconnectEvents");const ht=repoGenerateServerValues(vt),xt=newSparseSnapshotTree();sparseSnapshotTreeForEachTree(vt.onDisconnect_,newEmptyPath(),($t,wt)=>{const Ct=resolveDeferredValueTree($t,wt,vt.serverSyncTree_,ht);sparseSnapshotTreeRemember(xt,$t,Ct)});let _t=[];sparseSnapshotTreeForEachTree(xt,newEmptyPath(),($t,wt)=>{_t=_t.concat(syncTreeApplyServerOverwrite(vt.serverSyncTree_,$t,wt));const Ct=repoAbortTransactions(vt,$t);repoRerunTransactions(vt,Ct)}),vt.onDisconnect_=newSparseSnapshotTree(),eventQueueRaiseEventsForChangedPath(vt.eventQueue_,newEmptyPath(),_t)}function repoInterrupt(vt){vt.persistentConnection_&&vt.persistentConnection_.interrupt(INTERRUPT_REASON)}function repoLog(vt,...ht){let xt="";vt.persistentConnection_&&(xt=vt.persistentConnection_.id+":"),log(xt,...ht)}function repoCallOnCompleteCallback(vt,ht,xt,_t){ht&&exceptionGuard(()=>{if(xt==="ok")ht(null);else{const $t=(xt||"error").toUpperCase();let wt=$t;_t&&(wt+=": "+_t);const Ct=new Error(wt);Ct.code=$t,ht(Ct)}})}function repoGetLatestState(vt,ht,xt){return syncTreeCalcCompleteEventCache(vt.serverSyncTree_,ht,xt)||ChildrenNode.EMPTY_NODE}function repoSendReadyTransactions(vt,ht=vt.transactionQueueTree_){if(ht||repoPruneCompletedTransactionsBelowNode(vt,ht),treeGetValue(ht)){const xt=repoBuildTransactionQueue(vt,ht);assert(xt.length>0,"Sending zero length transaction queue"),xt.every($t=>$t.status===0)&&repoSendTransactionQueue(vt,treeGetPath(ht),xt)}else treeHasChildren(ht)&&treeForEachChild(ht,xt=>{repoSendReadyTransactions(vt,xt)})}function repoSendTransactionQueue(vt,ht,xt){const _t=xt.map(Rt=>Rt.currentWriteId),$t=repoGetLatestState(vt,ht,_t);let wt=$t;const Ct=$t.hash();for(let Rt=0;Rt<xt.length;Rt++){const Nt=xt[Rt];assert(Nt.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),Nt.status=1,Nt.retryCount++;const kt=newRelativePath(ht,Nt.path);wt=wt.updateChild(kt,Nt.currentOutputSnapshotRaw)}const Pt=wt.val(!0),bt=ht;vt.server_.put(bt.toString(),Pt,Rt=>{repoLog(vt,"transaction put response",{path:bt.toString(),status:Rt});let Nt=[];if(Rt==="ok"){const kt=[];for(let Dt=0;Dt<xt.length;Dt++)xt[Dt].status=2,Nt=Nt.concat(syncTreeAckUserWrite(vt.serverSyncTree_,xt[Dt].currentWriteId)),xt[Dt].onComplete&&kt.push(()=>xt[Dt].onComplete(null,!0,xt[Dt].currentOutputSnapshotResolved)),xt[Dt].unwatcher();repoPruneCompletedTransactionsBelowNode(vt,treeSubTree(vt.transactionQueueTree_,ht)),repoSendReadyTransactions(vt,vt.transactionQueueTree_),eventQueueRaiseEventsForChangedPath(vt.eventQueue_,ht,Nt);for(let Dt=0;Dt<kt.length;Dt++)exceptionGuard(kt[Dt])}else{if(Rt==="datastale")for(let kt=0;kt<xt.length;kt++)xt[kt].status===3?xt[kt].status=4:xt[kt].status=0;else{warn("transaction at "+bt.toString()+" failed: "+Rt);for(let kt=0;kt<xt.length;kt++)xt[kt].status=4,xt[kt].abortReason=Rt}repoRerunTransactions(vt,ht)}},Ct)}function repoRerunTransactions(vt,ht){const xt=repoGetAncestorTransactionNode(vt,ht),_t=treeGetPath(xt),$t=repoBuildTransactionQueue(vt,xt);return repoRerunTransactionQueue(vt,$t,_t),_t}function repoRerunTransactionQueue(vt,ht,xt){if(ht.length===0)return;const _t=[];let $t=[];const Ct=ht.filter(Pt=>Pt.status===0).map(Pt=>Pt.currentWriteId);for(let Pt=0;Pt<ht.length;Pt++){const bt=ht[Pt],Rt=newRelativePath(xt,bt.path);let Nt=!1,kt;if(assert(Rt!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),bt.status===4)Nt=!0,kt=bt.abortReason,$t=$t.concat(syncTreeAckUserWrite(vt.serverSyncTree_,bt.currentWriteId,!0));else if(bt.status===0)if(bt.retryCount>=MAX_TRANSACTION_RETRIES)Nt=!0,kt="maxretry",$t=$t.concat(syncTreeAckUserWrite(vt.serverSyncTree_,bt.currentWriteId,!0));else{const Dt=repoGetLatestState(vt,bt.path,Ct);bt.currentInputSnapshot=Dt;const Ot=ht[Pt].update(Dt.val());if(Ot!==void 0){validateFirebaseData("transaction failed: Data returned ",Ot,bt.path);let Lt=nodeFromJSON(Ot);typeof Ot=="object"&&Ot!=null&&contains(Ot,".priority")||(Lt=Lt.updatePriority(Dt.getPriority()));const Ut=bt.currentWriteId,jt=repoGenerateServerValues(vt),Vt=resolveDeferredValueSnapshot(Lt,Dt,jt);bt.currentOutputSnapshotRaw=Lt,bt.currentOutputSnapshotResolved=Vt,bt.currentWriteId=repoGetNextWriteId(vt),Ct.splice(Ct.indexOf(Ut),1),$t=$t.concat(syncTreeApplyUserOverwrite(vt.serverSyncTree_,bt.path,Vt,bt.currentWriteId,bt.applyLocally)),$t=$t.concat(syncTreeAckUserWrite(vt.serverSyncTree_,Ut,!0))}else Nt=!0,kt="nodata",$t=$t.concat(syncTreeAckUserWrite(vt.serverSyncTree_,bt.currentWriteId,!0))}eventQueueRaiseEventsForChangedPath(vt.eventQueue_,xt,$t),$t=[],Nt&&(ht[Pt].status=2,function(Dt){setTimeout(Dt,Math.floor(0))}(ht[Pt].unwatcher),ht[Pt].onComplete&&(kt==="nodata"?_t.push(()=>ht[Pt].onComplete(null,!1,ht[Pt].currentInputSnapshot)):_t.push(()=>ht[Pt].onComplete(new Error(kt),!1,null))))}repoPruneCompletedTransactionsBelowNode(vt,vt.transactionQueueTree_);for(let Pt=0;Pt<_t.length;Pt++)exceptionGuard(_t[Pt]);repoSendReadyTransactions(vt,vt.transactionQueueTree_)}function repoGetAncestorTransactionNode(vt,ht){let xt,_t=vt.transactionQueueTree_;for(xt=pathGetFront(ht);xt!==null&&treeGetValue(_t)===void 0;)_t=treeSubTree(_t,xt),ht=pathPopFront(ht),xt=pathGetFront(ht);return _t}function repoBuildTransactionQueue(vt,ht){const xt=[];return repoAggregateTransactionQueuesForNode(vt,ht,xt),xt.sort((_t,$t)=>_t.order-$t.order),xt}function repoAggregateTransactionQueuesForNode(vt,ht,xt){const _t=treeGetValue(ht);if(_t)for(let $t=0;$t<_t.length;$t++)xt.push(_t[$t]);treeForEachChild(ht,$t=>{repoAggregateTransactionQueuesForNode(vt,$t,xt)})}function repoPruneCompletedTransactionsBelowNode(vt,ht){const xt=treeGetValue(ht);if(xt){let _t=0;for(let $t=0;$t<xt.length;$t++)xt[$t].status!==2&&(xt[_t]=xt[$t],_t++);xt.length=_t,treeSetValue(ht,xt.length>0?xt:void 0)}treeForEachChild(ht,_t=>{repoPruneCompletedTransactionsBelowNode(vt,_t)})}function repoAbortTransactions(vt,ht){const xt=treeGetPath(repoGetAncestorTransactionNode(vt,ht)),_t=treeSubTree(vt.transactionQueueTree_,ht);return treeForEachAncestor(_t,$t=>{repoAbortTransactionsOnNode(vt,$t)}),repoAbortTransactionsOnNode(vt,_t),treeForEachDescendant(_t,$t=>{repoAbortTransactionsOnNode(vt,$t)}),xt}function repoAbortTransactionsOnNode(vt,ht){const xt=treeGetValue(ht);if(xt){const _t=[];let $t=[],wt=-1;for(let Ct=0;Ct<xt.length;Ct++)xt[Ct].status===3||(xt[Ct].status===1?(assert(wt===Ct-1,"All SENT items should be at beginning of queue."),wt=Ct,xt[Ct].status=3,xt[Ct].abortReason="set"):(assert(xt[Ct].status===0,"Unexpected transaction status in abort"),xt[Ct].unwatcher(),$t=$t.concat(syncTreeAckUserWrite(vt.serverSyncTree_,xt[Ct].currentWriteId,!0)),xt[Ct].onComplete&&_t.push(xt[Ct].onComplete.bind(null,new Error("set"),!1,null))));wt===-1?treeSetValue(ht,void 0):xt.length=wt+1,eventQueueRaiseEventsForChangedPath(vt.eventQueue_,treeGetPath(ht),$t);for(let Ct=0;Ct<_t.length;Ct++)exceptionGuard(_t[Ct])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function decodePath(vt){let ht="";const xt=vt.split("/");for(let _t=0;_t<xt.length;_t++)if(xt[_t].length>0){let $t=xt[_t];try{$t=decodeURIComponent($t.replace(/\+/g," "))}catch{}ht+="/"+$t}return ht}function decodeQuery(vt){const ht={};vt.charAt(0)==="?"&&(vt=vt.substring(1));for(const xt of vt.split("&")){if(xt.length===0)continue;const _t=xt.split("=");_t.length===2?ht[decodeURIComponent(_t[0])]=decodeURIComponent(_t[1]):warn(`Invalid query segment '${xt}' in query '${vt}'`)}return ht}const parseRepoInfo=function(vt,ht){const xt=parseDatabaseURL(vt),_t=xt.namespace;xt.domain==="firebase.com"&&fatal(xt.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!_t||_t==="undefined")&&xt.domain!=="localhost"&&fatal("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),xt.secure||warnIfPageIsSecure();const $t=xt.scheme==="ws"||xt.scheme==="wss";return{repoInfo:new RepoInfo(xt.host,xt.secure,_t,$t,ht,"",_t!==xt.subdomain),path:new Path(xt.pathString)}},parseDatabaseURL=function(vt){let ht="",xt="",_t="",$t="",wt="",Ct=!0,Pt="https",bt=443;if(typeof vt=="string"){let Rt=vt.indexOf("//");Rt>=0&&(Pt=vt.substring(0,Rt-1),vt=vt.substring(Rt+2));let Nt=vt.indexOf("/");Nt===-1&&(Nt=vt.length);let kt=vt.indexOf("?");kt===-1&&(kt=vt.length),ht=vt.substring(0,Math.min(Nt,kt)),Nt<kt&&($t=decodePath(vt.substring(Nt,kt)));const Dt=decodeQuery(vt.substring(Math.min(vt.length,kt)));Rt=ht.indexOf(":"),Rt>=0?(Ct=Pt==="https"||Pt==="wss",bt=parseInt(ht.substring(Rt+1),10)):Rt=ht.length;const Ot=ht.slice(0,Rt);if(Ot.toLowerCase()==="localhost")xt="localhost";else if(Ot.split(".").length<=2)xt=Ot;else{const Lt=ht.indexOf(".");_t=ht.substring(0,Lt).toLowerCase(),xt=ht.substring(Lt+1),wt=_t}"ns"in Dt&&(wt=Dt.ns)}return{host:ht,port:bt,domain:xt,subdomain:_t,secure:Ct,scheme:Pt,pathString:$t,namespace:wt}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DataEvent{constructor(ht,xt,_t,$t){this.eventType=ht,this.eventRegistration=xt,this.snapshot=_t,this.prevName=$t}getPath(){const ht=this.snapshot.ref;return this.eventType==="value"?ht._path:ht.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+stringify(this.snapshot.exportVal())}}class CancelEvent{constructor(ht,xt,_t){this.eventRegistration=ht,this.error=xt,this.path=_t}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CallbackContext{constructor(ht,xt){this.snapshotCallback=ht,this.cancelCallback=xt}onValue(ht,xt){this.snapshotCallback.call(null,ht,xt)}onCancel(ht){return assert(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,ht)}get hasCancelCallback(){return!!this.cancelCallback}matches(ht){return this.snapshotCallback===ht.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===ht.snapshotCallback.userCallback&&this.snapshotCallback.context===ht.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QueryImpl{constructor(ht,xt,_t,$t){this._repo=ht,this._path=xt,this._queryParams=_t,this._orderByCalled=$t}get key(){return pathIsEmpty(this._path)?null:pathGetBack(this._path)}get ref(){return new ReferenceImpl(this._repo,this._path)}get _queryIdentifier(){const ht=queryParamsGetQueryObject(this._queryParams),xt=ObjectToUniqueKey(ht);return xt==="{}"?"default":xt}get _queryObject(){return queryParamsGetQueryObject(this._queryParams)}isEqual(ht){if(ht=getModularInstance(ht),!(ht instanceof QueryImpl))return!1;const xt=this._repo===ht._repo,_t=pathEquals(this._path,ht._path),$t=this._queryIdentifier===ht._queryIdentifier;return xt&&_t&&$t}toJSON(){return this.toString()}toString(){return this._repo.toString()+pathToUrlEncodedString(this._path)}}function validateNoPreviousOrderByCall(vt,ht){if(vt._orderByCalled===!0)throw new Error(ht+": You can't combine multiple orderBy calls.")}function validateQueryEndpoints(vt){let ht=null,xt=null;if(vt.hasStart()&&(ht=vt.getIndexStartValue()),vt.hasEnd()&&(xt=vt.getIndexEndValue()),vt.getIndex()===KEY_INDEX){const _t="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",$t="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(vt.hasStart()){if(vt.getIndexStartName()!==MIN_NAME)throw new Error(_t);if(typeof ht!="string")throw new Error($t)}if(vt.hasEnd()){if(vt.getIndexEndName()!==MAX_NAME)throw new Error(_t);if(typeof xt!="string")throw new Error($t)}}else if(vt.getIndex()===PRIORITY_INDEX){if(ht!=null&&!isValidPriority(ht)||xt!=null&&!isValidPriority(xt))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(assert(vt.getIndex()instanceof PathIndex||vt.getIndex()===VALUE_INDEX,"unknown index type."),ht!=null&&typeof ht=="object"||xt!=null&&typeof xt=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}class ReferenceImpl extends QueryImpl{constructor(ht,xt){super(ht,xt,new QueryParams,!1)}get parent(){const ht=pathParent(this._path);return ht===null?null:new ReferenceImpl(this._repo,ht)}get root(){let ht=this;for(;ht.parent!==null;)ht=ht.parent;return ht}}class DataSnapshot{constructor(ht,xt,_t){this._node=ht,this.ref=xt,this._index=_t}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(ht){const xt=new Path(ht),_t=child(this.ref,ht);return new DataSnapshot(this._node.getChild(xt),_t,PRIORITY_INDEX)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(ht){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(_t,$t)=>ht(new DataSnapshot($t,child(this.ref,_t),PRIORITY_INDEX)))}hasChild(ht){const xt=new Path(ht);return!this._node.getChild(xt).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function ref(vt,ht){return vt=getModularInstance(vt),vt._checkNotDeleted("ref"),ht!==void 0?child(vt._root,ht):vt._root}function child(vt,ht){return vt=getModularInstance(vt),pathGetFront(vt._path)===null?validateRootPathString("child","path",ht):validatePathString("child","path",ht),new ReferenceImpl(vt._repo,pathChild(vt._path,ht))}function set(vt,ht){vt=getModularInstance(vt),validateWritablePath("set",vt._path),validateFirebaseDataArg("set",ht,vt._path);const xt=new Deferred;return repoSetWithPriority(vt._repo,vt._path,ht,null,xt.wrapCallback(()=>{})),xt.promise}function update(vt,ht){validateFirebaseMergeDataArg("update",ht,vt._path);const xt=new Deferred;return repoUpdate(vt._repo,vt._path,ht,xt.wrapCallback(()=>{})),xt.promise}function get(vt){vt=getModularInstance(vt);const ht=new CallbackContext(()=>{}),xt=new ValueEventRegistration(ht);return repoGetValue(vt._repo,vt,xt).then(_t=>new DataSnapshot(_t,new ReferenceImpl(vt._repo,vt._path),vt._queryParams.getIndex()))}class ValueEventRegistration{constructor(ht){this.callbackContext=ht}respondsTo(ht){return ht==="value"}createEvent(ht,xt){const _t=xt._queryParams.getIndex();return new DataEvent("value",this,new DataSnapshot(ht.snapshotNode,new ReferenceImpl(xt._repo,xt._path),_t))}getEventRunner(ht){return ht.getEventType()==="cancel"?()=>this.callbackContext.onCancel(ht.error):()=>this.callbackContext.onValue(ht.snapshot,null)}createCancelEvent(ht,xt){return this.callbackContext.hasCancelCallback?new CancelEvent(this,ht,xt):null}matches(ht){return ht instanceof ValueEventRegistration?!ht.callbackContext||!this.callbackContext?!0:ht.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class QueryConstraint{}class QueryLimitToLastConstraint extends QueryConstraint{constructor(ht){super(),this._limit=ht,this.type="limitToLast"}_apply(ht){if(ht._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new QueryImpl(ht._repo,ht._path,queryParamsLimitToLast(ht._queryParams,this._limit),ht._orderByCalled)}}function limitToLast(vt){if(Math.floor(vt)!==vt||vt<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new QueryLimitToLastConstraint(vt)}class QueryOrderByChildConstraint extends QueryConstraint{constructor(ht){super(),this._path=ht,this.type="orderByChild"}_apply(ht){validateNoPreviousOrderByCall(ht,"orderByChild");const xt=new Path(this._path);if(pathIsEmpty(xt))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const _t=new PathIndex(xt),$t=queryParamsOrderBy(ht._queryParams,_t);return validateQueryEndpoints($t),new QueryImpl(ht._repo,ht._path,$t,!0)}}function orderByChild(vt){if(vt==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(vt==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(vt==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return validatePathString("orderByChild","path",vt),new QueryOrderByChildConstraint(vt)}function query(vt,...ht){let xt=getModularInstance(vt);for(const _t of ht)xt=_t._apply(xt);return xt}syncPointSetReferenceConstructor(ReferenceImpl);syncTreeSetReferenceConstructor(ReferenceImpl);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FIREBASE_DATABASE_EMULATOR_HOST_VAR="FIREBASE_DATABASE_EMULATOR_HOST",repos={};let useRestClient=!1;function repoManagerApplyEmulatorSettings(vt,ht,xt,_t){vt.repoInfo_=new RepoInfo(`${ht}:${xt}`,!1,vt.repoInfo_.namespace,vt.repoInfo_.webSocketOnly,vt.repoInfo_.nodeAdmin,vt.repoInfo_.persistenceKey,vt.repoInfo_.includeNamespaceInQueryParams,!0),_t&&(vt.authTokenProvider_=_t)}function repoManagerDatabaseFromApp(vt,ht,xt,_t,$t){let wt=_t||vt.options.databaseURL;wt===void 0&&(vt.options.projectId||fatal("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),log("Using default host for project ",vt.options.projectId),wt=`${vt.options.projectId}-default-rtdb.firebaseio.com`);let Ct=parseRepoInfo(wt,$t),Pt=Ct.repoInfo,bt;typeof process<"u"&&define_process_env_default$1&&(bt=define_process_env_default$1[FIREBASE_DATABASE_EMULATOR_HOST_VAR]),bt?(wt=`http://${bt}?ns=${Pt.namespace}`,Ct=parseRepoInfo(wt,$t),Pt=Ct.repoInfo):Ct.repoInfo.secure;const Rt=new FirebaseAuthTokenProvider(vt.name,vt.options,ht);validateUrl("Invalid Firebase Database URL",Ct),pathIsEmpty(Ct.path)||fatal("Database URL must point to the root of a Firebase Database (not including a child path).");const Nt=repoManagerCreateRepo(Pt,vt,Rt,new AppCheckTokenProvider(vt.name,xt));return new Database(Nt,vt)}function repoManagerDeleteRepo(vt,ht){const xt=repos[ht];(!xt||xt[vt.key]!==vt)&&fatal(`Database ${ht}(${vt.repoInfo_}) has already been deleted.`),repoInterrupt(vt),delete xt[vt.key]}function repoManagerCreateRepo(vt,ht,xt,_t){let $t=repos[ht.name];$t||($t={},repos[ht.name]=$t);let wt=$t[vt.toURLString()];return wt&&fatal("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),wt=new Repo(vt,useRestClient,xt,_t),$t[vt.toURLString()]=wt,wt}class Database{constructor(ht,xt){this._repoInternal=ht,this.app=xt,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(repoStart(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ReferenceImpl(this._repo,newEmptyPath())),this._rootInternal}_delete(){return this._rootInternal!==null&&(repoManagerDeleteRepo(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(ht){this._rootInternal===null&&fatal("Cannot call "+ht+" on a deleted database.")}}function getDatabase(vt=getApp(),ht){const xt=_getProvider(vt,"database").getImmediate({identifier:ht});if(!xt._instanceStarted){const _t=getDefaultEmulatorHostnameAndPort("database");_t&&connectDatabaseEmulator(xt,..._t)}return xt}function connectDatabaseEmulator(vt,ht,xt,_t={}){vt=getModularInstance(vt),vt._checkNotDeleted("useEmulator"),vt._instanceStarted&&fatal("Cannot call useEmulator() after instance has already been initialized.");const $t=vt._repoInternal;let wt;if($t.repoInfo_.nodeAdmin)_t.mockUserToken&&fatal('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),wt=new EmulatorTokenProvider(EmulatorTokenProvider.OWNER);else if(_t.mockUserToken){const Ct=typeof _t.mockUserToken=="string"?_t.mockUserToken:createMockUserToken(_t.mockUserToken,vt.app.options.projectId);wt=new EmulatorTokenProvider(Ct)}repoManagerApplyEmulatorSettings($t,ht,xt,wt)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function registerDatabase(vt){setSDKVersion(SDK_VERSION$1),_registerComponent(new Component("database",(ht,{instanceIdentifier:xt})=>{const _t=ht.getProvider("app").getImmediate(),$t=ht.getProvider("auth-internal"),wt=ht.getProvider("app-check-internal");return repoManagerDatabaseFromApp(_t,$t,wt,xt)},"PUBLIC").setMultipleInstances(!0)),registerVersion(name,version,vt),registerVersion(name,version,"esm2017")}PersistentConnection.prototype.simpleListen=function(vt,ht){this.sendRequest("q",{p:vt},ht)};PersistentConnection.prototype.echo=function(vt,ht){this.sendRequest("echo",{d:vt},ht)};registerDatabase();const Signin=()=>{const[vt,ht]=reactExports.useState("password"),xt=useNavigate(),[_t,$t]=reactExports.useState(""),[wt,Ct]=reactExports.useState(""),[Pt,bt]=reactExports.useState(null),[Rt,Nt]=reactExports.useState(!1),kt=()=>{ht(vt==="password"?"text":"password")},Dt=async()=>{if(Nt(!0),bt(null),_t===""){bt("Please enter your email address"),Nt(!1);return}try{const Ft=getAuth(app);await sendPasswordResetEmail(Ft,_t),bt("Password reset email sent. Please check your inbox.")}catch(Ft){switch(Ft.code){case"auth/invalid-email":bt("Invalid email address.");break;case"auth/user-not-found":bt("No user found with this email address.");break;default:bt("Failed to send password reset email. Please try again later.");break}}finally{Nt(!1)}},Ot=async Ft=>{Ft.preventDefault(),Nt(!0);try{const Ut=getAuth(app),Vt=(await signInWithEmailAndPassword(Ut,_t,wt)).user,Bt=getDatabase(app),Wt=ref(Bt,`users/${Vt.uid}`),zt=await get(Wt);if(zt.exists()){const qt=zt.val();Lt(Vt.uid,qt.username)}xt("/home",{replace:!0})}catch(Ut){switch(Ut.code){case"auth/invalid-email":bt("Invalid email address.");break;case"auth/user-disabled":bt("Your account has been disabled.");break;case"auth/user-not-found":case"auth/wrong-password":case"auth/invalid-credential":bt("Invalid email or password.");break;default:bt("An error occurred during login. Please try again later.");break}}finally{Nt(!1)}},Lt=(Ft,Ut)=>{localStorage.setItem("userId",Ft),localStorage.setItem("userName",Ut)};return jsxRuntimeExports.jsxs("div",{className:"flex justify-center items-center h-screen w-screen text-black",children:[jsxRuntimeExports.jsx("img",{src:"bottom-right.png",alt:"",className:"select-none absolute bottom-0 right-0"}),jsxRuntimeExports.jsxs("div",{className:"relative bg-[#A8A8A87A] bg-opacity-45 rounded-3xl w-7/12 h-4/6 flex justify-center items-center",children:[jsxRuntimeExports.jsx("img",{src:"top-right.png",alt:"",className:"select-none absolute -top-20 -right-16 "}),jsxRuntimeExports.jsx("img",{src:"top-left.png",alt:"",className:"select-none absolute -top-28 -left-60"}),jsxRuntimeExports.jsx("div",{className:"absolute top-14 left-28 mt-4 ml-4",children:jsxRuntimeExports.jsx(Link,{to:"/",children:jsxRuntimeExports.jsx("img",{src:"back.png",alt:""})})}),jsxRuntimeExports.jsx("div",{className:"w-full text-center",children:jsxRuntimeExports.jsxs("form",{className:"flex flex-col items-center",onSubmit:Ot,children:[jsxRuntimeExports.jsx("div",{className:"flex rela w-3/6",children:jsxRuntimeExports.jsx("input",{type:"email",id:"email",onChange:Ft=>$t(Ft.target.value),placeholder:"Email",className:"border rounded-3xl p-2 mb-2 shadow-md border-solid border-[#777777] w-full opacity-50 h-12",required:!0})}),jsxRuntimeExports.jsxs("div",{className:"flex relative w-3/6 justify-center items-center",children:[jsxRuntimeExports.jsx("input",{type:vt,id:"password",onChange:Ft=>Ct(Ft.target.value),placeholder:"Password",className:"border rounded-3xl p-2 mb-2 shadow-md border-solid border-[#777777] w-full opacity-50 h-12",required:!0}),jsxRuntimeExports.jsx("div",{className:"absolute right-7 top-4 cursor-pointer",onClick:kt,children:vt==="password"?jsxRuntimeExports.jsx(FaEye,{}):jsxRuntimeExports.jsx(FaEyeSlash,{})})]}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("a",{onClick:Dt,className:"text-cyan-600 underline cursor-pointer",children:"Forgot Password?"})}),jsxRuntimeExports.jsx("button",{type:"submit",className:`bg-emerald-600 text-white px-4 py-2 rounded-md w-1/5 mb-8 ${Rt?"opacity-50 cursor-not-allowed":""}`,disabled:Rt,children:Rt?jsxRuntimeExports.jsxs("svg",{className:"animate-spin h-5 w-5 mr-3",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[jsxRuntimeExports.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),jsxRuntimeExports.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 4.418 3.582 8 8 8v-4zm2-2.582V20c4.418 0 8-3.582 8-8h-4a3.993 3.993 0 01-3.532 3.984l-.734.147z"})]}):"Log In"}),Pt&&jsxRuntimeExports.jsx("p",{className:"text-red-500",children:Pt}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs("p",{className:"text-sm text-center",children:["Don't have an account?"," ",jsxRuntimeExports.jsx(Link,{to:"/SignUp",className:" text-cyan-600 underline",children:"SignUp"})]})})]})})]})]})},SignUp$1=()=>{const[vt,ht]=reactExports.useState(""),[xt,_t]=reactExports.useState(""),[$t,wt]=reactExports.useState(""),[Ct,Pt]=reactExports.useState(""),bt=useNavigate(),[Rt,Nt]=reactExports.useState(null),[kt,Dt]=reactExports.useState(""),[Ot,Lt]=reactExports.useState(""),[Ft,Ut]=reactExports.useState(""),[jt,Vt]=reactExports.useState(!0),[Bt,Wt]=reactExports.useState("password"),zt=()=>{Wt(Bt==="password"?"text":"password")},qt=ln=>{wt(ln.target.value),Ct&&ln.target.value!==Ct?Dt("*Passwords do not match"):Dt(""),ln.target.value.length<6?Lt("Password should be at least 6 characters long"):Lt("")},Xt=ln=>{Pt(ln.target.value),$t&&ln.target.value!==$t?Dt("*Passwords do not match"):Dt("")},Yt=async ln=>{if(ln.preventDefault(),$t!==Ct){Dt("Passwords do not match");return}try{const dn=getAuth(app),mn=(await createUserWithEmailAndPassword(dn,xt,$t)).user;await en(mn);const pn=mn.uid,an=ref(getDatabase(app));await set(child(an,`users/${pn}`),{username:vt,email:xt,easy:0,medium:0,hard:0}),Qt(pn,vt),bt("/home",{replace:!0})}catch(dn){switch(console.log(dn),dn.code){case"auth/email-already-in-use":Nt("Email address is already in use.");break;case"auth/weak-password":Nt("Password is too weak. Choose a stronger password.");break;default:Nt("An error occurred during registration. Please try again later.");break}}},en=async ln=>{try{await sendEmailVerification(ln),console.log("Verification email sent")}catch(dn){console.error("Error sending verification email:",dn)}},Qt=(ln,dn)=>{localStorage.setItem("userId",ln),localStorage.setItem("userName",dn)},nn=async ln=>{const dn=ref(getDatabase(app)),fn=child(dn,"users"),mn=await get(fn);if(mn.exists()){const pn=mn.val();Object.values(pn).map(Kt=>Kt.username.toLowerCase()).includes(ln.toLowerCase())?Ut("Username already exists"):Ut("")}else Ut("")};return reactExports.useEffect(()=>{nn(vt)},[vt]),reactExports.useEffect(()=>{Vt(!(Ft!==""||Ot!==""||kt!==""))},[Ot,kt,Ft]),jsxRuntimeExports.jsxs("div",{className:"flex justify-center items-center h-screen w-screen text-black",children:[jsxRuntimeExports.jsx("img",{src:"bottom-right.png",alt:"",className:"select-none absolute bottom-0 right-0"}),jsxRuntimeExports.jsxs("div",{className:"relative bg-[#A8A8A87A] bg-opacity-45 rounded-3xl w-7/12 h-4/6 flex justify-center items-center",children:[jsxRuntimeExports.jsx("img",{src:"top-right.png",alt:"",className:"select-none absolute -top-20 -right-16 "}),jsxRuntimeExports.jsx("img",{src:"top-left.png",alt:"",className:"select-none absolute -top-28 -left-60"}),jsxRuntimeExports.jsx("div",{className:"absolute top-14 left-28 mt-4 ml-4",children:jsxRuntimeExports.jsx(Link,{to:"/",children:jsxRuntimeExports.jsx("img",{src:"back.png",alt:""})})}),jsxRuntimeExports.jsx("div",{className:"w-full text-center",children:jsxRuntimeExports.jsxs("form",{className:"flex flex-col items-center",onSubmit:Yt,children:[jsxRuntimeExports.jsxs("div",{className:"flex  w-3/6",children:[jsxRuntimeExports.jsx("input",{type:"text",id:"username",placeholder:"Username",value:vt,onChange:ln=>ht(ln.target.value),className:"border rounded-3xl p-2 mb-2 shadow-md border-solid border-[#777777] w-full opacity-50 h-12",required:!0}),Ft&&jsxRuntimeExports.jsx("p",{className:"text-red-500",children:Ft})]}),jsxRuntimeExports.jsx("div",{className:"flex  w-3/6",children:jsxRuntimeExports.jsx("input",{type:"email",id:"email",placeholder:"Email",value:xt,onChange:ln=>_t(ln.target.value),className:"border rounded-3xl p-2 mb-2 shadow-md border-solid border-[#777777] w-full opacity-50 h-12",required:!0})}),jsxRuntimeExports.jsxs("div",{className:"relative w-3/6",children:[jsxRuntimeExports.jsx("input",{type:Bt,id:"password",placeholder:"Password",value:$t,onChange:qt,className:"border rounded-3xl p-2 mb-2 shadow-md border-solid border-[#777777] w-full opacity-50 h-12",required:!0}),jsxRuntimeExports.jsx("div",{className:"absolute right-5 top-4 cursor-pointer",onClick:zt,children:Bt==="password"?jsxRuntimeExports.jsx(FaEye,{}):jsxRuntimeExports.jsx(FaEyeSlash,{})}),Ot&&jsxRuntimeExports.jsx("p",{className:"text-red-500",children:Ot})]}),jsxRuntimeExports.jsxs("div",{className:"relative w-3/6",children:[jsxRuntimeExports.jsx("input",{type:Bt,id:"confirmpassword",placeholder:"Confirm Password",value:Ct,onChange:Xt,className:"border rounded-3xl p-2 mb-2 shadow-md border-solid border-[#777777] w-full opacity-50 h-12",required:!0}),jsxRuntimeExports.jsx("div",{className:"absolute right-5 top-4 cursor-pointer",onClick:zt,children:Bt==="password"?jsxRuntimeExports.jsx(FaEye,{}):jsxRuntimeExports.jsx(FaEyeSlash,{})}),kt&&jsxRuntimeExports.jsx("p",{className:"text-red-500",children:kt})]}),jsxRuntimeExports.jsx("button",{type:"submit",className:`rounded-full w-24 h-10 m-4 bg-emerald-600 text-white text-xl  hover:bg-white hover:text-emerald-600 py-2 transition-colors duration-300 ${jt?"":"opacity-50"}`,disabled:!jt,children:"Sign Up"}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs("p",{className:"text-sm text-center",children:["Already have an account?"," ",jsxRuntimeExports.jsx(Link,{to:"/Login",className:" text-cyan-600 underline",children:"Sign In"})]})}),Rt&&jsxRuntimeExports.jsx("p",{className:"text-red-500",children:Rt})]})})]})]})},Landing=()=>{const vt=useNavigate(),ht=localStorage.getItem("userId");return reactExports.useEffect(()=>{ht&&vt("/home")},[ht,vt]),jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center h-screen w-screen text-black",children:jsxRuntimeExports.jsxs("div",{className:"relative bg-[#A8A8A87A] bg-opacity-45 rounded-3xl w-7/12 h-4/6 flex flex-col justify-center items-center",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mt-8",children:[jsxRuntimeExports.jsx("h1",{className:"text-7xl font-extrabold text-black mb-2",children:"BANANA"}),jsxRuntimeExports.jsx("h1",{className:"text-7xl font-extrabold text-black mb-2",children:"QUIZ GAME"}),jsxRuntimeExports.jsx("p",{className:"text-3xl text-gray-700",children:"READY TO PLAY!"})]}),jsxRuntimeExports.jsx("img",{src:"top-left.png",alt:"",className:"select-none absolute -bottom-60 -right-96"}),jsxRuntimeExports.jsx("img",{src:"pic2.png",alt:"",className:"select-none absolute -bottom-40 -left-96"}),jsxRuntimeExports.jsx("img",{src:"minionGif.gif",alt:"",className:"select-none absolute  justify-center -top-52 inset-0 left-64 align-top"}),jsxRuntimeExports.jsx("div",{className:"w-full text-center mt-8",children:jsxRuntimeExports.jsx("form",{className:"flex flex-col items-center space-y-4",children:jsxRuntimeExports.jsxs("div",{className:"flex space-x-4 justify-center",children:[jsxRuntimeExports.jsx(Link,{to:"/Login",children:jsxRuntimeExports.jsx("button",{type:"button",onClick:Signin,className:"rounded-full w-24 h-10 bg-emerald-600 text-white text-xl hover:bg-white hover:text-emerald-600 py-2 transition-colors duration-300",children:"Sign In"})}),jsxRuntimeExports.jsx(Link,{to:"/signup",children:jsxRuntimeExports.jsx("button",{type:"button",onClick:SignUp$1,className:"rounded-full w-24 h-10 bg-emerald-600 text-white text-xl hover:bg-white hover:text-emerald-600 py-2 transition-colors duration-300",children:"Sign Up"})}),jsxRuntimeExports.jsx(Link,{to:"/Home",children:jsxRuntimeExports.jsx("button",{type:"button",className:"rounded-full w-24 h-10 bg-emerald-600 text-white text-xl hover:bg-white hover:text-emerald-600 py-2 transition-colors duration-300",children:"Guest"})})]})})})]})})};function createDOMMotionComponentProxy$1(vt){if(typeof Proxy>"u")return vt;const ht=new Map,xt=(..._t)=>vt(..._t);return new Proxy(xt,{get:(_t,$t)=>$t==="create"?vt:(ht.has($t)||ht.set($t,vt($t)),ht.get($t))})}function isAnimationControls$1(vt){return vt!==null&&typeof vt=="object"&&typeof vt.start=="function"}const isKeyframesTarget$1=vt=>Array.isArray(vt);function shallowCompare$1(vt,ht){if(!Array.isArray(ht))return!1;const xt=ht.length;if(xt!==vt.length)return!1;for(let _t=0;_t<xt;_t++)if(ht[_t]!==vt[_t])return!1;return!0}function isVariantLabel$1(vt){return typeof vt=="string"||Array.isArray(vt)}function getValueState$1(vt){const ht=[{},{}];return vt==null||vt.values.forEach((xt,_t)=>{ht[0][_t]=xt.get(),ht[1][_t]=xt.getVelocity()}),ht}function resolveVariantFromProps$1(vt,ht,xt,_t){if(typeof ht=="function"){const[$t,wt]=getValueState$1(_t);ht=ht(xt!==void 0?xt:vt.custom,$t,wt)}if(typeof ht=="string"&&(ht=vt.variants&&vt.variants[ht]),typeof ht=="function"){const[$t,wt]=getValueState$1(_t);ht=ht(xt!==void 0?xt:vt.custom,$t,wt)}return ht}function resolveVariant$1(vt,ht,xt){const _t=vt.getProps();return resolveVariantFromProps$1(_t,ht,xt!==void 0?xt:_t.custom,vt)}const variantPriorityOrder$1=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],variantProps$1=["initial",...variantPriorityOrder$1],transformPropOrder$1=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],transformProps$1=new Set(transformPropOrder$1),secondsToMilliseconds$1=vt=>vt*1e3,millisecondsToSeconds$1=vt=>vt/1e3,underDampedSpring$1={type:"spring",stiffness:500,damping:25,restSpeed:10},criticallyDampedSpring$1=vt=>({type:"spring",stiffness:550,damping:vt===0?2*Math.sqrt(550):30,restSpeed:10}),keyframesTransition$1={type:"keyframes",duration:.8},ease$1={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},getDefaultTransition$1=(vt,{keyframes:ht})=>ht.length>2?keyframesTransition$1:transformProps$1.has(vt)?vt.startsWith("scale")?criticallyDampedSpring$1(ht[1]):underDampedSpring$1:ease$1;function getValueTransition$1(vt,ht){return vt?vt[ht]||vt.default||vt:void 0}const MotionGlobalConfig$1={skipAnimations:!1,useManualTiming:!1},isNotNull$1=vt=>vt!==null;function getFinalKeyframe$1(vt,{repeat:ht,repeatType:xt="loop"},_t){const $t=vt.filter(isNotNull$1),wt=ht&&xt!=="loop"&&ht%2===1?0:$t.length-1;return!wt||_t===void 0?$t[wt]:_t}const noop$1=vt=>vt;function createRenderStep$1(vt){let ht=new Set,xt=new Set,_t=!1,$t=!1;const wt=new WeakSet;let Ct={delta:0,timestamp:0,isProcessing:!1};function Pt(Rt){wt.has(Rt)&&(bt.schedule(Rt),vt()),Rt(Ct)}const bt={schedule:(Rt,Nt=!1,kt=!1)=>{const Ot=kt&&_t?ht:xt;return Nt&&wt.add(Rt),Ot.has(Rt)||Ot.add(Rt),Rt},cancel:Rt=>{xt.delete(Rt),wt.delete(Rt)},process:Rt=>{if(Ct=Rt,_t){$t=!0;return}_t=!0,[ht,xt]=[xt,ht],xt.clear(),ht.forEach(Pt),_t=!1,$t&&($t=!1,bt.process(Rt))}};return bt}const stepsOrder$1=["read","resolveKeyframes","update","preRender","render","postRender"],maxElapsed$1=40;function createRenderBatcher$1(vt,ht){let xt=!1,_t=!0;const $t={delta:0,timestamp:0,isProcessing:!1},wt=()=>xt=!0,Ct=stepsOrder$1.reduce((jt,Vt)=>(jt[Vt]=createRenderStep$1(wt),jt),{}),{read:Pt,resolveKeyframes:bt,update:Rt,preRender:Nt,render:kt,postRender:Dt}=Ct,Ot=()=>{const jt=performance.now();xt=!1,$t.delta=_t?1e3/60:Math.max(Math.min(jt-$t.timestamp,maxElapsed$1),1),$t.timestamp=jt,$t.isProcessing=!0,Pt.process($t),bt.process($t),Rt.process($t),Nt.process($t),kt.process($t),Dt.process($t),$t.isProcessing=!1,xt&&ht&&(_t=!1,vt(Ot))},Lt=()=>{xt=!0,_t=!0,$t.isProcessing||vt(Ot)};return{schedule:stepsOrder$1.reduce((jt,Vt)=>{const Bt=Ct[Vt];return jt[Vt]=(Wt,zt=!1,qt=!1)=>(xt||Lt(),Bt.schedule(Wt,zt,qt)),jt},{}),cancel:jt=>{for(let Vt=0;Vt<stepsOrder$1.length;Vt++)Ct[stepsOrder$1[Vt]].cancel(jt)},state:$t,steps:Ct}}const{schedule:frame$1,cancel:cancelFrame$1,state:frameData$1,steps:frameSteps$1}=createRenderBatcher$1(typeof requestAnimationFrame<"u"?requestAnimationFrame:noop$1,!0),calcBezier$1=(vt,ht,xt)=>(((1-3*xt+3*ht)*vt+(3*xt-6*ht))*vt+3*ht)*vt,subdivisionPrecision$1=1e-7,subdivisionMaxIterations$1=12;function binarySubdivide$1(vt,ht,xt,_t,$t){let wt,Ct,Pt=0;do Ct=ht+(xt-ht)/2,wt=calcBezier$1(Ct,_t,$t)-vt,wt>0?xt=Ct:ht=Ct;while(Math.abs(wt)>subdivisionPrecision$1&&++Pt<subdivisionMaxIterations$1);return Ct}function cubicBezier$1(vt,ht,xt,_t){if(vt===ht&&xt===_t)return noop$1;const $t=wt=>binarySubdivide$1(wt,0,1,vt,xt);return wt=>wt===0||wt===1?wt:calcBezier$1($t(wt),ht,_t)}const mirrorEasing$1=vt=>ht=>ht<=.5?vt(2*ht)/2:(2-vt(2*(1-ht)))/2,reverseEasing$1=vt=>ht=>1-vt(1-ht),backOut$1=cubicBezier$1(.33,1.53,.69,.99),backIn$1=reverseEasing$1(backOut$1),backInOut$1=mirrorEasing$1(backIn$1),anticipate$1=vt=>(vt*=2)<1?.5*backIn$1(vt):.5*(2-Math.pow(2,-10*(vt-1))),circIn$1=vt=>1-Math.sin(Math.acos(vt)),circOut$1=reverseEasing$1(circIn$1),circInOut$1=mirrorEasing$1(circIn$1),isZeroValueString$1=vt=>/^0[^.\s]+$/u.test(vt);function isNone$1(vt){return typeof vt=="number"?vt===0:vt!==null?vt==="none"||vt==="0"||isZeroValueString$1(vt):!0}let invariant$1=noop$1;const isNumericalString$1=vt=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(vt),checkStringStartsWith$1=vt=>ht=>typeof ht=="string"&&ht.startsWith(vt),isCSSVariableName$1=checkStringStartsWith$1("--"),startsAsVariableToken$1=checkStringStartsWith$1("var(--"),isCSSVariableToken$1=vt=>startsAsVariableToken$1(vt)?singleCssVariableRegex$1.test(vt.split("/*")[0].trim()):!1,singleCssVariableRegex$1=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,splitCSSVariableRegex$1=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function parseCSSVariable$1(vt){const ht=splitCSSVariableRegex$1.exec(vt);if(!ht)return[,];const[,xt,_t,$t]=ht;return[`--${xt??_t}`,$t]}function getVariableValue$1(vt,ht,xt=1){const[_t,$t]=parseCSSVariable$1(vt);if(!_t)return;const wt=window.getComputedStyle(ht).getPropertyValue(_t);if(wt){const Ct=wt.trim();return isNumericalString$1(Ct)?parseFloat(Ct):Ct}return isCSSVariableToken$1($t)?getVariableValue$1($t,ht,xt+1):$t}const clamp$2=(vt,ht,xt)=>xt>ht?ht:xt<vt?vt:xt,number$1={test:vt=>typeof vt=="number",parse:parseFloat,transform:vt=>vt},alpha$1={...number$1,transform:vt=>clamp$2(0,1,vt)},scale$1={...number$1,default:1},createUnitType$1=vt=>({test:ht=>typeof ht=="string"&&ht.endsWith(vt)&&ht.split(" ").length===1,parse:parseFloat,transform:ht=>`${ht}${vt}`}),degrees$1=createUnitType$1("deg"),percent$1=createUnitType$1("%"),px$1=createUnitType$1("px"),vh$1=createUnitType$1("vh"),vw$1=createUnitType$1("vw"),progressPercentage$1={...percent$1,parse:vt=>percent$1.parse(vt)/100,transform:vt=>percent$1.transform(vt*100)},positionalKeys$1=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),isNumOrPxType$1=vt=>vt===number$1||vt===px$1,getPosFromMatrix$1=(vt,ht)=>parseFloat(vt.split(", ")[ht]),getTranslateFromMatrix$1=(vt,ht)=>(xt,{transform:_t})=>{if(_t==="none"||!_t)return 0;const $t=_t.match(/^matrix3d\((.+)\)$/u);if($t)return getPosFromMatrix$1($t[1],ht);{const wt=_t.match(/^matrix\((.+)\)$/u);return wt?getPosFromMatrix$1(wt[1],vt):0}},transformKeys$1=new Set(["x","y","z"]),nonTranslationalTransformKeys$1=transformPropOrder$1.filter(vt=>!transformKeys$1.has(vt));function removeNonTranslationalTransform$1(vt){const ht=[];return nonTranslationalTransformKeys$1.forEach(xt=>{const _t=vt.getValue(xt);_t!==void 0&&(ht.push([xt,_t.get()]),_t.set(xt.startsWith("scale")?1:0))}),ht}const positionalValues$1={width:({x:vt},{paddingLeft:ht="0",paddingRight:xt="0"})=>vt.max-vt.min-parseFloat(ht)-parseFloat(xt),height:({y:vt},{paddingTop:ht="0",paddingBottom:xt="0"})=>vt.max-vt.min-parseFloat(ht)-parseFloat(xt),top:(vt,{top:ht})=>parseFloat(ht),left:(vt,{left:ht})=>parseFloat(ht),bottom:({y:vt},{top:ht})=>parseFloat(ht)+(vt.max-vt.min),right:({x:vt},{left:ht})=>parseFloat(ht)+(vt.max-vt.min),x:getTranslateFromMatrix$1(4,13),y:getTranslateFromMatrix$1(5,14)};positionalValues$1.translateX=positionalValues$1.x;positionalValues$1.translateY=positionalValues$1.y;const testValueType$1=vt=>ht=>ht.test(vt),auto$1={test:vt=>vt==="auto",parse:vt=>vt},dimensionValueTypes$1=[number$1,px$1,percent$1,degrees$1,vw$1,vh$1,auto$1],findDimensionValueType$1=vt=>dimensionValueTypes$1.find(testValueType$1(vt)),toResolve$1=new Set;let isScheduled$1=!1,anyNeedsMeasurement$1=!1;function measureAllKeyframes$1(){if(anyNeedsMeasurement$1){const vt=Array.from(toResolve$1).filter(_t=>_t.needsMeasurement),ht=new Set(vt.map(_t=>_t.element)),xt=new Map;ht.forEach(_t=>{const $t=removeNonTranslationalTransform$1(_t);$t.length&&(xt.set(_t,$t),_t.render())}),vt.forEach(_t=>_t.measureInitialState()),ht.forEach(_t=>{_t.render();const $t=xt.get(_t);$t&&$t.forEach(([wt,Ct])=>{var Pt;(Pt=_t.getValue(wt))===null||Pt===void 0||Pt.set(Ct)})}),vt.forEach(_t=>_t.measureEndState()),vt.forEach(_t=>{_t.suspendedScrollY!==void 0&&window.scrollTo(0,_t.suspendedScrollY)})}anyNeedsMeasurement$1=!1,isScheduled$1=!1,toResolve$1.forEach(vt=>vt.complete()),toResolve$1.clear()}function readAllKeyframes$1(){toResolve$1.forEach(vt=>{vt.readKeyframes(),vt.needsMeasurement&&(anyNeedsMeasurement$1=!0)})}function flushKeyframeResolvers$1(){readAllKeyframes$1(),measureAllKeyframes$1()}let KeyframeResolver$1=class{constructor(ht,xt,_t,$t,wt,Ct=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...ht],this.onComplete=xt,this.name=_t,this.motionValue=$t,this.element=wt,this.isAsync=Ct}scheduleResolve(){this.isScheduled=!0,this.isAsync?(toResolve$1.add(this),isScheduled$1||(isScheduled$1=!0,frame$1.read(readAllKeyframes$1),frame$1.resolveKeyframes(measureAllKeyframes$1))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:ht,name:xt,element:_t,motionValue:$t}=this;for(let wt=0;wt<ht.length;wt++)if(ht[wt]===null)if(wt===0){const Ct=$t==null?void 0:$t.get(),Pt=ht[ht.length-1];if(Ct!==void 0)ht[0]=Ct;else if(_t&&xt){const bt=_t.readValue(xt,Pt);bt!=null&&(ht[0]=bt)}ht[0]===void 0&&(ht[0]=Pt),$t&&Ct===void 0&&$t.set(ht[0])}else ht[wt]=ht[wt-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),toResolve$1.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,toResolve$1.delete(this))}resume(){this.isComplete||this.scheduleResolve()}};const sanitize$1=vt=>Math.round(vt*1e5)/1e5,floatRegex$1=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function isNullish$1(vt){return vt==null}const singleColorRegex$1=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,isColorString$1=(vt,ht)=>xt=>!!(typeof xt=="string"&&singleColorRegex$1.test(xt)&&xt.startsWith(vt)||ht&&!isNullish$1(xt)&&Object.prototype.hasOwnProperty.call(xt,ht)),splitColor$1=(vt,ht,xt)=>_t=>{if(typeof _t!="string")return _t;const[$t,wt,Ct,Pt]=_t.match(floatRegex$1);return{[vt]:parseFloat($t),[ht]:parseFloat(wt),[xt]:parseFloat(Ct),alpha:Pt!==void 0?parseFloat(Pt):1}},clampRgbUnit$1=vt=>clamp$2(0,255,vt),rgbUnit$1={...number$1,transform:vt=>Math.round(clampRgbUnit$1(vt))},rgba$1={test:isColorString$1("rgb","red"),parse:splitColor$1("red","green","blue"),transform:({red:vt,green:ht,blue:xt,alpha:_t=1})=>"rgba("+rgbUnit$1.transform(vt)+", "+rgbUnit$1.transform(ht)+", "+rgbUnit$1.transform(xt)+", "+sanitize$1(alpha$1.transform(_t))+")"};function parseHex$1(vt){let ht="",xt="",_t="",$t="";return vt.length>5?(ht=vt.substring(1,3),xt=vt.substring(3,5),_t=vt.substring(5,7),$t=vt.substring(7,9)):(ht=vt.substring(1,2),xt=vt.substring(2,3),_t=vt.substring(3,4),$t=vt.substring(4,5),ht+=ht,xt+=xt,_t+=_t,$t+=$t),{red:parseInt(ht,16),green:parseInt(xt,16),blue:parseInt(_t,16),alpha:$t?parseInt($t,16)/255:1}}const hex$1={test:isColorString$1("#"),parse:parseHex$1,transform:rgba$1.transform},hsla$1={test:isColorString$1("hsl","hue"),parse:splitColor$1("hue","saturation","lightness"),transform:({hue:vt,saturation:ht,lightness:xt,alpha:_t=1})=>"hsla("+Math.round(vt)+", "+percent$1.transform(sanitize$1(ht))+", "+percent$1.transform(sanitize$1(xt))+", "+sanitize$1(alpha$1.transform(_t))+")"},color$1={test:vt=>rgba$1.test(vt)||hex$1.test(vt)||hsla$1.test(vt),parse:vt=>rgba$1.test(vt)?rgba$1.parse(vt):hsla$1.test(vt)?hsla$1.parse(vt):hex$1.parse(vt),transform:vt=>typeof vt=="string"?vt:vt.hasOwnProperty("red")?rgba$1.transform(vt):hsla$1.transform(vt)},colorRegex$1=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function test$1(vt){var ht,xt;return isNaN(vt)&&typeof vt=="string"&&(((ht=vt.match(floatRegex$1))===null||ht===void 0?void 0:ht.length)||0)+(((xt=vt.match(colorRegex$1))===null||xt===void 0?void 0:xt.length)||0)>0}const NUMBER_TOKEN$1="number",COLOR_TOKEN$1="color",VAR_TOKEN$1="var",VAR_FUNCTION_TOKEN$1="var(",SPLIT_TOKEN$1="${}",complexRegex$1=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function analyseComplexValue$1(vt){const ht=vt.toString(),xt=[],_t={color:[],number:[],var:[]},$t=[];let wt=0;const Pt=ht.replace(complexRegex$1,bt=>(color$1.test(bt)?(_t.color.push(wt),$t.push(COLOR_TOKEN$1),xt.push(color$1.parse(bt))):bt.startsWith(VAR_FUNCTION_TOKEN$1)?(_t.var.push(wt),$t.push(VAR_TOKEN$1),xt.push(bt)):(_t.number.push(wt),$t.push(NUMBER_TOKEN$1),xt.push(parseFloat(bt))),++wt,SPLIT_TOKEN$1)).split(SPLIT_TOKEN$1);return{values:xt,split:Pt,indexes:_t,types:$t}}function parseComplexValue$1(vt){return analyseComplexValue$1(vt).values}function createTransformer$1(vt){const{split:ht,types:xt}=analyseComplexValue$1(vt),_t=ht.length;return $t=>{let wt="";for(let Ct=0;Ct<_t;Ct++)if(wt+=ht[Ct],$t[Ct]!==void 0){const Pt=xt[Ct];Pt===NUMBER_TOKEN$1?wt+=sanitize$1($t[Ct]):Pt===COLOR_TOKEN$1?wt+=color$1.transform($t[Ct]):wt+=$t[Ct]}return wt}}const convertNumbersToZero$1=vt=>typeof vt=="number"?0:vt;function getAnimatableNone$3(vt){const ht=parseComplexValue$1(vt);return createTransformer$1(vt)(ht.map(convertNumbersToZero$1))}const complex$1={test:test$1,parse:parseComplexValue$1,createTransformer:createTransformer$1,getAnimatableNone:getAnimatableNone$3},maxDefaults$1=new Set(["brightness","contrast","saturate","opacity"]);function applyDefaultFilter$1(vt){const[ht,xt]=vt.slice(0,-1).split("(");if(ht==="drop-shadow")return vt;const[_t]=xt.match(floatRegex$1)||[];if(!_t)return vt;const $t=xt.replace(_t,"");let wt=maxDefaults$1.has(ht)?1:0;return _t!==xt&&(wt*=100),ht+"("+wt+$t+")"}const functionRegex$1=/\b([a-z-]*)\(.*?\)/gu,filter$1={...complex$1,getAnimatableNone:vt=>{const ht=vt.match(functionRegex$1);return ht?ht.map(applyDefaultFilter$1).join(" "):vt}},browserNumberValueTypes$1={borderWidth:px$1,borderTopWidth:px$1,borderRightWidth:px$1,borderBottomWidth:px$1,borderLeftWidth:px$1,borderRadius:px$1,radius:px$1,borderTopLeftRadius:px$1,borderTopRightRadius:px$1,borderBottomRightRadius:px$1,borderBottomLeftRadius:px$1,width:px$1,maxWidth:px$1,height:px$1,maxHeight:px$1,top:px$1,right:px$1,bottom:px$1,left:px$1,padding:px$1,paddingTop:px$1,paddingRight:px$1,paddingBottom:px$1,paddingLeft:px$1,margin:px$1,marginTop:px$1,marginRight:px$1,marginBottom:px$1,marginLeft:px$1,backgroundPositionX:px$1,backgroundPositionY:px$1},transformValueTypes$1={rotate:degrees$1,rotateX:degrees$1,rotateY:degrees$1,rotateZ:degrees$1,scale:scale$1,scaleX:scale$1,scaleY:scale$1,scaleZ:scale$1,skew:degrees$1,skewX:degrees$1,skewY:degrees$1,distance:px$1,translateX:px$1,translateY:px$1,translateZ:px$1,x:px$1,y:px$1,z:px$1,perspective:px$1,transformPerspective:px$1,opacity:alpha$1,originX:progressPercentage$1,originY:progressPercentage$1,originZ:px$1},int$1={...number$1,transform:Math.round},numberValueTypes$1={...browserNumberValueTypes$1,...transformValueTypes$1,zIndex:int$1,size:px$1,fillOpacity:alpha$1,strokeOpacity:alpha$1,numOctaves:int$1},defaultValueTypes$1={...numberValueTypes$1,color:color$1,backgroundColor:color$1,outlineColor:color$1,fill:color$1,stroke:color$1,borderColor:color$1,borderTopColor:color$1,borderRightColor:color$1,borderBottomColor:color$1,borderLeftColor:color$1,filter:filter$1,WebkitFilter:filter$1},getDefaultValueType$1=vt=>defaultValueTypes$1[vt];function getAnimatableNone$2(vt,ht){let xt=getDefaultValueType$1(vt);return xt!==filter$1&&(xt=complex$1),xt.getAnimatableNone?xt.getAnimatableNone(ht):void 0}const invalidTemplates$1=new Set(["auto","none","0"]);function makeNoneKeyframesAnimatable$1(vt,ht,xt){let _t=0,$t;for(;_t<vt.length&&!$t;){const wt=vt[_t];typeof wt=="string"&&!invalidTemplates$1.has(wt)&&analyseComplexValue$1(wt).values.length&&($t=vt[_t]),_t++}if($t&&xt)for(const wt of ht)vt[wt]=getAnimatableNone$2(xt,$t)}let DOMKeyframesResolver$1=class extends KeyframeResolver$1{constructor(ht,xt,_t,$t,wt){super(ht,xt,_t,$t,wt,!0)}readKeyframes(){const{unresolvedKeyframes:ht,element:xt,name:_t}=this;if(!xt||!xt.current)return;super.readKeyframes();for(let bt=0;bt<ht.length;bt++){let Rt=ht[bt];if(typeof Rt=="string"&&(Rt=Rt.trim(),isCSSVariableToken$1(Rt))){const Nt=getVariableValue$1(Rt,xt.current);Nt!==void 0&&(ht[bt]=Nt),bt===ht.length-1&&(this.finalKeyframe=Rt)}}if(this.resolveNoneKeyframes(),!positionalKeys$1.has(_t)||ht.length!==2)return;const[$t,wt]=ht,Ct=findDimensionValueType$1($t),Pt=findDimensionValueType$1(wt);if(Ct!==Pt)if(isNumOrPxType$1(Ct)&&isNumOrPxType$1(Pt))for(let bt=0;bt<ht.length;bt++){const Rt=ht[bt];typeof Rt=="string"&&(ht[bt]=parseFloat(Rt))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:ht,name:xt}=this,_t=[];for(let $t=0;$t<ht.length;$t++)isNone$1(ht[$t])&&_t.push($t);_t.length&&makeNoneKeyframesAnimatable$1(ht,_t,xt)}measureInitialState(){const{element:ht,unresolvedKeyframes:xt,name:_t}=this;if(!ht||!ht.current)return;_t==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=positionalValues$1[_t](ht.measureViewportBox(),window.getComputedStyle(ht.current)),xt[0]=this.measuredOrigin;const $t=xt[xt.length-1];$t!==void 0&&ht.getValue(_t,$t).jump($t,!1)}measureEndState(){var ht;const{element:xt,name:_t,unresolvedKeyframes:$t}=this;if(!xt||!xt.current)return;const wt=xt.getValue(_t);wt&&wt.jump(this.measuredOrigin,!1);const Ct=$t.length-1,Pt=$t[Ct];$t[Ct]=positionalValues$1[_t](xt.measureViewportBox(),window.getComputedStyle(xt.current)),Pt!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=Pt),!((ht=this.removedTransforms)===null||ht===void 0)&&ht.length&&this.removedTransforms.forEach(([bt,Rt])=>{xt.getValue(bt).set(Rt)}),this.resolveNoneKeyframes()}};function isGenerator$1(vt){return typeof vt=="function"}let now$1;function clearTime$1(){now$1=void 0}const time$1={now:()=>(now$1===void 0&&time$1.set(frameData$1.isProcessing||MotionGlobalConfig$1.useManualTiming?frameData$1.timestamp:performance.now()),now$1),set:vt=>{now$1=vt,queueMicrotask(clearTime$1)}},isAnimatable$1=(vt,ht)=>ht==="zIndex"?!1:!!(typeof vt=="number"||Array.isArray(vt)||typeof vt=="string"&&(complex$1.test(vt)||vt==="0")&&!vt.startsWith("url("));function hasKeyframesChanged$1(vt){const ht=vt[0];if(vt.length===1)return!0;for(let xt=0;xt<vt.length;xt++)if(vt[xt]!==ht)return!0}function canAnimate$1(vt,ht,xt,_t){const $t=vt[0];if($t===null)return!1;if(ht==="display"||ht==="visibility")return!0;const wt=vt[vt.length-1],Ct=isAnimatable$1($t,ht),Pt=isAnimatable$1(wt,ht);return!Ct||!Pt?!1:hasKeyframesChanged$1(vt)||(xt==="spring"||isGenerator$1(xt))&&_t}const MAX_RESOLVE_DELAY$1=40;let BaseAnimation$1=class{constructor({autoplay:ht=!0,delay:xt=0,type:_t="keyframes",repeat:$t=0,repeatDelay:wt=0,repeatType:Ct="loop",...Pt}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=time$1.now(),this.options={autoplay:ht,delay:xt,type:_t,repeat:$t,repeatDelay:wt,repeatType:Ct,...Pt},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>MAX_RESOLVE_DELAY$1?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&flushKeyframeResolvers$1(),this._resolved}onKeyframesResolved(ht,xt){this.resolvedAt=time$1.now(),this.hasAttemptedResolve=!0;const{name:_t,type:$t,velocity:wt,delay:Ct,onComplete:Pt,onUpdate:bt,isGenerator:Rt}=this.options;if(!Rt&&!canAnimate$1(ht,_t,$t,wt))if(Ct)this.options.duration=0;else{bt==null||bt(getFinalKeyframe$1(ht,this.options,xt)),Pt==null||Pt(),this.resolveFinishedPromise();return}const Nt=this.initPlayback(ht,xt);Nt!==!1&&(this._resolved={keyframes:ht,finalKeyframe:xt,...Nt},this.onPostResolved())}onPostResolved(){}then(ht,xt){return this.currentFinishedPromise.then(ht,xt)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(ht=>{this.resolveFinishedPromise=ht})}};function velocityPerSecond$1(vt,ht){return ht?vt*(1e3/ht):0}const velocitySampleDuration$1=5;function calcGeneratorVelocity$1(vt,ht,xt){const _t=Math.max(ht-velocitySampleDuration$1,0);return velocityPerSecond$1(xt-vt(_t),ht-_t)}const safeMin$1=.001,minDuration$1=.01,maxDuration$3=10,minDamping$1=.05,maxDamping$1=1;function findSpring$1({duration:vt=800,bounce:ht=.25,velocity:xt=0,mass:_t=1}){let $t,wt,Ct=1-ht;Ct=clamp$2(minDamping$1,maxDamping$1,Ct),vt=clamp$2(minDuration$1,maxDuration$3,millisecondsToSeconds$1(vt)),Ct<1?($t=Rt=>{const Nt=Rt*Ct,kt=Nt*vt,Dt=Nt-xt,Ot=calcAngularFreq$1(Rt,Ct),Lt=Math.exp(-kt);return safeMin$1-Dt/Ot*Lt},wt=Rt=>{const kt=Rt*Ct*vt,Dt=kt*xt+xt,Ot=Math.pow(Ct,2)*Math.pow(Rt,2)*vt,Lt=Math.exp(-kt),Ft=calcAngularFreq$1(Math.pow(Rt,2),Ct);return(-$t(Rt)+safeMin$1>0?-1:1)*((Dt-Ot)*Lt)/Ft}):($t=Rt=>{const Nt=Math.exp(-Rt*vt),kt=(Rt-xt)*vt+1;return-safeMin$1+Nt*kt},wt=Rt=>{const Nt=Math.exp(-Rt*vt),kt=(xt-Rt)*(vt*vt);return Nt*kt});const Pt=5/vt,bt=approximateRoot$1($t,wt,Pt);if(vt=secondsToMilliseconds$1(vt),isNaN(bt))return{stiffness:100,damping:10,duration:vt};{const Rt=Math.pow(bt,2)*_t;return{stiffness:Rt,damping:Ct*2*Math.sqrt(_t*Rt),duration:vt}}}const rootIterations$1=12;function approximateRoot$1(vt,ht,xt){let _t=xt;for(let $t=1;$t<rootIterations$1;$t++)_t=_t-vt(_t)/ht(_t);return _t}function calcAngularFreq$1(vt,ht){return vt*Math.sqrt(1-ht*ht)}const durationKeys$1=["duration","bounce"],physicsKeys$1=["stiffness","damping","mass"];function isSpringType$1(vt,ht){return ht.some(xt=>vt[xt]!==void 0)}function getSpringOptions$1(vt){let ht={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...vt};if(!isSpringType$1(vt,physicsKeys$1)&&isSpringType$1(vt,durationKeys$1)){const xt=findSpring$1(vt);ht={...ht,...xt,mass:1},ht.isResolvedFromDuration=!0}return ht}function spring$1({keyframes:vt,restDelta:ht,restSpeed:xt,..._t}){const $t=vt[0],wt=vt[vt.length-1],Ct={done:!1,value:$t},{stiffness:Pt,damping:bt,mass:Rt,duration:Nt,velocity:kt,isResolvedFromDuration:Dt}=getSpringOptions$1({..._t,velocity:-millisecondsToSeconds$1(_t.velocity||0)}),Ot=kt||0,Lt=bt/(2*Math.sqrt(Pt*Rt)),Ft=wt-$t,Ut=millisecondsToSeconds$1(Math.sqrt(Pt/Rt)),jt=Math.abs(Ft)<5;xt||(xt=jt?.01:2),ht||(ht=jt?.005:.5);let Vt;if(Lt<1){const Bt=calcAngularFreq$1(Ut,Lt);Vt=Wt=>{const zt=Math.exp(-Lt*Ut*Wt);return wt-zt*((Ot+Lt*Ut*Ft)/Bt*Math.sin(Bt*Wt)+Ft*Math.cos(Bt*Wt))}}else if(Lt===1)Vt=Bt=>wt-Math.exp(-Ut*Bt)*(Ft+(Ot+Ut*Ft)*Bt);else{const Bt=Ut*Math.sqrt(Lt*Lt-1);Vt=Wt=>{const zt=Math.exp(-Lt*Ut*Wt),qt=Math.min(Bt*Wt,300);return wt-zt*((Ot+Lt*Ut*Ft)*Math.sinh(qt)+Bt*Ft*Math.cosh(qt))/Bt}}return{calculatedDuration:Dt&&Nt||null,next:Bt=>{const Wt=Vt(Bt);if(Dt)Ct.done=Bt>=Nt;else{let zt=0;Lt<1&&(zt=Bt===0?secondsToMilliseconds$1(Ot):calcGeneratorVelocity$1(Vt,Bt,Wt));const qt=Math.abs(zt)<=xt,Xt=Math.abs(wt-Wt)<=ht;Ct.done=qt&&Xt}return Ct.value=Ct.done?wt:Wt,Ct}}}function inertia$1({keyframes:vt,velocity:ht=0,power:xt=.8,timeConstant:_t=325,bounceDamping:$t=10,bounceStiffness:wt=500,modifyTarget:Ct,min:Pt,max:bt,restDelta:Rt=.5,restSpeed:Nt}){const kt=vt[0],Dt={done:!1,value:kt},Ot=Yt=>Pt!==void 0&&Yt<Pt||bt!==void 0&&Yt>bt,Lt=Yt=>Pt===void 0?bt:bt===void 0||Math.abs(Pt-Yt)<Math.abs(bt-Yt)?Pt:bt;let Ft=xt*ht;const Ut=kt+Ft,jt=Ct===void 0?Ut:Ct(Ut);jt!==Ut&&(Ft=jt-kt);const Vt=Yt=>-Ft*Math.exp(-Yt/_t),Bt=Yt=>jt+Vt(Yt),Wt=Yt=>{const en=Vt(Yt),Qt=Bt(Yt);Dt.done=Math.abs(en)<=Rt,Dt.value=Dt.done?jt:Qt};let zt,qt;const Xt=Yt=>{Ot(Dt.value)&&(zt=Yt,qt=spring$1({keyframes:[Dt.value,Lt(Dt.value)],velocity:calcGeneratorVelocity$1(Bt,Yt,Dt.value),damping:$t,stiffness:wt,restDelta:Rt,restSpeed:Nt}))};return Xt(0),{calculatedDuration:null,next:Yt=>{let en=!1;return!qt&&zt===void 0&&(en=!0,Wt(Yt),Xt(Yt)),zt!==void 0&&Yt>=zt?qt.next(Yt-zt):(!en&&Wt(Yt),Dt)}}}const easeIn$1=cubicBezier$1(.42,0,1,1),easeOut$1=cubicBezier$1(0,0,.58,1),easeInOut$1=cubicBezier$1(.42,0,.58,1),isEasingArray$1=vt=>Array.isArray(vt)&&typeof vt[0]!="number",isBezierDefinition$1=vt=>Array.isArray(vt)&&typeof vt[0]=="number",easingLookup$1={linear:noop$1,easeIn:easeIn$1,easeInOut:easeInOut$1,easeOut:easeOut$1,circIn:circIn$1,circInOut:circInOut$1,circOut:circOut$1,backIn:backIn$1,backInOut:backInOut$1,backOut:backOut$1,anticipate:anticipate$1},easingDefinitionToFunction$1=vt=>{if(isBezierDefinition$1(vt)){invariant$1(vt.length===4);const[ht,xt,_t,$t]=vt;return cubicBezier$1(ht,xt,_t,$t)}else if(typeof vt=="string")return invariant$1(easingLookup$1[vt]!==void 0),easingLookup$1[vt];return vt},combineFunctions$1=(vt,ht)=>xt=>ht(vt(xt)),pipe$1=(...vt)=>vt.reduce(combineFunctions$1),progress$1=(vt,ht,xt)=>{const _t=ht-vt;return _t===0?1:(xt-vt)/_t},mixNumber$3=(vt,ht,xt)=>vt+(ht-vt)*xt;function hueToRgb$1(vt,ht,xt){return xt<0&&(xt+=1),xt>1&&(xt-=1),xt<1/6?vt+(ht-vt)*6*xt:xt<1/2?ht:xt<2/3?vt+(ht-vt)*(2/3-xt)*6:vt}function hslaToRgba$1({hue:vt,saturation:ht,lightness:xt,alpha:_t}){vt/=360,ht/=100,xt/=100;let $t=0,wt=0,Ct=0;if(!ht)$t=wt=Ct=xt;else{const Pt=xt<.5?xt*(1+ht):xt+ht-xt*ht,bt=2*xt-Pt;$t=hueToRgb$1(bt,Pt,vt+1/3),wt=hueToRgb$1(bt,Pt,vt),Ct=hueToRgb$1(bt,Pt,vt-1/3)}return{red:Math.round($t*255),green:Math.round(wt*255),blue:Math.round(Ct*255),alpha:_t}}function mixImmediate$1(vt,ht){return xt=>xt>0?ht:vt}const mixLinearColor$1=(vt,ht,xt)=>{const _t=vt*vt,$t=xt*(ht*ht-_t)+_t;return $t<0?0:Math.sqrt($t)},colorTypes$1=[hex$1,rgba$1,hsla$1],getColorType$1=vt=>colorTypes$1.find(ht=>ht.test(vt));function asRGBA$1(vt){const ht=getColorType$1(vt);if(!ht)return!1;let xt=ht.parse(vt);return ht===hsla$1&&(xt=hslaToRgba$1(xt)),xt}const mixColor$1=(vt,ht)=>{const xt=asRGBA$1(vt),_t=asRGBA$1(ht);if(!xt||!_t)return mixImmediate$1(vt,ht);const $t={...xt};return wt=>($t.red=mixLinearColor$1(xt.red,_t.red,wt),$t.green=mixLinearColor$1(xt.green,_t.green,wt),$t.blue=mixLinearColor$1(xt.blue,_t.blue,wt),$t.alpha=mixNumber$3(xt.alpha,_t.alpha,wt),rgba$1.transform($t))},invisibleValues$1=new Set(["none","hidden"]);function mixVisibility$1(vt,ht){return invisibleValues$1.has(vt)?xt=>xt<=0?vt:ht:xt=>xt>=1?ht:vt}function mixNumber$2(vt,ht){return xt=>mixNumber$3(vt,ht,xt)}function getMixer$1(vt){return typeof vt=="number"?mixNumber$2:typeof vt=="string"?isCSSVariableToken$1(vt)?mixImmediate$1:color$1.test(vt)?mixColor$1:mixComplex$1:Array.isArray(vt)?mixArray$1:typeof vt=="object"?color$1.test(vt)?mixColor$1:mixObject$1:mixImmediate$1}function mixArray$1(vt,ht){const xt=[...vt],_t=xt.length,$t=vt.map((wt,Ct)=>getMixer$1(wt)(wt,ht[Ct]));return wt=>{for(let Ct=0;Ct<_t;Ct++)xt[Ct]=$t[Ct](wt);return xt}}function mixObject$1(vt,ht){const xt={...vt,...ht},_t={};for(const $t in xt)vt[$t]!==void 0&&ht[$t]!==void 0&&(_t[$t]=getMixer$1(vt[$t])(vt[$t],ht[$t]));return $t=>{for(const wt in _t)xt[wt]=_t[wt]($t);return xt}}function matchOrder$1(vt,ht){var xt;const _t=[],$t={color:0,var:0,number:0};for(let wt=0;wt<ht.values.length;wt++){const Ct=ht.types[wt],Pt=vt.indexes[Ct][$t[Ct]],bt=(xt=vt.values[Pt])!==null&&xt!==void 0?xt:0;_t[wt]=bt,$t[Ct]++}return _t}const mixComplex$1=(vt,ht)=>{const xt=complex$1.createTransformer(ht),_t=analyseComplexValue$1(vt),$t=analyseComplexValue$1(ht);return _t.indexes.var.length===$t.indexes.var.length&&_t.indexes.color.length===$t.indexes.color.length&&_t.indexes.number.length>=$t.indexes.number.length?invisibleValues$1.has(vt)&&!$t.values.length||invisibleValues$1.has(ht)&&!_t.values.length?mixVisibility$1(vt,ht):pipe$1(mixArray$1(matchOrder$1(_t,$t),$t.values),xt):mixImmediate$1(vt,ht)};function mix$1(vt,ht,xt){return typeof vt=="number"&&typeof ht=="number"&&typeof xt=="number"?mixNumber$3(vt,ht,xt):getMixer$1(vt)(vt,ht)}function createMixers$1(vt,ht,xt){const _t=[],$t=xt||mix$1,wt=vt.length-1;for(let Ct=0;Ct<wt;Ct++){let Pt=$t(vt[Ct],vt[Ct+1]);if(ht){const bt=Array.isArray(ht)?ht[Ct]||noop$1:ht;Pt=pipe$1(bt,Pt)}_t.push(Pt)}return _t}function interpolate$1(vt,ht,{clamp:xt=!0,ease:_t,mixer:$t}={}){const wt=vt.length;if(invariant$1(wt===ht.length),wt===1)return()=>ht[0];if(wt===2&&vt[0]===vt[1])return()=>ht[1];vt[0]>vt[wt-1]&&(vt=[...vt].reverse(),ht=[...ht].reverse());const Ct=createMixers$1(ht,_t,$t),Pt=Ct.length,bt=Rt=>{let Nt=0;if(Pt>1)for(;Nt<vt.length-2&&!(Rt<vt[Nt+1]);Nt++);const kt=progress$1(vt[Nt],vt[Nt+1],Rt);return Ct[Nt](kt)};return xt?Rt=>bt(clamp$2(vt[0],vt[wt-1],Rt)):bt}function fillOffset$1(vt,ht){const xt=vt[vt.length-1];for(let _t=1;_t<=ht;_t++){const $t=progress$1(0,ht,_t);vt.push(mixNumber$3(xt,1,$t))}}function defaultOffset$1(vt){const ht=[0];return fillOffset$1(ht,vt.length-1),ht}function convertOffsetToTimes$1(vt,ht){return vt.map(xt=>xt*ht)}function defaultEasing$1(vt,ht){return vt.map(()=>ht||easeInOut$1).splice(0,vt.length-1)}function keyframes$1({duration:vt=300,keyframes:ht,times:xt,ease:_t="easeInOut"}){const $t=isEasingArray$1(_t)?_t.map(easingDefinitionToFunction$1):easingDefinitionToFunction$1(_t),wt={done:!1,value:ht[0]},Ct=convertOffsetToTimes$1(xt&&xt.length===ht.length?xt:defaultOffset$1(ht),vt),Pt=interpolate$1(Ct,ht,{ease:Array.isArray($t)?$t:defaultEasing$1(ht,$t)});return{calculatedDuration:vt,next:bt=>(wt.value=Pt(bt),wt.done=bt>=vt,wt)}}const maxGeneratorDuration$1=2e4;function calcGeneratorDuration$1(vt){let ht=0;const xt=50;let _t=vt.next(ht);for(;!_t.done&&ht<maxGeneratorDuration$1;)ht+=xt,_t=vt.next(ht);return ht>=maxGeneratorDuration$1?1/0:ht}const frameloopDriver$1=vt=>{const ht=({timestamp:xt})=>vt(xt);return{start:()=>frame$1.update(ht,!0),stop:()=>cancelFrame$1(ht),now:()=>frameData$1.isProcessing?frameData$1.timestamp:time$1.now()}},generators$1={decay:inertia$1,inertia:inertia$1,tween:keyframes$1,keyframes:keyframes$1,spring:spring$1},percentToProgress$1=vt=>vt/100;let MainThreadAnimation$1=class extends BaseAnimation$1{constructor(ht){super(ht),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:bt}=this.options;bt&&bt()};const{name:xt,motionValue:_t,element:$t,keyframes:wt}=this.options,Ct=($t==null?void 0:$t.KeyframeResolver)||KeyframeResolver$1,Pt=(bt,Rt)=>this.onKeyframesResolved(bt,Rt);this.resolver=new Ct(wt,Pt,xt,_t,$t),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(ht){const{type:xt="keyframes",repeat:_t=0,repeatDelay:$t=0,repeatType:wt,velocity:Ct=0}=this.options,Pt=isGenerator$1(xt)?xt:generators$1[xt]||keyframes$1;let bt,Rt;Pt!==keyframes$1&&typeof ht[0]!="number"&&(bt=pipe$1(percentToProgress$1,mix$1(ht[0],ht[1])),ht=[0,100]);const Nt=Pt({...this.options,keyframes:ht});wt==="mirror"&&(Rt=Pt({...this.options,keyframes:[...ht].reverse(),velocity:-Ct})),Nt.calculatedDuration===null&&(Nt.calculatedDuration=calcGeneratorDuration$1(Nt));const{calculatedDuration:kt}=Nt,Dt=kt+$t,Ot=Dt*(_t+1)-$t;return{generator:Nt,mirroredGenerator:Rt,mapPercentToKeyframes:bt,calculatedDuration:kt,resolvedDuration:Dt,totalDuration:Ot}}onPostResolved(){const{autoplay:ht=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!ht?this.pause():this.state=this.pendingPlayState}tick(ht,xt=!1){const{resolved:_t}=this;if(!_t){const{keyframes:Yt}=this.options;return{done:!0,value:Yt[Yt.length-1]}}const{finalKeyframe:$t,generator:wt,mirroredGenerator:Ct,mapPercentToKeyframes:Pt,keyframes:bt,calculatedDuration:Rt,totalDuration:Nt,resolvedDuration:kt}=_t;if(this.startTime===null)return wt.next(0);const{delay:Dt,repeat:Ot,repeatType:Lt,repeatDelay:Ft,onUpdate:Ut}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,ht):this.speed<0&&(this.startTime=Math.min(ht-Nt/this.speed,this.startTime)),xt?this.currentTime=ht:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(ht-this.startTime)*this.speed;const jt=this.currentTime-Dt*(this.speed>=0?1:-1),Vt=this.speed>=0?jt<0:jt>Nt;this.currentTime=Math.max(jt,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=Nt);let Bt=this.currentTime,Wt=wt;if(Ot){const Yt=Math.min(this.currentTime,Nt)/kt;let en=Math.floor(Yt),Qt=Yt%1;!Qt&&Yt>=1&&(Qt=1),Qt===1&&en--,en=Math.min(en,Ot+1),!!(en%2)&&(Lt==="reverse"?(Qt=1-Qt,Ft&&(Qt-=Ft/kt)):Lt==="mirror"&&(Wt=Ct)),Bt=clamp$2(0,1,Qt)*kt}const zt=Vt?{done:!1,value:bt[0]}:Wt.next(Bt);Pt&&(zt.value=Pt(zt.value));let{done:qt}=zt;!Vt&&Rt!==null&&(qt=this.speed>=0?this.currentTime>=Nt:this.currentTime<=0);const Xt=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&qt);return Xt&&$t!==void 0&&(zt.value=getFinalKeyframe$1(bt,this.options,$t)),Ut&&Ut(zt.value),Xt&&this.finish(),zt}get duration(){const{resolved:ht}=this;return ht?millisecondsToSeconds$1(ht.calculatedDuration):0}get time(){return millisecondsToSeconds$1(this.currentTime)}set time(ht){ht=secondsToMilliseconds$1(ht),this.currentTime=ht,this.holdTime!==null||this.speed===0?this.holdTime=ht:this.driver&&(this.startTime=this.driver.now()-ht/this.speed)}get speed(){return this.playbackSpeed}set speed(ht){const xt=this.playbackSpeed!==ht;this.playbackSpeed=ht,xt&&(this.time=millisecondsToSeconds$1(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:ht=frameloopDriver$1,onPlay:xt,startTime:_t}=this.options;this.driver||(this.driver=ht(wt=>this.tick(wt))),xt&&xt();const $t=this.driver.now();this.holdTime!==null?this.startTime=$t-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=$t):this.startTime=_t??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var ht;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(ht=this.currentTime)!==null&&ht!==void 0?ht:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:ht}=this.options;ht&&ht()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(ht){return this.startTime=0,this.tick(ht,!0)}};const acceleratedValues$1=new Set(["opacity","clipPath","filter","transform"]),resolution$1=10,generateLinearEasing$1=(vt,ht)=>{let xt="";const _t=Math.max(Math.round(ht/resolution$1),2);for(let $t=0;$t<_t;$t++)xt+=vt(progress$1(0,_t-1,$t))+", ";return`linear(${xt.substring(0,xt.length-2)})`};function memo$1(vt){let ht;return()=>(ht===void 0&&(ht=vt()),ht)}const supportsFlags$1={linearEasing:void 0};function memoSupports$1(vt,ht){const xt=memo$1(vt);return()=>{var _t;return(_t=supportsFlags$1[ht])!==null&&_t!==void 0?_t:xt()}}const supportsLinearEasing$1=memoSupports$1(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing");function isWaapiSupportedEasing$1(vt){return!!(typeof vt=="function"&&supportsLinearEasing$1()||!vt||typeof vt=="string"&&(vt in supportedWaapiEasing$1||supportsLinearEasing$1())||isBezierDefinition$1(vt)||Array.isArray(vt)&&vt.every(isWaapiSupportedEasing$1))}const cubicBezierAsString$1=([vt,ht,xt,_t])=>`cubic-bezier(${vt}, ${ht}, ${xt}, ${_t})`,supportedWaapiEasing$1={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cubicBezierAsString$1([0,.65,.55,1]),circOut:cubicBezierAsString$1([.55,0,1,.45]),backIn:cubicBezierAsString$1([.31,.01,.66,-.59]),backOut:cubicBezierAsString$1([.33,1.53,.69,.99])};function mapEasingToNativeEasing$1(vt,ht){if(vt)return typeof vt=="function"&&supportsLinearEasing$1()?generateLinearEasing$1(vt,ht):isBezierDefinition$1(vt)?cubicBezierAsString$1(vt):Array.isArray(vt)?vt.map(xt=>mapEasingToNativeEasing$1(xt,ht)||supportedWaapiEasing$1.easeOut):supportedWaapiEasing$1[vt]}function startWaapiAnimation$1(vt,ht,xt,{delay:_t=0,duration:$t=300,repeat:wt=0,repeatType:Ct="loop",ease:Pt="easeInOut",times:bt}={}){const Rt={[ht]:xt};bt&&(Rt.offset=bt);const Nt=mapEasingToNativeEasing$1(Pt,$t);return Array.isArray(Nt)&&(Rt.easing=Nt),vt.animate(Rt,{delay:_t,duration:$t,easing:Array.isArray(Nt)?"linear":Nt,fill:"both",iterations:wt+1,direction:Ct==="reverse"?"alternate":"normal"})}function attachTimeline$1(vt,ht){vt.timeline=ht,vt.onfinish=null}const supportsWaapi$1=memo$1(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),sampleDelta$1=10,maxDuration$2=2e4;function requiresPregeneratedKeyframes$1(vt){return isGenerator$1(vt.type)||vt.type==="spring"||!isWaapiSupportedEasing$1(vt.ease)}function pregenerateKeyframes$1(vt,ht){const xt=new MainThreadAnimation$1({...ht,keyframes:vt,repeat:0,delay:0,isGenerator:!0});let _t={done:!1,value:vt[0]};const $t=[];let wt=0;for(;!_t.done&&wt<maxDuration$2;)_t=xt.sample(wt),$t.push(_t.value),wt+=sampleDelta$1;return{times:void 0,keyframes:$t,duration:wt-sampleDelta$1,ease:"linear"}}const unsupportedEasingFunctions$1={anticipate:anticipate$1,backInOut:backInOut$1,circInOut:circInOut$1};function isUnsupportedEase$1(vt){return vt in unsupportedEasingFunctions$1}let AcceleratedAnimation$1=class extends BaseAnimation$1{constructor(ht){super(ht);const{name:xt,motionValue:_t,element:$t,keyframes:wt}=this.options;this.resolver=new DOMKeyframesResolver$1(wt,(Ct,Pt)=>this.onKeyframesResolved(Ct,Pt),xt,_t,$t),this.resolver.scheduleResolve()}initPlayback(ht,xt){var _t;let{duration:$t=300,times:wt,ease:Ct,type:Pt,motionValue:bt,name:Rt,startTime:Nt}=this.options;if(!(!((_t=bt.owner)===null||_t===void 0)&&_t.current))return!1;if(typeof Ct=="string"&&supportsLinearEasing$1()&&isUnsupportedEase$1(Ct)&&(Ct=unsupportedEasingFunctions$1[Ct]),requiresPregeneratedKeyframes$1(this.options)){const{onComplete:Dt,onUpdate:Ot,motionValue:Lt,element:Ft,...Ut}=this.options,jt=pregenerateKeyframes$1(ht,Ut);ht=jt.keyframes,ht.length===1&&(ht[1]=ht[0]),$t=jt.duration,wt=jt.times,Ct=jt.ease,Pt="keyframes"}const kt=startWaapiAnimation$1(bt.owner.current,Rt,ht,{...this.options,duration:$t,times:wt,ease:Ct});return kt.startTime=Nt??this.calcStartTime(),this.pendingTimeline?(attachTimeline$1(kt,this.pendingTimeline),this.pendingTimeline=void 0):kt.onfinish=()=>{const{onComplete:Dt}=this.options;bt.set(getFinalKeyframe$1(ht,this.options,xt)),Dt&&Dt(),this.cancel(),this.resolveFinishedPromise()},{animation:kt,duration:$t,times:wt,type:Pt,ease:Ct,keyframes:ht}}get duration(){const{resolved:ht}=this;if(!ht)return 0;const{duration:xt}=ht;return millisecondsToSeconds$1(xt)}get time(){const{resolved:ht}=this;if(!ht)return 0;const{animation:xt}=ht;return millisecondsToSeconds$1(xt.currentTime||0)}set time(ht){const{resolved:xt}=this;if(!xt)return;const{animation:_t}=xt;_t.currentTime=secondsToMilliseconds$1(ht)}get speed(){const{resolved:ht}=this;if(!ht)return 1;const{animation:xt}=ht;return xt.playbackRate}set speed(ht){const{resolved:xt}=this;if(!xt)return;const{animation:_t}=xt;_t.playbackRate=ht}get state(){const{resolved:ht}=this;if(!ht)return"idle";const{animation:xt}=ht;return xt.playState}get startTime(){const{resolved:ht}=this;if(!ht)return null;const{animation:xt}=ht;return xt.startTime}attachTimeline(ht){if(!this._resolved)this.pendingTimeline=ht;else{const{resolved:xt}=this;if(!xt)return noop$1;const{animation:_t}=xt;attachTimeline$1(_t,ht)}return noop$1}play(){if(this.isStopped)return;const{resolved:ht}=this;if(!ht)return;const{animation:xt}=ht;xt.playState==="finished"&&this.updateFinishedPromise(),xt.play()}pause(){const{resolved:ht}=this;if(!ht)return;const{animation:xt}=ht;xt.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:ht}=this;if(!ht)return;const{animation:xt,keyframes:_t,duration:$t,type:wt,ease:Ct,times:Pt}=ht;if(xt.playState==="idle"||xt.playState==="finished")return;if(this.time){const{motionValue:Rt,onUpdate:Nt,onComplete:kt,element:Dt,...Ot}=this.options,Lt=new MainThreadAnimation$1({...Ot,keyframes:_t,duration:$t,type:wt,ease:Ct,times:Pt,isGenerator:!0}),Ft=secondsToMilliseconds$1(this.time);Rt.setWithVelocity(Lt.sample(Ft-sampleDelta$1).value,Lt.sample(Ft).value,sampleDelta$1)}const{onStop:bt}=this.options;bt&&bt(),this.cancel()}complete(){const{resolved:ht}=this;ht&&ht.animation.finish()}cancel(){const{resolved:ht}=this;ht&&ht.animation.cancel()}static supports(ht){const{motionValue:xt,name:_t,repeatDelay:$t,repeatType:wt,damping:Ct,type:Pt}=ht;return supportsWaapi$1()&&_t&&acceleratedValues$1.has(_t)&&xt&&xt.owner&&xt.owner.current instanceof HTMLElement&&!xt.owner.getProps().onUpdate&&!$t&&wt!=="mirror"&&Ct!==0&&Pt!=="inertia"}};const supportsScrollTimeline$1=memo$1(()=>window.ScrollTimeline!==void 0);let GroupPlaybackControls$1=class{constructor(ht){this.stop=()=>this.runAll("stop"),this.animations=ht.filter(Boolean)}then(ht,xt){return Promise.all(this.animations).then(ht).catch(xt)}getAll(ht){return this.animations[0][ht]}setAll(ht,xt){for(let _t=0;_t<this.animations.length;_t++)this.animations[_t][ht]=xt}attachTimeline(ht,xt){const _t=this.animations.map($t=>supportsScrollTimeline$1()&&$t.attachTimeline?$t.attachTimeline(ht):xt($t));return()=>{_t.forEach(($t,wt)=>{$t&&$t(),this.animations[wt].stop()})}}get time(){return this.getAll("time")}set time(ht){this.setAll("time",ht)}get speed(){return this.getAll("speed")}set speed(ht){this.setAll("speed",ht)}get startTime(){return this.getAll("startTime")}get duration(){let ht=0;for(let xt=0;xt<this.animations.length;xt++)ht=Math.max(ht,this.animations[xt].duration);return ht}runAll(ht){this.animations.forEach(xt=>xt[ht]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}};function isTransitionDefined$1({when:vt,delay:ht,delayChildren:xt,staggerChildren:_t,staggerDirection:$t,repeat:wt,repeatType:Ct,repeatDelay:Pt,from:bt,elapsed:Rt,...Nt}){return!!Object.keys(Nt).length}const animateMotionValue$1=(vt,ht,xt,_t={},$t,wt)=>Ct=>{const Pt=getValueTransition$1(_t,vt)||{},bt=Pt.delay||_t.delay||0;let{elapsed:Rt=0}=_t;Rt=Rt-secondsToMilliseconds$1(bt);let Nt={keyframes:Array.isArray(xt)?xt:[null,xt],ease:"easeOut",velocity:ht.getVelocity(),...Pt,delay:-Rt,onUpdate:Dt=>{ht.set(Dt),Pt.onUpdate&&Pt.onUpdate(Dt)},onComplete:()=>{Ct(),Pt.onComplete&&Pt.onComplete()},name:vt,motionValue:ht,element:wt?void 0:$t};isTransitionDefined$1(Pt)||(Nt={...Nt,...getDefaultTransition$1(vt,Nt)}),Nt.duration&&(Nt.duration=secondsToMilliseconds$1(Nt.duration)),Nt.repeatDelay&&(Nt.repeatDelay=secondsToMilliseconds$1(Nt.repeatDelay)),Nt.from!==void 0&&(Nt.keyframes[0]=Nt.from);let kt=!1;if((Nt.type===!1||Nt.duration===0&&!Nt.repeatDelay)&&(Nt.duration=0,Nt.delay===0&&(kt=!0)),kt&&!wt&&ht.get()!==void 0){const Dt=getFinalKeyframe$1(Nt.keyframes,Pt);if(Dt!==void 0)return frame$1.update(()=>{Nt.onUpdate(Dt),Nt.onComplete()}),new GroupPlaybackControls$1([])}return!wt&&AcceleratedAnimation$1.supports(Nt)?new AcceleratedAnimation$1(Nt):new MainThreadAnimation$1(Nt)},isCustomValue$1=vt=>!!(vt&&typeof vt=="object"&&vt.mix&&vt.toValue),resolveFinalValueInKeyframes$1=vt=>isKeyframesTarget$1(vt)?vt[vt.length-1]||0:vt;function addUniqueItem$1(vt,ht){vt.indexOf(ht)===-1&&vt.push(ht)}function removeItem$1(vt,ht){const xt=vt.indexOf(ht);xt>-1&&vt.splice(xt,1)}let SubscriptionManager$1=class{constructor(){this.subscriptions=[]}add(ht){return addUniqueItem$1(this.subscriptions,ht),()=>removeItem$1(this.subscriptions,ht)}notify(ht,xt,_t){const $t=this.subscriptions.length;if($t)if($t===1)this.subscriptions[0](ht,xt,_t);else for(let wt=0;wt<$t;wt++){const Ct=this.subscriptions[wt];Ct&&Ct(ht,xt,_t)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}};const MAX_VELOCITY_DELTA$1=30,isFloat$1=vt=>!isNaN(parseFloat(vt));let MotionValue$1=class{constructor(ht,xt={}){this.version="11.11.17",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(_t,$t=!0)=>{const wt=time$1.now();this.updatedAt!==wt&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(_t),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),$t&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(ht),this.owner=xt.owner}setCurrent(ht){this.current=ht,this.updatedAt=time$1.now(),this.canTrackVelocity===null&&ht!==void 0&&(this.canTrackVelocity=isFloat$1(this.current))}setPrevFrameValue(ht=this.current){this.prevFrameValue=ht,this.prevUpdatedAt=this.updatedAt}onChange(ht){return this.on("change",ht)}on(ht,xt){this.events[ht]||(this.events[ht]=new SubscriptionManager$1);const _t=this.events[ht].add(xt);return ht==="change"?()=>{_t(),frame$1.read(()=>{this.events.change.getSize()||this.stop()})}:_t}clearListeners(){for(const ht in this.events)this.events[ht].clear()}attach(ht,xt){this.passiveEffect=ht,this.stopPassiveEffect=xt}set(ht,xt=!0){!xt||!this.passiveEffect?this.updateAndNotify(ht,xt):this.passiveEffect(ht,this.updateAndNotify)}setWithVelocity(ht,xt,_t){this.set(xt),this.prev=void 0,this.prevFrameValue=ht,this.prevUpdatedAt=this.updatedAt-_t}jump(ht,xt=!0){this.updateAndNotify(ht),this.prev=ht,this.prevUpdatedAt=this.prevFrameValue=void 0,xt&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const ht=time$1.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||ht-this.updatedAt>MAX_VELOCITY_DELTA$1)return 0;const xt=Math.min(this.updatedAt-this.prevUpdatedAt,MAX_VELOCITY_DELTA$1);return velocityPerSecond$1(parseFloat(this.current)-parseFloat(this.prevFrameValue),xt)}start(ht){return this.stop(),new Promise(xt=>{this.hasAnimated=!0,this.animation=ht(xt),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}};function motionValue$1(vt,ht){return new MotionValue$1(vt,ht)}function setMotionValue$1(vt,ht,xt){vt.hasValue(ht)?vt.getValue(ht).set(xt):vt.addValue(ht,motionValue$1(xt))}function setTarget$1(vt,ht){const xt=resolveVariant$1(vt,ht);let{transitionEnd:_t={},transition:$t={},...wt}=xt||{};wt={...wt,..._t};for(const Ct in wt){const Pt=resolveFinalValueInKeyframes$1(wt[Ct]);setMotionValue$1(vt,Ct,Pt)}}const camelToDash$1=vt=>vt.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),optimizedAppearDataId$1="framerAppearId",optimizedAppearDataAttribute$1="data-"+camelToDash$1(optimizedAppearDataId$1);function getOptimisedAppearId$1(vt){return vt.props[optimizedAppearDataAttribute$1]}const isMotionValue$1=vt=>!!(vt&&vt.getVelocity);function isWillChangeMotionValue$1(vt){return!!(isMotionValue$1(vt)&&vt.add)}function addValueToWillChange$1(vt,ht){const xt=vt.getValue("willChange");if(isWillChangeMotionValue$1(xt))return xt.add(ht)}function shouldBlockAnimation$1({protectedKeys:vt,needsAnimating:ht},xt){const _t=vt.hasOwnProperty(xt)&&ht[xt]!==!0;return ht[xt]=!1,_t}function animateTarget$1(vt,ht,{delay:xt=0,transitionOverride:_t,type:$t}={}){var wt;let{transition:Ct=vt.getDefaultTransition(),transitionEnd:Pt,...bt}=ht;_t&&(Ct=_t);const Rt=[],Nt=$t&&vt.animationState&&vt.animationState.getState()[$t];for(const kt in bt){const Dt=vt.getValue(kt,(wt=vt.latestValues[kt])!==null&&wt!==void 0?wt:null),Ot=bt[kt];if(Ot===void 0||Nt&&shouldBlockAnimation$1(Nt,kt))continue;const Lt={delay:xt,...getValueTransition$1(Ct||{},kt)};let Ft=!1;if(window.MotionHandoffAnimation){const jt=getOptimisedAppearId$1(vt);if(jt){const Vt=window.MotionHandoffAnimation(jt,kt,frame$1);Vt!==null&&(Lt.startTime=Vt,Ft=!0)}}addValueToWillChange$1(vt,kt),Dt.start(animateMotionValue$1(kt,Dt,Ot,vt.shouldReduceMotion&&transformProps$1.has(kt)?{type:!1}:Lt,vt,Ft));const Ut=Dt.animation;Ut&&Rt.push(Ut)}return Pt&&Promise.all(Rt).then(()=>{frame$1.update(()=>{Pt&&setTarget$1(vt,Pt)})}),Rt}function animateVariant$1(vt,ht,xt={}){var _t;const $t=resolveVariant$1(vt,ht,xt.type==="exit"?(_t=vt.presenceContext)===null||_t===void 0?void 0:_t.custom:void 0);let{transition:wt=vt.getDefaultTransition()||{}}=$t||{};xt.transitionOverride&&(wt=xt.transitionOverride);const Ct=$t?()=>Promise.all(animateTarget$1(vt,$t,xt)):()=>Promise.resolve(),Pt=vt.variantChildren&&vt.variantChildren.size?(Rt=0)=>{const{delayChildren:Nt=0,staggerChildren:kt,staggerDirection:Dt}=wt;return animateChildren$1(vt,ht,Nt+Rt,kt,Dt,xt)}:()=>Promise.resolve(),{when:bt}=wt;if(bt){const[Rt,Nt]=bt==="beforeChildren"?[Ct,Pt]:[Pt,Ct];return Rt().then(()=>Nt())}else return Promise.all([Ct(),Pt(xt.delay)])}function animateChildren$1(vt,ht,xt=0,_t=0,$t=1,wt){const Ct=[],Pt=(vt.variantChildren.size-1)*_t,bt=$t===1?(Rt=0)=>Rt*_t:(Rt=0)=>Pt-Rt*_t;return Array.from(vt.variantChildren).sort(sortByTreeOrder$1).forEach((Rt,Nt)=>{Rt.notify("AnimationStart",ht),Ct.push(animateVariant$1(Rt,ht,{...wt,delay:xt+bt(Nt)}).then(()=>Rt.notify("AnimationComplete",ht)))}),Promise.all(Ct)}function sortByTreeOrder$1(vt,ht){return vt.sortNodePosition(ht)}function animateVisualElement$1(vt,ht,xt={}){vt.notify("AnimationStart",ht);let _t;if(Array.isArray(ht)){const $t=ht.map(wt=>animateVariant$1(vt,wt,xt));_t=Promise.all($t)}else if(typeof ht=="string")_t=animateVariant$1(vt,ht,xt);else{const $t=typeof ht=="function"?resolveVariant$1(vt,ht,xt.custom):ht;_t=Promise.all(animateTarget$1(vt,$t,xt))}return _t.then(()=>{vt.notify("AnimationComplete",ht)})}const numVariantProps$1=variantProps$1.length;function getVariantContext$1(vt){if(!vt)return;if(!vt.isControllingVariants){const xt=vt.parent?getVariantContext$1(vt.parent)||{}:{};return vt.props.initial!==void 0&&(xt.initial=vt.props.initial),xt}const ht={};for(let xt=0;xt<numVariantProps$1;xt++){const _t=variantProps$1[xt],$t=vt.props[_t];(isVariantLabel$1($t)||$t===!1)&&(ht[_t]=$t)}return ht}const reversePriorityOrder$1=[...variantPriorityOrder$1].reverse(),numAnimationTypes$1=variantPriorityOrder$1.length;function animateList$1(vt){return ht=>Promise.all(ht.map(({animation:xt,options:_t})=>animateVisualElement$1(vt,xt,_t)))}function createAnimationState$1(vt){let ht=animateList$1(vt),xt=createState$1(),_t=!0;const $t=bt=>(Rt,Nt)=>{var kt;const Dt=resolveVariant$1(vt,Nt,bt==="exit"?(kt=vt.presenceContext)===null||kt===void 0?void 0:kt.custom:void 0);if(Dt){const{transition:Ot,transitionEnd:Lt,...Ft}=Dt;Rt={...Rt,...Ft,...Lt}}return Rt};function wt(bt){ht=bt(vt)}function Ct(bt){const{props:Rt}=vt,Nt=getVariantContext$1(vt.parent)||{},kt=[],Dt=new Set;let Ot={},Lt=1/0;for(let Ut=0;Ut<numAnimationTypes$1;Ut++){const jt=reversePriorityOrder$1[Ut],Vt=xt[jt],Bt=Rt[jt]!==void 0?Rt[jt]:Nt[jt],Wt=isVariantLabel$1(Bt),zt=jt===bt?Vt.isActive:null;zt===!1&&(Lt=Ut);let qt=Bt===Nt[jt]&&Bt!==Rt[jt]&&Wt;if(qt&&_t&&vt.manuallyAnimateOnMount&&(qt=!1),Vt.protectedKeys={...Ot},!Vt.isActive&&zt===null||!Bt&&!Vt.prevProp||isAnimationControls$1(Bt)||typeof Bt=="boolean")continue;const Xt=checkVariantsDidChange$1(Vt.prevProp,Bt);let Yt=Xt||jt===bt&&Vt.isActive&&!qt&&Wt||Ut>Lt&&Wt,en=!1;const Qt=Array.isArray(Bt)?Bt:[Bt];let nn=Qt.reduce($t(jt),{});zt===!1&&(nn={});const{prevResolvedValues:ln={}}=Vt,dn={...ln,...nn},fn=an=>{Yt=!0,Dt.has(an)&&(en=!0,Dt.delete(an)),Vt.needsAnimating[an]=!0;const Kt=vt.getValue(an);Kt&&(Kt.liveStyle=!1)};for(const an in dn){const Kt=nn[an],Jt=ln[an];if(Ot.hasOwnProperty(an))continue;let Gt=!1;isKeyframesTarget$1(Kt)&&isKeyframesTarget$1(Jt)?Gt=!shallowCompare$1(Kt,Jt):Gt=Kt!==Jt,Gt?Kt!=null?fn(an):Dt.add(an):Kt!==void 0&&Dt.has(an)?fn(an):Vt.protectedKeys[an]=!0}Vt.prevProp=Bt,Vt.prevResolvedValues=nn,Vt.isActive&&(Ot={...Ot,...nn}),_t&&vt.blockInitialAnimation&&(Yt=!1),Yt&&(!(qt&&Xt)||en)&&kt.push(...Qt.map(an=>({animation:an,options:{type:jt}})))}if(Dt.size){const Ut={};Dt.forEach(jt=>{const Vt=vt.getBaseTarget(jt),Bt=vt.getValue(jt);Bt&&(Bt.liveStyle=!0),Ut[jt]=Vt??null}),kt.push({animation:Ut})}let Ft=!!kt.length;return _t&&(Rt.initial===!1||Rt.initial===Rt.animate)&&!vt.manuallyAnimateOnMount&&(Ft=!1),_t=!1,Ft?ht(kt):Promise.resolve()}function Pt(bt,Rt){var Nt;if(xt[bt].isActive===Rt)return Promise.resolve();(Nt=vt.variantChildren)===null||Nt===void 0||Nt.forEach(Dt=>{var Ot;return(Ot=Dt.animationState)===null||Ot===void 0?void 0:Ot.setActive(bt,Rt)}),xt[bt].isActive=Rt;const kt=Ct(bt);for(const Dt in xt)xt[Dt].protectedKeys={};return kt}return{animateChanges:Ct,setActive:Pt,setAnimateFunction:wt,getState:()=>xt,reset:()=>{xt=createState$1(),_t=!0}}}function checkVariantsDidChange$1(vt,ht){return typeof ht=="string"?ht!==vt:Array.isArray(ht)?!shallowCompare$1(ht,vt):!1}function createTypeState$1(vt=!1){return{isActive:vt,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function createState$1(){return{animate:createTypeState$1(!0),whileInView:createTypeState$1(),whileHover:createTypeState$1(),whileTap:createTypeState$1(),whileDrag:createTypeState$1(),whileFocus:createTypeState$1(),exit:createTypeState$1()}}let Feature$1=class{constructor(ht){this.isMounted=!1,this.node=ht}update(){}},AnimationFeature$1=class extends Feature$1{constructor(ht){super(ht),ht.animationState||(ht.animationState=createAnimationState$1(ht))}updateAnimationControlsSubscription(){const{animate:ht}=this.node.getProps();isAnimationControls$1(ht)&&(this.unmountControls=ht.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:ht}=this.node.getProps(),{animate:xt}=this.node.prevProps||{};ht!==xt&&this.updateAnimationControlsSubscription()}unmount(){var ht;this.node.animationState.reset(),(ht=this.unmountControls)===null||ht===void 0||ht.call(this)}},id$3=0,ExitAnimationFeature$1=class extends Feature$1{constructor(){super(...arguments),this.id=id$3++}update(){if(!this.node.presenceContext)return;const{isPresent:ht,onExitComplete:xt}=this.node.presenceContext,{isPresent:_t}=this.node.prevPresenceContext||{};if(!this.node.animationState||ht===_t)return;const $t=this.node.animationState.setActive("exit",!ht);xt&&!ht&&$t.then(()=>xt(this.id))}mount(){const{register:ht}=this.node.presenceContext||{};ht&&(this.unmount=ht(this.id))}unmount(){}};const animations$1={animation:{Feature:AnimationFeature$1},exit:{Feature:ExitAnimationFeature$1}},isPrimaryPointer$1=vt=>vt.pointerType==="mouse"?typeof vt.button!="number"||vt.button<=0:vt.isPrimary!==!1;function extractEventInfo$1(vt,ht="page"){return{point:{x:vt[`${ht}X`],y:vt[`${ht}Y`]}}}const addPointerInfo$1=vt=>ht=>isPrimaryPointer$1(ht)&&vt(ht,extractEventInfo$1(ht));function addDomEvent$1(vt,ht,xt,_t={passive:!0}){return vt.addEventListener(ht,xt,_t),()=>vt.removeEventListener(ht,xt)}function addPointerEvent$1(vt,ht,xt,_t){return addDomEvent$1(vt,ht,addPointerInfo$1(xt),_t)}const distance$1=(vt,ht)=>Math.abs(vt-ht);function distance2D$1(vt,ht){const xt=distance$1(vt.x,ht.x),_t=distance$1(vt.y,ht.y);return Math.sqrt(xt**2+_t**2)}let PanSession$1=class{constructor(ht,xt,{transformPagePoint:_t,contextWindow:$t,dragSnapToOrigin:wt=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const kt=getPanInfo$1(this.lastMoveEventInfo,this.history),Dt=this.startEvent!==null,Ot=distance2D$1(kt.offset,{x:0,y:0})>=3;if(!Dt&&!Ot)return;const{point:Lt}=kt,{timestamp:Ft}=frameData$1;this.history.push({...Lt,timestamp:Ft});const{onStart:Ut,onMove:jt}=this.handlers;Dt||(Ut&&Ut(this.lastMoveEvent,kt),this.startEvent=this.lastMoveEvent),jt&&jt(this.lastMoveEvent,kt)},this.handlePointerMove=(kt,Dt)=>{this.lastMoveEvent=kt,this.lastMoveEventInfo=transformPoint$1(Dt,this.transformPagePoint),frame$1.update(this.updatePoint,!0)},this.handlePointerUp=(kt,Dt)=>{this.end();const{onEnd:Ot,onSessionEnd:Lt,resumeAnimation:Ft}=this.handlers;if(this.dragSnapToOrigin&&Ft&&Ft(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const Ut=getPanInfo$1(kt.type==="pointercancel"?this.lastMoveEventInfo:transformPoint$1(Dt,this.transformPagePoint),this.history);this.startEvent&&Ot&&Ot(kt,Ut),Lt&&Lt(kt,Ut)},!isPrimaryPointer$1(ht))return;this.dragSnapToOrigin=wt,this.handlers=xt,this.transformPagePoint=_t,this.contextWindow=$t||window;const Ct=extractEventInfo$1(ht),Pt=transformPoint$1(Ct,this.transformPagePoint),{point:bt}=Pt,{timestamp:Rt}=frameData$1;this.history=[{...bt,timestamp:Rt}];const{onSessionStart:Nt}=xt;Nt&&Nt(ht,getPanInfo$1(Pt,this.history)),this.removeListeners=pipe$1(addPointerEvent$1(this.contextWindow,"pointermove",this.handlePointerMove),addPointerEvent$1(this.contextWindow,"pointerup",this.handlePointerUp),addPointerEvent$1(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(ht){this.handlers=ht}end(){this.removeListeners&&this.removeListeners(),cancelFrame$1(this.updatePoint)}};function transformPoint$1(vt,ht){return ht?{point:ht(vt.point)}:vt}function subtractPoint$1(vt,ht){return{x:vt.x-ht.x,y:vt.y-ht.y}}function getPanInfo$1({point:vt},ht){return{point:vt,delta:subtractPoint$1(vt,lastDevicePoint$1(ht)),offset:subtractPoint$1(vt,startDevicePoint$1(ht)),velocity:getVelocity$1(ht,.1)}}function startDevicePoint$1(vt){return vt[0]}function lastDevicePoint$1(vt){return vt[vt.length-1]}function getVelocity$1(vt,ht){if(vt.length<2)return{x:0,y:0};let xt=vt.length-1,_t=null;const $t=lastDevicePoint$1(vt);for(;xt>=0&&(_t=vt[xt],!($t.timestamp-_t.timestamp>secondsToMilliseconds$1(ht)));)xt--;if(!_t)return{x:0,y:0};const wt=millisecondsToSeconds$1($t.timestamp-_t.timestamp);if(wt===0)return{x:0,y:0};const Ct={x:($t.x-_t.x)/wt,y:($t.y-_t.y)/wt};return Ct.x===1/0&&(Ct.x=0),Ct.y===1/0&&(Ct.y=0),Ct}function createLock$1(vt){let ht=null;return()=>{const xt=()=>{ht=null};return ht===null?(ht=vt,xt):!1}}const globalHorizontalLock$1=createLock$1("dragHorizontal"),globalVerticalLock$1=createLock$1("dragVertical");function getGlobalLock$1(vt){let ht=!1;if(vt==="y")ht=globalVerticalLock$1();else if(vt==="x")ht=globalHorizontalLock$1();else{const xt=globalHorizontalLock$1(),_t=globalVerticalLock$1();xt&&_t?ht=()=>{xt(),_t()}:(xt&&xt(),_t&&_t())}return ht}function isDragActive$1(){const vt=getGlobalLock$1(!0);return vt?(vt(),!1):!0}function isRefObject$1(vt){return vt&&typeof vt=="object"&&Object.prototype.hasOwnProperty.call(vt,"current")}const SCALE_PRECISION$1=1e-4,SCALE_MIN$1=1-SCALE_PRECISION$1,SCALE_MAX$1=1+SCALE_PRECISION$1,TRANSLATE_PRECISION$1=.01,TRANSLATE_MIN$1=0-TRANSLATE_PRECISION$1,TRANSLATE_MAX$1=0+TRANSLATE_PRECISION$1;function calcLength$1(vt){return vt.max-vt.min}function isNear$1(vt,ht,xt){return Math.abs(vt-ht)<=xt}function calcAxisDelta$1(vt,ht,xt,_t=.5){vt.origin=_t,vt.originPoint=mixNumber$3(ht.min,ht.max,vt.origin),vt.scale=calcLength$1(xt)/calcLength$1(ht),vt.translate=mixNumber$3(xt.min,xt.max,vt.origin)-vt.originPoint,(vt.scale>=SCALE_MIN$1&&vt.scale<=SCALE_MAX$1||isNaN(vt.scale))&&(vt.scale=1),(vt.translate>=TRANSLATE_MIN$1&&vt.translate<=TRANSLATE_MAX$1||isNaN(vt.translate))&&(vt.translate=0)}function calcBoxDelta$1(vt,ht,xt,_t){calcAxisDelta$1(vt.x,ht.x,xt.x,_t?_t.originX:void 0),calcAxisDelta$1(vt.y,ht.y,xt.y,_t?_t.originY:void 0)}function calcRelativeAxis$1(vt,ht,xt){vt.min=xt.min+ht.min,vt.max=vt.min+calcLength$1(ht)}function calcRelativeBox$1(vt,ht,xt){calcRelativeAxis$1(vt.x,ht.x,xt.x),calcRelativeAxis$1(vt.y,ht.y,xt.y)}function calcRelativeAxisPosition$1(vt,ht,xt){vt.min=ht.min-xt.min,vt.max=vt.min+calcLength$1(ht)}function calcRelativePosition$1(vt,ht,xt){calcRelativeAxisPosition$1(vt.x,ht.x,xt.x),calcRelativeAxisPosition$1(vt.y,ht.y,xt.y)}function applyConstraints$1(vt,{min:ht,max:xt},_t){return ht!==void 0&&vt<ht?vt=_t?mixNumber$3(ht,vt,_t.min):Math.max(vt,ht):xt!==void 0&&vt>xt&&(vt=_t?mixNumber$3(xt,vt,_t.max):Math.min(vt,xt)),vt}function calcRelativeAxisConstraints$1(vt,ht,xt){return{min:ht!==void 0?vt.min+ht:void 0,max:xt!==void 0?vt.max+xt-(vt.max-vt.min):void 0}}function calcRelativeConstraints$1(vt,{top:ht,left:xt,bottom:_t,right:$t}){return{x:calcRelativeAxisConstraints$1(vt.x,xt,$t),y:calcRelativeAxisConstraints$1(vt.y,ht,_t)}}function calcViewportAxisConstraints$1(vt,ht){let xt=ht.min-vt.min,_t=ht.max-vt.max;return ht.max-ht.min<vt.max-vt.min&&([xt,_t]=[_t,xt]),{min:xt,max:_t}}function calcViewportConstraints$1(vt,ht){return{x:calcViewportAxisConstraints$1(vt.x,ht.x),y:calcViewportAxisConstraints$1(vt.y,ht.y)}}function calcOrigin$3(vt,ht){let xt=.5;const _t=calcLength$1(vt),$t=calcLength$1(ht);return $t>_t?xt=progress$1(ht.min,ht.max-_t,vt.min):_t>$t&&(xt=progress$1(vt.min,vt.max-$t,ht.min)),clamp$2(0,1,xt)}function rebaseAxisConstraints$1(vt,ht){const xt={};return ht.min!==void 0&&(xt.min=ht.min-vt.min),ht.max!==void 0&&(xt.max=ht.max-vt.min),xt}const defaultElastic$1=.35;function resolveDragElastic$1(vt=defaultElastic$1){return vt===!1?vt=0:vt===!0&&(vt=defaultElastic$1),{x:resolveAxisElastic$1(vt,"left","right"),y:resolveAxisElastic$1(vt,"top","bottom")}}function resolveAxisElastic$1(vt,ht,xt){return{min:resolvePointElastic$1(vt,ht),max:resolvePointElastic$1(vt,xt)}}function resolvePointElastic$1(vt,ht){return typeof vt=="number"?vt:vt[ht]||0}const createAxisDelta$1=()=>({translate:0,scale:1,origin:0,originPoint:0}),createDelta$1=()=>({x:createAxisDelta$1(),y:createAxisDelta$1()}),createAxis$1=()=>({min:0,max:0}),createBox$1=()=>({x:createAxis$1(),y:createAxis$1()});function eachAxis$1(vt){return[vt("x"),vt("y")]}function convertBoundingBoxToBox$1({top:vt,left:ht,right:xt,bottom:_t}){return{x:{min:ht,max:xt},y:{min:vt,max:_t}}}function convertBoxToBoundingBox$1({x:vt,y:ht}){return{top:ht.min,right:vt.max,bottom:ht.max,left:vt.min}}function transformBoxPoints$1(vt,ht){if(!ht)return vt;const xt=ht({x:vt.left,y:vt.top}),_t=ht({x:vt.right,y:vt.bottom});return{top:xt.y,left:xt.x,bottom:_t.y,right:_t.x}}function isIdentityScale$1(vt){return vt===void 0||vt===1}function hasScale$1({scale:vt,scaleX:ht,scaleY:xt}){return!isIdentityScale$1(vt)||!isIdentityScale$1(ht)||!isIdentityScale$1(xt)}function hasTransform$1(vt){return hasScale$1(vt)||has2DTranslate$1(vt)||vt.z||vt.rotate||vt.rotateX||vt.rotateY||vt.skewX||vt.skewY}function has2DTranslate$1(vt){return is2DTranslate$1(vt.x)||is2DTranslate$1(vt.y)}function is2DTranslate$1(vt){return vt&&vt!=="0%"}function scalePoint$1(vt,ht,xt){const _t=vt-xt,$t=ht*_t;return xt+$t}function applyPointDelta$1(vt,ht,xt,_t,$t){return $t!==void 0&&(vt=scalePoint$1(vt,$t,_t)),scalePoint$1(vt,xt,_t)+ht}function applyAxisDelta$1(vt,ht=0,xt=1,_t,$t){vt.min=applyPointDelta$1(vt.min,ht,xt,_t,$t),vt.max=applyPointDelta$1(vt.max,ht,xt,_t,$t)}function applyBoxDelta$1(vt,{x:ht,y:xt}){applyAxisDelta$1(vt.x,ht.translate,ht.scale,ht.originPoint),applyAxisDelta$1(vt.y,xt.translate,xt.scale,xt.originPoint)}const TREE_SCALE_SNAP_MIN$1=.999999999999,TREE_SCALE_SNAP_MAX$1=1.0000000000001;function applyTreeDeltas$1(vt,ht,xt,_t=!1){const $t=xt.length;if(!$t)return;ht.x=ht.y=1;let wt,Ct;for(let Pt=0;Pt<$t;Pt++){wt=xt[Pt],Ct=wt.projectionDelta;const{visualElement:bt}=wt.options;bt&&bt.props.style&&bt.props.style.display==="contents"||(_t&&wt.options.layoutScroll&&wt.scroll&&wt!==wt.root&&transformBox$1(vt,{x:-wt.scroll.offset.x,y:-wt.scroll.offset.y}),Ct&&(ht.x*=Ct.x.scale,ht.y*=Ct.y.scale,applyBoxDelta$1(vt,Ct)),_t&&hasTransform$1(wt.latestValues)&&transformBox$1(vt,wt.latestValues))}ht.x<TREE_SCALE_SNAP_MAX$1&&ht.x>TREE_SCALE_SNAP_MIN$1&&(ht.x=1),ht.y<TREE_SCALE_SNAP_MAX$1&&ht.y>TREE_SCALE_SNAP_MIN$1&&(ht.y=1)}function translateAxis$1(vt,ht){vt.min=vt.min+ht,vt.max=vt.max+ht}function transformAxis$1(vt,ht,xt,_t,$t=.5){const wt=mixNumber$3(vt.min,vt.max,$t);applyAxisDelta$1(vt,ht,xt,wt,_t)}function transformBox$1(vt,ht){transformAxis$1(vt.x,ht.x,ht.scaleX,ht.scale,ht.originX),transformAxis$1(vt.y,ht.y,ht.scaleY,ht.scale,ht.originY)}function measureViewportBox$1(vt,ht){return convertBoundingBoxToBox$1(transformBoxPoints$1(vt.getBoundingClientRect(),ht))}function measurePageBox$1(vt,ht,xt){const _t=measureViewportBox$1(vt,xt),{scroll:$t}=ht;return $t&&(translateAxis$1(_t.x,$t.offset.x),translateAxis$1(_t.y,$t.offset.y)),_t}const getContextWindow$1=({current:vt})=>vt?vt.ownerDocument.defaultView:null,elementDragControls$1=new WeakMap;let VisualElementDragControls$1=class{constructor(ht){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=createBox$1(),this.visualElement=ht}start(ht,{snapToCursor:xt=!1}={}){const{presenceContext:_t}=this.visualElement;if(_t&&_t.isPresent===!1)return;const $t=Nt=>{const{dragSnapToOrigin:kt}=this.getProps();kt?this.pauseAnimation():this.stopAnimation(),xt&&this.snapToCursor(extractEventInfo$1(Nt,"page").point)},wt=(Nt,kt)=>{const{drag:Dt,dragPropagation:Ot,onDragStart:Lt}=this.getProps();if(Dt&&!Ot&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=getGlobalLock$1(Dt),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),eachAxis$1(Ut=>{let jt=this.getAxisMotionValue(Ut).get()||0;if(percent$1.test(jt)){const{projection:Vt}=this.visualElement;if(Vt&&Vt.layout){const Bt=Vt.layout.layoutBox[Ut];Bt&&(jt=calcLength$1(Bt)*(parseFloat(jt)/100))}}this.originPoint[Ut]=jt}),Lt&&frame$1.postRender(()=>Lt(Nt,kt)),addValueToWillChange$1(this.visualElement,"transform");const{animationState:Ft}=this.visualElement;Ft&&Ft.setActive("whileDrag",!0)},Ct=(Nt,kt)=>{const{dragPropagation:Dt,dragDirectionLock:Ot,onDirectionLock:Lt,onDrag:Ft}=this.getProps();if(!Dt&&!this.openGlobalLock)return;const{offset:Ut}=kt;if(Ot&&this.currentDirection===null){this.currentDirection=getCurrentDirection$1(Ut),this.currentDirection!==null&&Lt&&Lt(this.currentDirection);return}this.updateAxis("x",kt.point,Ut),this.updateAxis("y",kt.point,Ut),this.visualElement.render(),Ft&&Ft(Nt,kt)},Pt=(Nt,kt)=>this.stop(Nt,kt),bt=()=>eachAxis$1(Nt=>{var kt;return this.getAnimationState(Nt)==="paused"&&((kt=this.getAxisMotionValue(Nt).animation)===null||kt===void 0?void 0:kt.play())}),{dragSnapToOrigin:Rt}=this.getProps();this.panSession=new PanSession$1(ht,{onSessionStart:$t,onStart:wt,onMove:Ct,onSessionEnd:Pt,resumeAnimation:bt},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:Rt,contextWindow:getContextWindow$1(this.visualElement)})}stop(ht,xt){const _t=this.isDragging;if(this.cancel(),!_t)return;const{velocity:$t}=xt;this.startAnimation($t);const{onDragEnd:wt}=this.getProps();wt&&frame$1.postRender(()=>wt(ht,xt))}cancel(){this.isDragging=!1;const{projection:ht,animationState:xt}=this.visualElement;ht&&(ht.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:_t}=this.getProps();!_t&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),xt&&xt.setActive("whileDrag",!1)}updateAxis(ht,xt,_t){const{drag:$t}=this.getProps();if(!_t||!shouldDrag$1(ht,$t,this.currentDirection))return;const wt=this.getAxisMotionValue(ht);let Ct=this.originPoint[ht]+_t[ht];this.constraints&&this.constraints[ht]&&(Ct=applyConstraints$1(Ct,this.constraints[ht],this.elastic[ht])),wt.set(Ct)}resolveConstraints(){var ht;const{dragConstraints:xt,dragElastic:_t}=this.getProps(),$t=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(ht=this.visualElement.projection)===null||ht===void 0?void 0:ht.layout,wt=this.constraints;xt&&isRefObject$1(xt)?this.constraints||(this.constraints=this.resolveRefConstraints()):xt&&$t?this.constraints=calcRelativeConstraints$1($t.layoutBox,xt):this.constraints=!1,this.elastic=resolveDragElastic$1(_t),wt!==this.constraints&&$t&&this.constraints&&!this.hasMutatedConstraints&&eachAxis$1(Ct=>{this.constraints!==!1&&this.getAxisMotionValue(Ct)&&(this.constraints[Ct]=rebaseAxisConstraints$1($t.layoutBox[Ct],this.constraints[Ct]))})}resolveRefConstraints(){const{dragConstraints:ht,onMeasureDragConstraints:xt}=this.getProps();if(!ht||!isRefObject$1(ht))return!1;const _t=ht.current,{projection:$t}=this.visualElement;if(!$t||!$t.layout)return!1;const wt=measurePageBox$1(_t,$t.root,this.visualElement.getTransformPagePoint());let Ct=calcViewportConstraints$1($t.layout.layoutBox,wt);if(xt){const Pt=xt(convertBoxToBoundingBox$1(Ct));this.hasMutatedConstraints=!!Pt,Pt&&(Ct=convertBoundingBoxToBox$1(Pt))}return Ct}startAnimation(ht){const{drag:xt,dragMomentum:_t,dragElastic:$t,dragTransition:wt,dragSnapToOrigin:Ct,onDragTransitionEnd:Pt}=this.getProps(),bt=this.constraints||{},Rt=eachAxis$1(Nt=>{if(!shouldDrag$1(Nt,xt,this.currentDirection))return;let kt=bt&&bt[Nt]||{};Ct&&(kt={min:0,max:0});const Dt=$t?200:1e6,Ot=$t?40:1e7,Lt={type:"inertia",velocity:_t?ht[Nt]:0,bounceStiffness:Dt,bounceDamping:Ot,timeConstant:750,restDelta:1,restSpeed:10,...wt,...kt};return this.startAxisValueAnimation(Nt,Lt)});return Promise.all(Rt).then(Pt)}startAxisValueAnimation(ht,xt){const _t=this.getAxisMotionValue(ht);return addValueToWillChange$1(this.visualElement,ht),_t.start(animateMotionValue$1(ht,_t,0,xt,this.visualElement,!1))}stopAnimation(){eachAxis$1(ht=>this.getAxisMotionValue(ht).stop())}pauseAnimation(){eachAxis$1(ht=>{var xt;return(xt=this.getAxisMotionValue(ht).animation)===null||xt===void 0?void 0:xt.pause()})}getAnimationState(ht){var xt;return(xt=this.getAxisMotionValue(ht).animation)===null||xt===void 0?void 0:xt.state}getAxisMotionValue(ht){const xt=`_drag${ht.toUpperCase()}`,_t=this.visualElement.getProps(),$t=_t[xt];return $t||this.visualElement.getValue(ht,(_t.initial?_t.initial[ht]:void 0)||0)}snapToCursor(ht){eachAxis$1(xt=>{const{drag:_t}=this.getProps();if(!shouldDrag$1(xt,_t,this.currentDirection))return;const{projection:$t}=this.visualElement,wt=this.getAxisMotionValue(xt);if($t&&$t.layout){const{min:Ct,max:Pt}=$t.layout.layoutBox[xt];wt.set(ht[xt]-mixNumber$3(Ct,Pt,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:ht,dragConstraints:xt}=this.getProps(),{projection:_t}=this.visualElement;if(!isRefObject$1(xt)||!_t||!this.constraints)return;this.stopAnimation();const $t={x:0,y:0};eachAxis$1(Ct=>{const Pt=this.getAxisMotionValue(Ct);if(Pt&&this.constraints!==!1){const bt=Pt.get();$t[Ct]=calcOrigin$3({min:bt,max:bt},this.constraints[Ct])}});const{transformTemplate:wt}=this.visualElement.getProps();this.visualElement.current.style.transform=wt?wt({},""):"none",_t.root&&_t.root.updateScroll(),_t.updateLayout(),this.resolveConstraints(),eachAxis$1(Ct=>{if(!shouldDrag$1(Ct,ht,null))return;const Pt=this.getAxisMotionValue(Ct),{min:bt,max:Rt}=this.constraints[Ct];Pt.set(mixNumber$3(bt,Rt,$t[Ct]))})}addListeners(){if(!this.visualElement.current)return;elementDragControls$1.set(this.visualElement,this);const ht=this.visualElement.current,xt=addPointerEvent$1(ht,"pointerdown",bt=>{const{drag:Rt,dragListener:Nt=!0}=this.getProps();Rt&&Nt&&this.start(bt)}),_t=()=>{const{dragConstraints:bt}=this.getProps();isRefObject$1(bt)&&bt.current&&(this.constraints=this.resolveRefConstraints())},{projection:$t}=this.visualElement,wt=$t.addEventListener("measure",_t);$t&&!$t.layout&&($t.root&&$t.root.updateScroll(),$t.updateLayout()),frame$1.read(_t);const Ct=addDomEvent$1(window,"resize",()=>this.scalePositionWithinConstraints()),Pt=$t.addEventListener("didUpdate",({delta:bt,hasLayoutChanged:Rt})=>{this.isDragging&&Rt&&(eachAxis$1(Nt=>{const kt=this.getAxisMotionValue(Nt);kt&&(this.originPoint[Nt]+=bt[Nt].translate,kt.set(kt.get()+bt[Nt].translate))}),this.visualElement.render())});return()=>{Ct(),xt(),wt(),Pt&&Pt()}}getProps(){const ht=this.visualElement.getProps(),{drag:xt=!1,dragDirectionLock:_t=!1,dragPropagation:$t=!1,dragConstraints:wt=!1,dragElastic:Ct=defaultElastic$1,dragMomentum:Pt=!0}=ht;return{...ht,drag:xt,dragDirectionLock:_t,dragPropagation:$t,dragConstraints:wt,dragElastic:Ct,dragMomentum:Pt}}};function shouldDrag$1(vt,ht,xt){return(ht===!0||ht===vt)&&(xt===null||xt===vt)}function getCurrentDirection$1(vt,ht=10){let xt=null;return Math.abs(vt.y)>ht?xt="y":Math.abs(vt.x)>ht&&(xt="x"),xt}let DragGesture$1=class extends Feature$1{constructor(ht){super(ht),this.removeGroupControls=noop$1,this.removeListeners=noop$1,this.controls=new VisualElementDragControls$1(ht)}mount(){const{dragControls:ht}=this.node.getProps();ht&&(this.removeGroupControls=ht.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||noop$1}unmount(){this.removeGroupControls(),this.removeListeners()}};const asyncHandler$1=vt=>(ht,xt)=>{vt&&frame$1.postRender(()=>vt(ht,xt))};let PanGesture$1=class extends Feature$1{constructor(){super(...arguments),this.removePointerDownListener=noop$1}onPointerDown(ht){this.session=new PanSession$1(ht,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:getContextWindow$1(this.node)})}createPanHandlers(){const{onPanSessionStart:ht,onPanStart:xt,onPan:_t,onPanEnd:$t}=this.node.getProps();return{onSessionStart:asyncHandler$1(ht),onStart:asyncHandler$1(xt),onMove:_t,onEnd:(wt,Ct)=>{delete this.session,$t&&frame$1.postRender(()=>$t(wt,Ct))}}}mount(){this.removePointerDownListener=addPointerEvent$1(this.node.current,"pointerdown",ht=>this.onPointerDown(ht))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}};const PresenceContext$1=reactExports.createContext(null);function usePresence$1(){const vt=reactExports.useContext(PresenceContext$1);if(vt===null)return[!0,null];const{isPresent:ht,onExitComplete:xt,register:_t}=vt,$t=reactExports.useId();reactExports.useEffect(()=>_t($t),[]);const wt=reactExports.useCallback(()=>xt&&xt($t),[$t,xt]);return!ht&&xt?[!1,wt]:[!0]}const LayoutGroupContext$1=reactExports.createContext({}),SwitchLayoutGroupContext$1=reactExports.createContext({}),globalProjectionState$1={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function pixelsToPercent$1(vt,ht){return ht.max===ht.min?0:vt/(ht.max-ht.min)*100}const correctBorderRadius$1={correct:(vt,ht)=>{if(!ht.target)return vt;if(typeof vt=="string")if(px$1.test(vt))vt=parseFloat(vt);else return vt;const xt=pixelsToPercent$1(vt,ht.target.x),_t=pixelsToPercent$1(vt,ht.target.y);return`${xt}% ${_t}%`}},correctBoxShadow$1={correct:(vt,{treeScale:ht,projectionDelta:xt})=>{const _t=vt,$t=complex$1.parse(vt);if($t.length>5)return _t;const wt=complex$1.createTransformer(vt),Ct=typeof $t[0]!="number"?1:0,Pt=xt.x.scale*ht.x,bt=xt.y.scale*ht.y;$t[0+Ct]/=Pt,$t[1+Ct]/=bt;const Rt=mixNumber$3(Pt,bt,.5);return typeof $t[2+Ct]=="number"&&($t[2+Ct]/=Rt),typeof $t[3+Ct]=="number"&&($t[3+Ct]/=Rt),wt($t)}},scaleCorrectors$1={};function addScaleCorrector$1(vt){Object.assign(scaleCorrectors$1,vt)}const{schedule:microtask$1,cancel:cancelMicrotask$1}=createRenderBatcher$1(queueMicrotask,!1);let MeasureLayoutWithContext$1=class extends reactExports.Component{componentDidMount(){const{visualElement:ht,layoutGroup:xt,switchLayoutGroup:_t,layoutId:$t}=this.props,{projection:wt}=ht;addScaleCorrector$1(defaultScaleCorrectors$1),wt&&(xt.group&&xt.group.add(wt),_t&&_t.register&&$t&&_t.register(wt),wt.root.didUpdate(),wt.addEventListener("animationComplete",()=>{this.safeToRemove()}),wt.setOptions({...wt.options,onExitComplete:()=>this.safeToRemove()})),globalProjectionState$1.hasEverUpdated=!0}getSnapshotBeforeUpdate(ht){const{layoutDependency:xt,visualElement:_t,drag:$t,isPresent:wt}=this.props,Ct=_t.projection;return Ct&&(Ct.isPresent=wt,$t||ht.layoutDependency!==xt||xt===void 0?Ct.willUpdate():this.safeToRemove(),ht.isPresent!==wt&&(wt?Ct.promote():Ct.relegate()||frame$1.postRender(()=>{const Pt=Ct.getStack();(!Pt||!Pt.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:ht}=this.props.visualElement;ht&&(ht.root.didUpdate(),microtask$1.postRender(()=>{!ht.currentAnimation&&ht.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:ht,layoutGroup:xt,switchLayoutGroup:_t}=this.props,{projection:$t}=ht;$t&&($t.scheduleCheckAfterUnmount(),xt&&xt.group&&xt.group.remove($t),_t&&_t.deregister&&_t.deregister($t))}safeToRemove(){const{safeToRemove:ht}=this.props;ht&&ht()}render(){return null}};function MeasureLayout$1(vt){const[ht,xt]=usePresence$1(),_t=reactExports.useContext(LayoutGroupContext$1);return jsxRuntimeExports.jsx(MeasureLayoutWithContext$1,{...vt,layoutGroup:_t,switchLayoutGroup:reactExports.useContext(SwitchLayoutGroupContext$1),isPresent:ht,safeToRemove:xt})}const defaultScaleCorrectors$1={borderRadius:{...correctBorderRadius$1,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:correctBorderRadius$1,borderTopRightRadius:correctBorderRadius$1,borderBottomLeftRadius:correctBorderRadius$1,borderBottomRightRadius:correctBorderRadius$1,boxShadow:correctBoxShadow$1},borders$1=["TopLeft","TopRight","BottomLeft","BottomRight"],numBorders$1=borders$1.length,asNumber$1=vt=>typeof vt=="string"?parseFloat(vt):vt,isPx$1=vt=>typeof vt=="number"||px$1.test(vt);function mixValues$1(vt,ht,xt,_t,$t,wt){$t?(vt.opacity=mixNumber$3(0,xt.opacity!==void 0?xt.opacity:1,easeCrossfadeIn$1(_t)),vt.opacityExit=mixNumber$3(ht.opacity!==void 0?ht.opacity:1,0,easeCrossfadeOut$1(_t))):wt&&(vt.opacity=mixNumber$3(ht.opacity!==void 0?ht.opacity:1,xt.opacity!==void 0?xt.opacity:1,_t));for(let Ct=0;Ct<numBorders$1;Ct++){const Pt=`border${borders$1[Ct]}Radius`;let bt=getRadius$1(ht,Pt),Rt=getRadius$1(xt,Pt);if(bt===void 0&&Rt===void 0)continue;bt||(bt=0),Rt||(Rt=0),bt===0||Rt===0||isPx$1(bt)===isPx$1(Rt)?(vt[Pt]=Math.max(mixNumber$3(asNumber$1(bt),asNumber$1(Rt),_t),0),(percent$1.test(Rt)||percent$1.test(bt))&&(vt[Pt]+="%")):vt[Pt]=Rt}(ht.rotate||xt.rotate)&&(vt.rotate=mixNumber$3(ht.rotate||0,xt.rotate||0,_t))}function getRadius$1(vt,ht){return vt[ht]!==void 0?vt[ht]:vt.borderRadius}const easeCrossfadeIn$1=compress$1(0,.5,circOut$1),easeCrossfadeOut$1=compress$1(.5,.95,noop$1);function compress$1(vt,ht,xt){return _t=>_t<vt?0:_t>ht?1:xt(progress$1(vt,ht,_t))}function copyAxisInto$1(vt,ht){vt.min=ht.min,vt.max=ht.max}function copyBoxInto$1(vt,ht){copyAxisInto$1(vt.x,ht.x),copyAxisInto$1(vt.y,ht.y)}function copyAxisDeltaInto$1(vt,ht){vt.translate=ht.translate,vt.scale=ht.scale,vt.originPoint=ht.originPoint,vt.origin=ht.origin}function removePointDelta$1(vt,ht,xt,_t,$t){return vt-=ht,vt=scalePoint$1(vt,1/xt,_t),$t!==void 0&&(vt=scalePoint$1(vt,1/$t,_t)),vt}function removeAxisDelta$1(vt,ht=0,xt=1,_t=.5,$t,wt=vt,Ct=vt){if(percent$1.test(ht)&&(ht=parseFloat(ht),ht=mixNumber$3(Ct.min,Ct.max,ht/100)-Ct.min),typeof ht!="number")return;let Pt=mixNumber$3(wt.min,wt.max,_t);vt===wt&&(Pt-=ht),vt.min=removePointDelta$1(vt.min,ht,xt,Pt,$t),vt.max=removePointDelta$1(vt.max,ht,xt,Pt,$t)}function removeAxisTransforms$1(vt,ht,[xt,_t,$t],wt,Ct){removeAxisDelta$1(vt,ht[xt],ht[_t],ht[$t],ht.scale,wt,Ct)}const xKeys$1=["x","scaleX","originX"],yKeys$1=["y","scaleY","originY"];function removeBoxTransforms$1(vt,ht,xt,_t){removeAxisTransforms$1(vt.x,ht,xKeys$1,xt?xt.x:void 0,_t?_t.x:void 0),removeAxisTransforms$1(vt.y,ht,yKeys$1,xt?xt.y:void 0,_t?_t.y:void 0)}function isAxisDeltaZero$1(vt){return vt.translate===0&&vt.scale===1}function isDeltaZero$1(vt){return isAxisDeltaZero$1(vt.x)&&isAxisDeltaZero$1(vt.y)}function axisEquals$1(vt,ht){return vt.min===ht.min&&vt.max===ht.max}function boxEquals$1(vt,ht){return axisEquals$1(vt.x,ht.x)&&axisEquals$1(vt.y,ht.y)}function axisEqualsRounded$1(vt,ht){return Math.round(vt.min)===Math.round(ht.min)&&Math.round(vt.max)===Math.round(ht.max)}function boxEqualsRounded$1(vt,ht){return axisEqualsRounded$1(vt.x,ht.x)&&axisEqualsRounded$1(vt.y,ht.y)}function aspectRatio$1(vt){return calcLength$1(vt.x)/calcLength$1(vt.y)}function axisDeltaEquals$1(vt,ht){return vt.translate===ht.translate&&vt.scale===ht.scale&&vt.originPoint===ht.originPoint}let NodeStack$1=class{constructor(){this.members=[]}add(ht){addUniqueItem$1(this.members,ht),ht.scheduleRender()}remove(ht){if(removeItem$1(this.members,ht),ht===this.prevLead&&(this.prevLead=void 0),ht===this.lead){const xt=this.members[this.members.length-1];xt&&this.promote(xt)}}relegate(ht){const xt=this.members.findIndex($t=>ht===$t);if(xt===0)return!1;let _t;for(let $t=xt;$t>=0;$t--){const wt=this.members[$t];if(wt.isPresent!==!1){_t=wt;break}}return _t?(this.promote(_t),!0):!1}promote(ht,xt){const _t=this.lead;if(ht!==_t&&(this.prevLead=_t,this.lead=ht,ht.show(),_t)){_t.instance&&_t.scheduleRender(),ht.scheduleRender(),ht.resumeFrom=_t,xt&&(ht.resumeFrom.preserveOpacity=!0),_t.snapshot&&(ht.snapshot=_t.snapshot,ht.snapshot.latestValues=_t.animationValues||_t.latestValues),ht.root&&ht.root.isUpdating&&(ht.isLayoutDirty=!0);const{crossfade:$t}=ht.options;$t===!1&&_t.hide()}}exitAnimationComplete(){this.members.forEach(ht=>{const{options:xt,resumingFrom:_t}=ht;xt.onExitComplete&&xt.onExitComplete(),_t&&_t.options.onExitComplete&&_t.options.onExitComplete()})}scheduleRender(){this.members.forEach(ht=>{ht.instance&&ht.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}};function buildProjectionTransform$1(vt,ht,xt){let _t="";const $t=vt.x.translate/ht.x,wt=vt.y.translate/ht.y,Ct=(xt==null?void 0:xt.z)||0;if(($t||wt||Ct)&&(_t=`translate3d(${$t}px, ${wt}px, ${Ct}px) `),(ht.x!==1||ht.y!==1)&&(_t+=`scale(${1/ht.x}, ${1/ht.y}) `),xt){const{transformPerspective:Rt,rotate:Nt,rotateX:kt,rotateY:Dt,skewX:Ot,skewY:Lt}=xt;Rt&&(_t=`perspective(${Rt}px) ${_t}`),Nt&&(_t+=`rotate(${Nt}deg) `),kt&&(_t+=`rotateX(${kt}deg) `),Dt&&(_t+=`rotateY(${Dt}deg) `),Ot&&(_t+=`skewX(${Ot}deg) `),Lt&&(_t+=`skewY(${Lt}deg) `)}const Pt=vt.x.scale*ht.x,bt=vt.y.scale*ht.y;return(Pt!==1||bt!==1)&&(_t+=`scale(${Pt}, ${bt})`),_t||"none"}const compareByDepth$1=(vt,ht)=>vt.depth-ht.depth;let FlatTree$1=class{constructor(){this.children=[],this.isDirty=!1}add(ht){addUniqueItem$1(this.children,ht),this.isDirty=!0}remove(ht){removeItem$1(this.children,ht),this.isDirty=!0}forEach(ht){this.isDirty&&this.children.sort(compareByDepth$1),this.isDirty=!1,this.children.forEach(ht)}};function resolveMotionValue$1(vt){const ht=isMotionValue$1(vt)?vt.get():vt;return isCustomValue$1(ht)?ht.toValue():ht}function delay$1(vt,ht){const xt=time$1.now(),_t=({timestamp:$t})=>{const wt=$t-xt;wt>=ht&&(cancelFrame$1(_t),vt(wt-ht))};return frame$1.read(_t,!0),()=>cancelFrame$1(_t)}function isSVGElement$1(vt){return vt instanceof SVGElement&&vt.tagName!=="svg"}function animateSingleValue$1(vt,ht,xt){const _t=isMotionValue$1(vt)?vt:motionValue$1(vt);return _t.start(animateMotionValue$1("",_t,ht,xt)),_t.animation}const metrics$1={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},isDebug$1=typeof window<"u"&&window.MotionDebug!==void 0,transformAxes$1=["","X","Y","Z"],hiddenVisibility$1={visibility:"hidden"},animationTarget$1=1e3;let id$2=0;function resetDistortingTransform$1(vt,ht,xt,_t){const{latestValues:$t}=ht;$t[vt]&&(xt[vt]=$t[vt],ht.setStaticValue(vt,0),_t&&(_t[vt]=0))}function cancelTreeOptimisedTransformAnimations$1(vt){if(vt.hasCheckedOptimisedAppear=!0,vt.root===vt)return;const{visualElement:ht}=vt.options;if(!ht)return;const xt=getOptimisedAppearId$1(ht);if(window.MotionHasOptimisedAnimation(xt,"transform")){const{layout:$t,layoutId:wt}=vt.options;window.MotionCancelOptimisedAnimation(xt,"transform",frame$1,!($t||wt))}const{parent:_t}=vt;_t&&!_t.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations$1(_t)}function createProjectionNode$3({attachResizeListener:vt,defaultParent:ht,measureScroll:xt,checkIsScrollRoot:_t,resetTransform:$t}){return class{constructor(Ct={},Pt=ht==null?void 0:ht()){this.id=id$2++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,isDebug$1&&(metrics$1.totalNodes=metrics$1.resolvedTargetDeltas=metrics$1.recalculatedProjection=0),this.nodes.forEach(propagateDirtyNodes$1),this.nodes.forEach(resolveTargetDelta$1),this.nodes.forEach(calcProjection$1),this.nodes.forEach(cleanDirtyNodes$1),isDebug$1&&window.MotionDebug.record(metrics$1)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=Ct,this.root=Pt?Pt.root||Pt:this,this.path=Pt?[...Pt.path,Pt]:[],this.parent=Pt,this.depth=Pt?Pt.depth+1:0;for(let bt=0;bt<this.path.length;bt++)this.path[bt].shouldResetTransform=!0;this.root===this&&(this.nodes=new FlatTree$1)}addEventListener(Ct,Pt){return this.eventHandlers.has(Ct)||this.eventHandlers.set(Ct,new SubscriptionManager$1),this.eventHandlers.get(Ct).add(Pt)}notifyListeners(Ct,...Pt){const bt=this.eventHandlers.get(Ct);bt&&bt.notify(...Pt)}hasListeners(Ct){return this.eventHandlers.has(Ct)}mount(Ct,Pt=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=isSVGElement$1(Ct),this.instance=Ct;const{layoutId:bt,layout:Rt,visualElement:Nt}=this.options;if(Nt&&!Nt.current&&Nt.mount(Ct),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),Pt&&(Rt||bt)&&(this.isLayoutDirty=!0),vt){let kt;const Dt=()=>this.root.updateBlockedByResize=!1;vt(Ct,()=>{this.root.updateBlockedByResize=!0,kt&&kt(),kt=delay$1(Dt,250),globalProjectionState$1.hasAnimatedSinceResize&&(globalProjectionState$1.hasAnimatedSinceResize=!1,this.nodes.forEach(finishAnimation$1))})}bt&&this.root.registerSharedNode(bt,this),this.options.animate!==!1&&Nt&&(bt||Rt)&&this.addEventListener("didUpdate",({delta:kt,hasLayoutChanged:Dt,hasRelativeTargetChanged:Ot,layout:Lt})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const Ft=this.options.transition||Nt.getDefaultTransition()||defaultLayoutTransition$1,{onLayoutAnimationStart:Ut,onLayoutAnimationComplete:jt}=Nt.getProps(),Vt=!this.targetLayout||!boxEqualsRounded$1(this.targetLayout,Lt)||Ot,Bt=!Dt&&Ot;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||Bt||Dt&&(Vt||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(kt,Bt);const Wt={...getValueTransition$1(Ft,"layout"),onPlay:Ut,onComplete:jt};(Nt.shouldReduceMotion||this.options.layoutRoot)&&(Wt.delay=0,Wt.type=!1),this.startAnimation(Wt)}else Dt||finishAnimation$1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=Lt})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const Ct=this.getStack();Ct&&Ct.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,cancelFrame$1(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(resetSkewAndRotation$1),this.animationId++)}getTransformTemplate(){const{visualElement:Ct}=this.options;return Ct&&Ct.getProps().transformTemplate}willUpdate(Ct=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations$1(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let Nt=0;Nt<this.path.length;Nt++){const kt=this.path[Nt];kt.shouldResetTransform=!0,kt.updateScroll("snapshot"),kt.options.layoutRoot&&kt.willUpdate(!1)}const{layoutId:Pt,layout:bt}=this.options;if(Pt===void 0&&!bt)return;const Rt=this.getTransformTemplate();this.prevTransformTemplateValue=Rt?Rt(this.latestValues,""):void 0,this.updateSnapshot(),Ct&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(clearMeasurements$1);return}this.isUpdating||this.nodes.forEach(clearIsLayoutDirty$1),this.isUpdating=!1,this.nodes.forEach(resetTransformStyle$1),this.nodes.forEach(updateLayout$1),this.nodes.forEach(notifyLayoutUpdate$1),this.clearAllSnapshots();const Pt=time$1.now();frameData$1.delta=clamp$2(0,1e3/60,Pt-frameData$1.timestamp),frameData$1.timestamp=Pt,frameData$1.isProcessing=!0,frameSteps$1.update.process(frameData$1),frameSteps$1.preRender.process(frameData$1),frameSteps$1.render.process(frameData$1),frameData$1.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,microtask$1.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(clearSnapshot$1),this.sharedNodes.forEach(removeLeadSnapshots$1)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,frame$1.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){frame$1.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let bt=0;bt<this.path.length;bt++)this.path[bt].updateScroll();const Ct=this.layout;this.layout=this.measure(!1),this.layoutCorrected=createBox$1(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:Pt}=this.options;Pt&&Pt.notify("LayoutMeasure",this.layout.layoutBox,Ct?Ct.layoutBox:void 0)}updateScroll(Ct="measure"){let Pt=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===Ct&&(Pt=!1),Pt){const bt=_t(this.instance);this.scroll={animationId:this.root.animationId,phase:Ct,isRoot:bt,offset:xt(this.instance),wasRoot:this.scroll?this.scroll.isRoot:bt}}}resetTransform(){if(!$t)return;const Ct=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,Pt=this.projectionDelta&&!isDeltaZero$1(this.projectionDelta),bt=this.getTransformTemplate(),Rt=bt?bt(this.latestValues,""):void 0,Nt=Rt!==this.prevTransformTemplateValue;Ct&&(Pt||hasTransform$1(this.latestValues)||Nt)&&($t(this.instance,Rt),this.shouldResetTransform=!1,this.scheduleRender())}measure(Ct=!0){const Pt=this.measurePageBox();let bt=this.removeElementScroll(Pt);return Ct&&(bt=this.removeTransform(bt)),roundBox$1(bt),{animationId:this.root.animationId,measuredBox:Pt,layoutBox:bt,latestValues:{},source:this.id}}measurePageBox(){var Ct;const{visualElement:Pt}=this.options;if(!Pt)return createBox$1();const bt=Pt.measureViewportBox();if(!(((Ct=this.scroll)===null||Ct===void 0?void 0:Ct.wasRoot)||this.path.some(checkNodeWasScrollRoot$1))){const{scroll:Nt}=this.root;Nt&&(translateAxis$1(bt.x,Nt.offset.x),translateAxis$1(bt.y,Nt.offset.y))}return bt}removeElementScroll(Ct){var Pt;const bt=createBox$1();if(copyBoxInto$1(bt,Ct),!((Pt=this.scroll)===null||Pt===void 0)&&Pt.wasRoot)return bt;for(let Rt=0;Rt<this.path.length;Rt++){const Nt=this.path[Rt],{scroll:kt,options:Dt}=Nt;Nt!==this.root&&kt&&Dt.layoutScroll&&(kt.wasRoot&&copyBoxInto$1(bt,Ct),translateAxis$1(bt.x,kt.offset.x),translateAxis$1(bt.y,kt.offset.y))}return bt}applyTransform(Ct,Pt=!1){const bt=createBox$1();copyBoxInto$1(bt,Ct);for(let Rt=0;Rt<this.path.length;Rt++){const Nt=this.path[Rt];!Pt&&Nt.options.layoutScroll&&Nt.scroll&&Nt!==Nt.root&&transformBox$1(bt,{x:-Nt.scroll.offset.x,y:-Nt.scroll.offset.y}),hasTransform$1(Nt.latestValues)&&transformBox$1(bt,Nt.latestValues)}return hasTransform$1(this.latestValues)&&transformBox$1(bt,this.latestValues),bt}removeTransform(Ct){const Pt=createBox$1();copyBoxInto$1(Pt,Ct);for(let bt=0;bt<this.path.length;bt++){const Rt=this.path[bt];if(!Rt.instance||!hasTransform$1(Rt.latestValues))continue;hasScale$1(Rt.latestValues)&&Rt.updateSnapshot();const Nt=createBox$1(),kt=Rt.measurePageBox();copyBoxInto$1(Nt,kt),removeBoxTransforms$1(Pt,Rt.latestValues,Rt.snapshot?Rt.snapshot.layoutBox:void 0,Nt)}return hasTransform$1(this.latestValues)&&removeBoxTransforms$1(Pt,this.latestValues),Pt}setTargetDelta(Ct){this.targetDelta=Ct,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(Ct){this.options={...this.options,...Ct,crossfade:Ct.crossfade!==void 0?Ct.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==frameData$1.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(Ct=!1){var Pt;const bt=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=bt.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=bt.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=bt.isSharedProjectionDirty);const Rt=!!this.resumingFrom||this!==bt;if(!(Ct||Rt&&this.isSharedProjectionDirty||this.isProjectionDirty||!((Pt=this.parent)===null||Pt===void 0)&&Pt.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:kt,layoutId:Dt}=this.options;if(!(!this.layout||!(kt||Dt))){if(this.resolvedRelativeTargetAt=frameData$1.timestamp,!this.targetDelta&&!this.relativeTarget){const Ot=this.getClosestProjectingParent();Ot&&Ot.layout&&this.animationProgress!==1?(this.relativeParent=Ot,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox$1(),this.relativeTargetOrigin=createBox$1(),calcRelativePosition$1(this.relativeTargetOrigin,this.layout.layoutBox,Ot.layout.layoutBox),copyBoxInto$1(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=createBox$1(),this.targetWithTransforms=createBox$1()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),calcRelativeBox$1(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):copyBoxInto$1(this.target,this.layout.layoutBox),applyBoxDelta$1(this.target,this.targetDelta)):copyBoxInto$1(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const Ot=this.getClosestProjectingParent();Ot&&!!Ot.resumingFrom==!!this.resumingFrom&&!Ot.options.layoutScroll&&Ot.target&&this.animationProgress!==1?(this.relativeParent=Ot,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox$1(),this.relativeTargetOrigin=createBox$1(),calcRelativePosition$1(this.relativeTargetOrigin,this.target,Ot.target),copyBoxInto$1(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}isDebug$1&&metrics$1.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||hasScale$1(this.parent.latestValues)||has2DTranslate$1(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var Ct;const Pt=this.getLead(),bt=!!this.resumingFrom||this!==Pt;let Rt=!0;if((this.isProjectionDirty||!((Ct=this.parent)===null||Ct===void 0)&&Ct.isProjectionDirty)&&(Rt=!1),bt&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(Rt=!1),this.resolvedRelativeTargetAt===frameData$1.timestamp&&(Rt=!1),Rt)return;const{layout:Nt,layoutId:kt}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(Nt||kt))return;copyBoxInto$1(this.layoutCorrected,this.layout.layoutBox);const Dt=this.treeScale.x,Ot=this.treeScale.y;applyTreeDeltas$1(this.layoutCorrected,this.treeScale,this.path,bt),Pt.layout&&!Pt.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(Pt.target=Pt.layout.layoutBox,Pt.targetWithTransforms=createBox$1());const{target:Lt}=Pt;if(!Lt){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(copyAxisDeltaInto$1(this.prevProjectionDelta.x,this.projectionDelta.x),copyAxisDeltaInto$1(this.prevProjectionDelta.y,this.projectionDelta.y)),calcBoxDelta$1(this.projectionDelta,this.layoutCorrected,Lt,this.latestValues),(this.treeScale.x!==Dt||this.treeScale.y!==Ot||!axisDeltaEquals$1(this.projectionDelta.x,this.prevProjectionDelta.x)||!axisDeltaEquals$1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",Lt)),isDebug$1&&metrics$1.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(Ct=!0){var Pt;if((Pt=this.options.visualElement)===null||Pt===void 0||Pt.scheduleRender(),Ct){const bt=this.getStack();bt&&bt.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=createDelta$1(),this.projectionDelta=createDelta$1(),this.projectionDeltaWithTransform=createDelta$1()}setAnimationOrigin(Ct,Pt=!1){const bt=this.snapshot,Rt=bt?bt.latestValues:{},Nt={...this.latestValues},kt=createDelta$1();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!Pt;const Dt=createBox$1(),Ot=bt?bt.source:void 0,Lt=this.layout?this.layout.source:void 0,Ft=Ot!==Lt,Ut=this.getStack(),jt=!Ut||Ut.members.length<=1,Vt=!!(Ft&&!jt&&this.options.crossfade===!0&&!this.path.some(hasOpacityCrossfade$1));this.animationProgress=0;let Bt;this.mixTargetDelta=Wt=>{const zt=Wt/1e3;mixAxisDelta$1(kt.x,Ct.x,zt),mixAxisDelta$1(kt.y,Ct.y,zt),this.setTargetDelta(kt),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(calcRelativePosition$1(Dt,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mixBox$1(this.relativeTarget,this.relativeTargetOrigin,Dt,zt),Bt&&boxEquals$1(this.relativeTarget,Bt)&&(this.isProjectionDirty=!1),Bt||(Bt=createBox$1()),copyBoxInto$1(Bt,this.relativeTarget)),Ft&&(this.animationValues=Nt,mixValues$1(Nt,Rt,this.latestValues,zt,Vt,jt)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=zt},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(Ct){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(cancelFrame$1(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=frame$1.update(()=>{globalProjectionState$1.hasAnimatedSinceResize=!0,this.currentAnimation=animateSingleValue$1(0,animationTarget$1,{...Ct,onUpdate:Pt=>{this.mixTargetDelta(Pt),Ct.onUpdate&&Ct.onUpdate(Pt)},onComplete:()=>{Ct.onComplete&&Ct.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const Ct=this.getStack();Ct&&Ct.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(animationTarget$1),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const Ct=this.getLead();let{targetWithTransforms:Pt,target:bt,layout:Rt,latestValues:Nt}=Ct;if(!(!Pt||!bt||!Rt)){if(this!==Ct&&this.layout&&Rt&&shouldAnimatePositionOnly$1(this.options.animationType,this.layout.layoutBox,Rt.layoutBox)){bt=this.target||createBox$1();const kt=calcLength$1(this.layout.layoutBox.x);bt.x.min=Ct.target.x.min,bt.x.max=bt.x.min+kt;const Dt=calcLength$1(this.layout.layoutBox.y);bt.y.min=Ct.target.y.min,bt.y.max=bt.y.min+Dt}copyBoxInto$1(Pt,bt),transformBox$1(Pt,Nt),calcBoxDelta$1(this.projectionDeltaWithTransform,this.layoutCorrected,Pt,Nt)}}registerSharedNode(Ct,Pt){this.sharedNodes.has(Ct)||this.sharedNodes.set(Ct,new NodeStack$1),this.sharedNodes.get(Ct).add(Pt);const Rt=Pt.options.initialPromotionConfig;Pt.promote({transition:Rt?Rt.transition:void 0,preserveFollowOpacity:Rt&&Rt.shouldPreserveFollowOpacity?Rt.shouldPreserveFollowOpacity(Pt):void 0})}isLead(){const Ct=this.getStack();return Ct?Ct.lead===this:!0}getLead(){var Ct;const{layoutId:Pt}=this.options;return Pt?((Ct=this.getStack())===null||Ct===void 0?void 0:Ct.lead)||this:this}getPrevLead(){var Ct;const{layoutId:Pt}=this.options;return Pt?(Ct=this.getStack())===null||Ct===void 0?void 0:Ct.prevLead:void 0}getStack(){const{layoutId:Ct}=this.options;if(Ct)return this.root.sharedNodes.get(Ct)}promote({needsReset:Ct,transition:Pt,preserveFollowOpacity:bt}={}){const Rt=this.getStack();Rt&&Rt.promote(this,bt),Ct&&(this.projectionDelta=void 0,this.needsReset=!0),Pt&&this.setOptions({transition:Pt})}relegate(){const Ct=this.getStack();return Ct?Ct.relegate(this):!1}resetSkewAndRotation(){const{visualElement:Ct}=this.options;if(!Ct)return;let Pt=!1;const{latestValues:bt}=Ct;if((bt.z||bt.rotate||bt.rotateX||bt.rotateY||bt.rotateZ||bt.skewX||bt.skewY)&&(Pt=!0),!Pt)return;const Rt={};bt.z&&resetDistortingTransform$1("z",Ct,Rt,this.animationValues);for(let Nt=0;Nt<transformAxes$1.length;Nt++)resetDistortingTransform$1(`rotate${transformAxes$1[Nt]}`,Ct,Rt,this.animationValues),resetDistortingTransform$1(`skew${transformAxes$1[Nt]}`,Ct,Rt,this.animationValues);Ct.render();for(const Nt in Rt)Ct.setStaticValue(Nt,Rt[Nt]),this.animationValues&&(this.animationValues[Nt]=Rt[Nt]);Ct.scheduleRender()}getProjectionStyles(Ct){var Pt,bt;if(!this.instance||this.isSVG)return;if(!this.isVisible)return hiddenVisibility$1;const Rt={visibility:""},Nt=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,Rt.opacity="",Rt.pointerEvents=resolveMotionValue$1(Ct==null?void 0:Ct.pointerEvents)||"",Rt.transform=Nt?Nt(this.latestValues,""):"none",Rt;const kt=this.getLead();if(!this.projectionDelta||!this.layout||!kt.target){const Ft={};return this.options.layoutId&&(Ft.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,Ft.pointerEvents=resolveMotionValue$1(Ct==null?void 0:Ct.pointerEvents)||""),this.hasProjected&&!hasTransform$1(this.latestValues)&&(Ft.transform=Nt?Nt({},""):"none",this.hasProjected=!1),Ft}const Dt=kt.animationValues||kt.latestValues;this.applyTransformsToTarget(),Rt.transform=buildProjectionTransform$1(this.projectionDeltaWithTransform,this.treeScale,Dt),Nt&&(Rt.transform=Nt(Dt,Rt.transform));const{x:Ot,y:Lt}=this.projectionDelta;Rt.transformOrigin=`${Ot.origin*100}% ${Lt.origin*100}% 0`,kt.animationValues?Rt.opacity=kt===this?(bt=(Pt=Dt.opacity)!==null&&Pt!==void 0?Pt:this.latestValues.opacity)!==null&&bt!==void 0?bt:1:this.preserveOpacity?this.latestValues.opacity:Dt.opacityExit:Rt.opacity=kt===this?Dt.opacity!==void 0?Dt.opacity:"":Dt.opacityExit!==void 0?Dt.opacityExit:0;for(const Ft in scaleCorrectors$1){if(Dt[Ft]===void 0)continue;const{correct:Ut,applyTo:jt}=scaleCorrectors$1[Ft],Vt=Rt.transform==="none"?Dt[Ft]:Ut(Dt[Ft],kt);if(jt){const Bt=jt.length;for(let Wt=0;Wt<Bt;Wt++)Rt[jt[Wt]]=Vt}else Rt[Ft]=Vt}return this.options.layoutId&&(Rt.pointerEvents=kt===this?resolveMotionValue$1(Ct==null?void 0:Ct.pointerEvents)||"":"none"),Rt}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(Ct=>{var Pt;return(Pt=Ct.currentAnimation)===null||Pt===void 0?void 0:Pt.stop()}),this.root.nodes.forEach(clearMeasurements$1),this.root.sharedNodes.clear()}}}function updateLayout$1(vt){vt.updateLayout()}function notifyLayoutUpdate$1(vt){var ht;const xt=((ht=vt.resumeFrom)===null||ht===void 0?void 0:ht.snapshot)||vt.snapshot;if(vt.isLead()&&vt.layout&&xt&&vt.hasListeners("didUpdate")){const{layoutBox:_t,measuredBox:$t}=vt.layout,{animationType:wt}=vt.options,Ct=xt.source!==vt.layout.source;wt==="size"?eachAxis$1(kt=>{const Dt=Ct?xt.measuredBox[kt]:xt.layoutBox[kt],Ot=calcLength$1(Dt);Dt.min=_t[kt].min,Dt.max=Dt.min+Ot}):shouldAnimatePositionOnly$1(wt,xt.layoutBox,_t)&&eachAxis$1(kt=>{const Dt=Ct?xt.measuredBox[kt]:xt.layoutBox[kt],Ot=calcLength$1(_t[kt]);Dt.max=Dt.min+Ot,vt.relativeTarget&&!vt.currentAnimation&&(vt.isProjectionDirty=!0,vt.relativeTarget[kt].max=vt.relativeTarget[kt].min+Ot)});const Pt=createDelta$1();calcBoxDelta$1(Pt,_t,xt.layoutBox);const bt=createDelta$1();Ct?calcBoxDelta$1(bt,vt.applyTransform($t,!0),xt.measuredBox):calcBoxDelta$1(bt,_t,xt.layoutBox);const Rt=!isDeltaZero$1(Pt);let Nt=!1;if(!vt.resumeFrom){const kt=vt.getClosestProjectingParent();if(kt&&!kt.resumeFrom){const{snapshot:Dt,layout:Ot}=kt;if(Dt&&Ot){const Lt=createBox$1();calcRelativePosition$1(Lt,xt.layoutBox,Dt.layoutBox);const Ft=createBox$1();calcRelativePosition$1(Ft,_t,Ot.layoutBox),boxEqualsRounded$1(Lt,Ft)||(Nt=!0),kt.options.layoutRoot&&(vt.relativeTarget=Ft,vt.relativeTargetOrigin=Lt,vt.relativeParent=kt)}}}vt.notifyListeners("didUpdate",{layout:_t,snapshot:xt,delta:bt,layoutDelta:Pt,hasLayoutChanged:Rt,hasRelativeTargetChanged:Nt})}else if(vt.isLead()){const{onExitComplete:_t}=vt.options;_t&&_t()}vt.options.transition=void 0}function propagateDirtyNodes$1(vt){isDebug$1&&metrics$1.totalNodes++,vt.parent&&(vt.isProjecting()||(vt.isProjectionDirty=vt.parent.isProjectionDirty),vt.isSharedProjectionDirty||(vt.isSharedProjectionDirty=!!(vt.isProjectionDirty||vt.parent.isProjectionDirty||vt.parent.isSharedProjectionDirty)),vt.isTransformDirty||(vt.isTransformDirty=vt.parent.isTransformDirty))}function cleanDirtyNodes$1(vt){vt.isProjectionDirty=vt.isSharedProjectionDirty=vt.isTransformDirty=!1}function clearSnapshot$1(vt){vt.clearSnapshot()}function clearMeasurements$1(vt){vt.clearMeasurements()}function clearIsLayoutDirty$1(vt){vt.isLayoutDirty=!1}function resetTransformStyle$1(vt){const{visualElement:ht}=vt.options;ht&&ht.getProps().onBeforeLayoutMeasure&&ht.notify("BeforeLayoutMeasure"),vt.resetTransform()}function finishAnimation$1(vt){vt.finishAnimation(),vt.targetDelta=vt.relativeTarget=vt.target=void 0,vt.isProjectionDirty=!0}function resolveTargetDelta$1(vt){vt.resolveTargetDelta()}function calcProjection$1(vt){vt.calcProjection()}function resetSkewAndRotation$1(vt){vt.resetSkewAndRotation()}function removeLeadSnapshots$1(vt){vt.removeLeadSnapshot()}function mixAxisDelta$1(vt,ht,xt){vt.translate=mixNumber$3(ht.translate,0,xt),vt.scale=mixNumber$3(ht.scale,1,xt),vt.origin=ht.origin,vt.originPoint=ht.originPoint}function mixAxis$1(vt,ht,xt,_t){vt.min=mixNumber$3(ht.min,xt.min,_t),vt.max=mixNumber$3(ht.max,xt.max,_t)}function mixBox$1(vt,ht,xt,_t){mixAxis$1(vt.x,ht.x,xt.x,_t),mixAxis$1(vt.y,ht.y,xt.y,_t)}function hasOpacityCrossfade$1(vt){return vt.animationValues&&vt.animationValues.opacityExit!==void 0}const defaultLayoutTransition$1={duration:.45,ease:[.4,0,.1,1]},userAgentContains$1=vt=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(vt),roundPoint$1=userAgentContains$1("applewebkit/")&&!userAgentContains$1("chrome/")?Math.round:noop$1;function roundAxis$1(vt){vt.min=roundPoint$1(vt.min),vt.max=roundPoint$1(vt.max)}function roundBox$1(vt){roundAxis$1(vt.x),roundAxis$1(vt.y)}function shouldAnimatePositionOnly$1(vt,ht,xt){return vt==="position"||vt==="preserve-aspect"&&!isNear$1(aspectRatio$1(ht),aspectRatio$1(xt),.2)}function checkNodeWasScrollRoot$1(vt){var ht;return vt!==vt.root&&((ht=vt.scroll)===null||ht===void 0?void 0:ht.wasRoot)}const DocumentProjectionNode$1=createProjectionNode$3({attachResizeListener:(vt,ht)=>addDomEvent$1(vt,"resize",ht),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rootProjectionNode$1={current:void 0},HTMLProjectionNode$1=createProjectionNode$3({measureScroll:vt=>({x:vt.scrollLeft,y:vt.scrollTop}),defaultParent:()=>{if(!rootProjectionNode$1.current){const vt=new DocumentProjectionNode$1({});vt.mount(window),vt.setOptions({layoutScroll:!0}),rootProjectionNode$1.current=vt}return rootProjectionNode$1.current},resetTransform:(vt,ht)=>{vt.style.transform=ht!==void 0?ht:"none"},checkIsScrollRoot:vt=>window.getComputedStyle(vt).position==="fixed"}),drag$1={pan:{Feature:PanGesture$1},drag:{Feature:DragGesture$1,ProjectionNode:HTMLProjectionNode$1,MeasureLayout:MeasureLayout$1}};function addHoverEvent$1(vt,ht){const xt=ht?"pointerenter":"pointerleave",_t=ht?"onHoverStart":"onHoverEnd",$t=(wt,Ct)=>{if(wt.pointerType==="touch"||isDragActive$1())return;const Pt=vt.getProps();vt.animationState&&Pt.whileHover&&vt.animationState.setActive("whileHover",ht);const bt=Pt[_t];bt&&frame$1.postRender(()=>bt(wt,Ct))};return addPointerEvent$1(vt.current,xt,$t,{passive:!vt.getProps()[_t]})}let HoverGesture$1=class extends Feature$1{mount(){this.unmount=pipe$1(addHoverEvent$1(this.node,!0),addHoverEvent$1(this.node,!1))}unmount(){}},FocusGesture$1=class extends Feature$1{constructor(){super(...arguments),this.isActive=!1}onFocus(){let ht=!1;try{ht=this.node.current.matches(":focus-visible")}catch{ht=!0}!ht||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pipe$1(addDomEvent$1(this.node.current,"focus",()=>this.onFocus()),addDomEvent$1(this.node.current,"blur",()=>this.onBlur()))}unmount(){}};const isNodeOrChild$1=(vt,ht)=>ht?vt===ht?!0:isNodeOrChild$1(vt,ht.parentElement):!1;function fireSyntheticPointerEvent$1(vt,ht){if(!ht)return;const xt=new PointerEvent("pointer"+vt);ht(xt,extractEventInfo$1(xt))}let PressGesture$1=class extends Feature$1{constructor(){super(...arguments),this.removeStartListeners=noop$1,this.removeEndListeners=noop$1,this.removeAccessibleListeners=noop$1,this.startPointerPress=(ht,xt)=>{if(this.isPressing)return;this.removeEndListeners();const _t=this.node.getProps(),wt=addPointerEvent$1(window,"pointerup",(Pt,bt)=>{if(!this.checkPressEnd())return;const{onTap:Rt,onTapCancel:Nt,globalTapTarget:kt}=this.node.getProps(),Dt=!kt&&!isNodeOrChild$1(this.node.current,Pt.target)?Nt:Rt;Dt&&frame$1.update(()=>Dt(Pt,bt))},{passive:!(_t.onTap||_t.onPointerUp)}),Ct=addPointerEvent$1(window,"pointercancel",(Pt,bt)=>this.cancelPress(Pt,bt),{passive:!(_t.onTapCancel||_t.onPointerCancel)});this.removeEndListeners=pipe$1(wt,Ct),this.startPress(ht,xt)},this.startAccessiblePress=()=>{const ht=wt=>{if(wt.key!=="Enter"||this.isPressing)return;const Ct=Pt=>{Pt.key!=="Enter"||!this.checkPressEnd()||fireSyntheticPointerEvent$1("up",(bt,Rt)=>{const{onTap:Nt}=this.node.getProps();Nt&&frame$1.postRender(()=>Nt(bt,Rt))})};this.removeEndListeners(),this.removeEndListeners=addDomEvent$1(this.node.current,"keyup",Ct),fireSyntheticPointerEvent$1("down",(Pt,bt)=>{this.startPress(Pt,bt)})},xt=addDomEvent$1(this.node.current,"keydown",ht),_t=()=>{this.isPressing&&fireSyntheticPointerEvent$1("cancel",(wt,Ct)=>this.cancelPress(wt,Ct))},$t=addDomEvent$1(this.node.current,"blur",_t);this.removeAccessibleListeners=pipe$1(xt,$t)}}startPress(ht,xt){this.isPressing=!0;const{onTapStart:_t,whileTap:$t}=this.node.getProps();$t&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),_t&&frame$1.postRender(()=>_t(ht,xt))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!isDragActive$1()}cancelPress(ht,xt){if(!this.checkPressEnd())return;const{onTapCancel:_t}=this.node.getProps();_t&&frame$1.postRender(()=>_t(ht,xt))}mount(){const ht=this.node.getProps(),xt=addPointerEvent$1(ht.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(ht.onTapStart||ht.onPointerStart)}),_t=addDomEvent$1(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=pipe$1(xt,_t)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}};const observerCallbacks$1=new WeakMap,observers$1=new WeakMap,fireObserverCallback$1=vt=>{const ht=observerCallbacks$1.get(vt.target);ht&&ht(vt)},fireAllObserverCallbacks$1=vt=>{vt.forEach(fireObserverCallback$1)};function initIntersectionObserver$1({root:vt,...ht}){const xt=vt||document;observers$1.has(xt)||observers$1.set(xt,{});const _t=observers$1.get(xt),$t=JSON.stringify(ht);return _t[$t]||(_t[$t]=new IntersectionObserver(fireAllObserverCallbacks$1,{root:vt,...ht})),_t[$t]}function observeIntersection$1(vt,ht,xt){const _t=initIntersectionObserver$1(ht);return observerCallbacks$1.set(vt,xt),_t.observe(vt),()=>{observerCallbacks$1.delete(vt),_t.unobserve(vt)}}const thresholdNames$1={some:0,all:1};let InViewFeature$1=class extends Feature$1{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:ht={}}=this.node.getProps(),{root:xt,margin:_t,amount:$t="some",once:wt}=ht,Ct={root:xt?xt.current:void 0,rootMargin:_t,threshold:typeof $t=="number"?$t:thresholdNames$1[$t]},Pt=bt=>{const{isIntersecting:Rt}=bt;if(this.isInView===Rt||(this.isInView=Rt,wt&&!Rt&&this.hasEnteredView))return;Rt&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",Rt);const{onViewportEnter:Nt,onViewportLeave:kt}=this.node.getProps(),Dt=Rt?Nt:kt;Dt&&Dt(bt)};return observeIntersection$1(this.node.current,Ct,Pt)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:ht,prevProps:xt}=this.node;["amount","margin","root"].some(hasViewportOptionChanged$1(ht,xt))&&this.startObserver()}unmount(){}};function hasViewportOptionChanged$1({viewport:vt={}},{viewport:ht={}}={}){return xt=>vt[xt]!==ht[xt]}const gestureAnimations$1={inView:{Feature:InViewFeature$1},tap:{Feature:PressGesture$1},focus:{Feature:FocusGesture$1},hover:{Feature:HoverGesture$1}},layout$1={layout:{ProjectionNode:HTMLProjectionNode$1,MeasureLayout:MeasureLayout$1}},MotionConfigContext$1=reactExports.createContext({transformPagePoint:vt=>vt,isStatic:!1,reducedMotion:"never"}),MotionContext$1=reactExports.createContext({}),isBrowser$1=typeof window<"u",useIsomorphicLayoutEffect$1=isBrowser$1?reactExports.useLayoutEffect:reactExports.useEffect,LazyContext$1=reactExports.createContext({strict:!1});function useVisualElement$1(vt,ht,xt,_t,$t){var wt,Ct;const{visualElement:Pt}=reactExports.useContext(MotionContext$1),bt=reactExports.useContext(LazyContext$1),Rt=reactExports.useContext(PresenceContext$1),Nt=reactExports.useContext(MotionConfigContext$1).reducedMotion,kt=reactExports.useRef();_t=_t||bt.renderer,!kt.current&&_t&&(kt.current=_t(vt,{visualState:ht,parent:Pt,props:xt,presenceContext:Rt,blockInitialAnimation:Rt?Rt.initial===!1:!1,reducedMotionConfig:Nt}));const Dt=kt.current,Ot=reactExports.useContext(SwitchLayoutGroupContext$1);Dt&&!Dt.projection&&$t&&(Dt.type==="html"||Dt.type==="svg")&&createProjectionNode$2(kt.current,xt,$t,Ot);const Lt=reactExports.useRef(!1);reactExports.useInsertionEffect(()=>{Dt&&Lt.current&&Dt.update(xt,Rt)});const Ft=xt[optimizedAppearDataAttribute$1],Ut=reactExports.useRef(!!Ft&&!(!((wt=window.MotionHandoffIsComplete)===null||wt===void 0)&&wt.call(window,Ft))&&((Ct=window.MotionHasOptimisedAnimation)===null||Ct===void 0?void 0:Ct.call(window,Ft)));return useIsomorphicLayoutEffect$1(()=>{Dt&&(Lt.current=!0,window.MotionIsMounted=!0,Dt.updateFeatures(),microtask$1.render(Dt.render),Ut.current&&Dt.animationState&&Dt.animationState.animateChanges())}),reactExports.useEffect(()=>{Dt&&(!Ut.current&&Dt.animationState&&Dt.animationState.animateChanges(),Ut.current&&(queueMicrotask(()=>{var jt;(jt=window.MotionHandoffMarkAsComplete)===null||jt===void 0||jt.call(window,Ft)}),Ut.current=!1))}),Dt}function createProjectionNode$2(vt,ht,xt,_t){const{layoutId:$t,layout:wt,drag:Ct,dragConstraints:Pt,layoutScroll:bt,layoutRoot:Rt}=ht;vt.projection=new xt(vt.latestValues,ht["data-framer-portal-id"]?void 0:getClosestProjectingNode$1(vt.parent)),vt.projection.setOptions({layoutId:$t,layout:wt,alwaysMeasureLayout:!!Ct||Pt&&isRefObject$1(Pt),visualElement:vt,animationType:typeof wt=="string"?wt:"both",initialPromotionConfig:_t,layoutScroll:bt,layoutRoot:Rt})}function getClosestProjectingNode$1(vt){if(vt)return vt.options.allowProjection!==!1?vt.projection:getClosestProjectingNode$1(vt.parent)}function useMotionRef$1(vt,ht,xt){return reactExports.useCallback(_t=>{_t&&vt.mount&&vt.mount(_t),ht&&(_t?ht.mount(_t):ht.unmount()),xt&&(typeof xt=="function"?xt(_t):isRefObject$1(xt)&&(xt.current=_t))},[ht])}function isControllingVariants$1(vt){return isAnimationControls$1(vt.animate)||variantProps$1.some(ht=>isVariantLabel$1(vt[ht]))}function isVariantNode$1(vt){return!!(isControllingVariants$1(vt)||vt.variants)}function getCurrentTreeVariants$1(vt,ht){if(isControllingVariants$1(vt)){const{initial:xt,animate:_t}=vt;return{initial:xt===!1||isVariantLabel$1(xt)?xt:void 0,animate:isVariantLabel$1(_t)?_t:void 0}}return vt.inherit!==!1?ht:{}}function useCreateMotionContext$1(vt){const{initial:ht,animate:xt}=getCurrentTreeVariants$1(vt,reactExports.useContext(MotionContext$1));return reactExports.useMemo(()=>({initial:ht,animate:xt}),[variantLabelsAsDependency$1(ht),variantLabelsAsDependency$1(xt)])}function variantLabelsAsDependency$1(vt){return Array.isArray(vt)?vt.join(" "):vt}const featureProps$1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},featureDefinitions$1={};for(const vt in featureProps$1)featureDefinitions$1[vt]={isEnabled:ht=>featureProps$1[vt].some(xt=>!!ht[xt])};function loadFeatures$1(vt){for(const ht in vt)featureDefinitions$1[ht]={...featureDefinitions$1[ht],...vt[ht]}}const motionComponentSymbol$1=Symbol.for("motionComponentSymbol");function createRendererMotionComponent$1({preloadedFeatures:vt,createVisualElement:ht,useRender:xt,useVisualState:_t,Component:$t}){vt&&loadFeatures$1(vt);function wt(Pt,bt){let Rt;const Nt={...reactExports.useContext(MotionConfigContext$1),...Pt,layoutId:useLayoutId$1(Pt)},{isStatic:kt}=Nt,Dt=useCreateMotionContext$1(Pt),Ot=_t(Pt,kt);if(!kt&&isBrowser$1){useStrictMode$1();const Lt=getProjectionFunctionality$1(Nt);Rt=Lt.MeasureLayout,Dt.visualElement=useVisualElement$1($t,Ot,Nt,ht,Lt.ProjectionNode)}return jsxRuntimeExports.jsxs(MotionContext$1.Provider,{value:Dt,children:[Rt&&Dt.visualElement?jsxRuntimeExports.jsx(Rt,{visualElement:Dt.visualElement,...Nt}):null,xt($t,Pt,useMotionRef$1(Ot,Dt.visualElement,bt),Ot,kt,Dt.visualElement)]})}const Ct=reactExports.forwardRef(wt);return Ct[motionComponentSymbol$1]=$t,Ct}function useLayoutId$1({layoutId:vt}){const ht=reactExports.useContext(LayoutGroupContext$1).id;return ht&&vt!==void 0?ht+"-"+vt:vt}function useStrictMode$1(vt,ht){reactExports.useContext(LazyContext$1).strict}function getProjectionFunctionality$1(vt){const{drag:ht,layout:xt}=featureDefinitions$1;if(!ht&&!xt)return{};const _t={...ht,...xt};return{MeasureLayout:ht!=null&&ht.isEnabled(vt)||xt!=null&&xt.isEnabled(vt)?_t.MeasureLayout:void 0,ProjectionNode:_t.ProjectionNode}}const lowercaseSVGElements$1=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function isSVGComponent$1(vt){return typeof vt!="string"||vt.includes("-")?!1:!!(lowercaseSVGElements$1.indexOf(vt)>-1||/[A-Z]/u.test(vt))}function renderHTML$1(vt,{style:ht,vars:xt},_t,$t){Object.assign(vt.style,ht,$t&&$t.getProjectionStyles(_t));for(const wt in xt)vt.style.setProperty(wt,xt[wt])}const camelCaseAttributes$1=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function renderSVG$1(vt,ht,xt,_t){renderHTML$1(vt,ht,void 0,_t);for(const $t in ht.attrs)vt.setAttribute(camelCaseAttributes$1.has($t)?$t:camelToDash$1($t),ht.attrs[$t])}function isForcedMotionValue$1(vt,{layout:ht,layoutId:xt}){return transformProps$1.has(vt)||vt.startsWith("origin")||(ht||xt!==void 0)&&(!!scaleCorrectors$1[vt]||vt==="opacity")}function scrapeMotionValuesFromProps$3(vt,ht,xt){var _t;const{style:$t}=vt,wt={};for(const Ct in $t)(isMotionValue$1($t[Ct])||ht.style&&isMotionValue$1(ht.style[Ct])||isForcedMotionValue$1(Ct,vt)||((_t=xt==null?void 0:xt.getValue(Ct))===null||_t===void 0?void 0:_t.liveStyle)!==void 0)&&(wt[Ct]=$t[Ct]);return wt}function scrapeMotionValuesFromProps$2(vt,ht,xt){const _t=scrapeMotionValuesFromProps$3(vt,ht,xt);for(const $t in vt)if(isMotionValue$1(vt[$t])||isMotionValue$1(ht[$t])){const wt=transformPropOrder$1.indexOf($t)!==-1?"attr"+$t.charAt(0).toUpperCase()+$t.substring(1):$t;_t[wt]=vt[$t]}return _t}function useConstant$1(vt){const ht=reactExports.useRef(null);return ht.current===null&&(ht.current=vt()),ht.current}function makeState$1({scrapeMotionValuesFromProps:vt,createRenderState:ht,onMount:xt},_t,$t,wt){const Ct={latestValues:makeLatestValues$1(_t,$t,wt,vt),renderState:ht()};return xt&&(Ct.mount=Pt=>xt(_t,Pt,Ct)),Ct}const makeUseVisualState$1=vt=>(ht,xt)=>{const _t=reactExports.useContext(MotionContext$1),$t=reactExports.useContext(PresenceContext$1),wt=()=>makeState$1(vt,ht,_t,$t);return xt?wt():useConstant$1(wt)};function makeLatestValues$1(vt,ht,xt,_t){const $t={},wt=_t(vt,{});for(const Dt in wt)$t[Dt]=resolveMotionValue$1(wt[Dt]);let{initial:Ct,animate:Pt}=vt;const bt=isControllingVariants$1(vt),Rt=isVariantNode$1(vt);ht&&Rt&&!bt&&vt.inherit!==!1&&(Ct===void 0&&(Ct=ht.initial),Pt===void 0&&(Pt=ht.animate));let Nt=xt?xt.initial===!1:!1;Nt=Nt||Ct===!1;const kt=Nt?Pt:Ct;if(kt&&typeof kt!="boolean"&&!isAnimationControls$1(kt)){const Dt=Array.isArray(kt)?kt:[kt];for(let Ot=0;Ot<Dt.length;Ot++){const Lt=resolveVariantFromProps$1(vt,Dt[Ot]);if(Lt){const{transitionEnd:Ft,transition:Ut,...jt}=Lt;for(const Vt in jt){let Bt=jt[Vt];if(Array.isArray(Bt)){const Wt=Nt?Bt.length-1:0;Bt=Bt[Wt]}Bt!==null&&($t[Vt]=Bt)}for(const Vt in Ft)$t[Vt]=Ft[Vt]}}}return $t}const createHtmlRenderState$1=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),createSvgRenderState$1=()=>({...createHtmlRenderState$1(),attrs:{}}),getValueAsType$1=(vt,ht)=>ht&&typeof vt=="number"?ht.transform(vt):vt,translateAlias$1={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},numTransforms$1=transformPropOrder$1.length;function buildTransform$1(vt,ht,xt){let _t="",$t=!0;for(let wt=0;wt<numTransforms$1;wt++){const Ct=transformPropOrder$1[wt],Pt=vt[Ct];if(Pt===void 0)continue;let bt=!0;if(typeof Pt=="number"?bt=Pt===(Ct.startsWith("scale")?1:0):bt=parseFloat(Pt)===0,!bt||xt){const Rt=getValueAsType$1(Pt,numberValueTypes$1[Ct]);if(!bt){$t=!1;const Nt=translateAlias$1[Ct]||Ct;_t+=`${Nt}(${Rt}) `}xt&&(ht[Ct]=Rt)}}return _t=_t.trim(),xt?_t=xt(ht,$t?"":_t):$t&&(_t="none"),_t}function buildHTMLStyles$1(vt,ht,xt){const{style:_t,vars:$t,transformOrigin:wt}=vt;let Ct=!1,Pt=!1;for(const bt in ht){const Rt=ht[bt];if(transformProps$1.has(bt)){Ct=!0;continue}else if(isCSSVariableName$1(bt)){$t[bt]=Rt;continue}else{const Nt=getValueAsType$1(Rt,numberValueTypes$1[bt]);bt.startsWith("origin")?(Pt=!0,wt[bt]=Nt):_t[bt]=Nt}}if(ht.transform||(Ct||xt?_t.transform=buildTransform$1(ht,vt.transform,xt):_t.transform&&(_t.transform="none")),Pt){const{originX:bt="50%",originY:Rt="50%",originZ:Nt=0}=wt;_t.transformOrigin=`${bt} ${Rt} ${Nt}`}}function calcOrigin$2(vt,ht,xt){return typeof vt=="string"?vt:px$1.transform(ht+xt*vt)}function calcSVGTransformOrigin$1(vt,ht,xt){const _t=calcOrigin$2(ht,vt.x,vt.width),$t=calcOrigin$2(xt,vt.y,vt.height);return`${_t} ${$t}`}const dashKeys$1={offset:"stroke-dashoffset",array:"stroke-dasharray"},camelKeys$1={offset:"strokeDashoffset",array:"strokeDasharray"};function buildSVGPath$1(vt,ht,xt=1,_t=0,$t=!0){vt.pathLength=1;const wt=$t?dashKeys$1:camelKeys$1;vt[wt.offset]=px$1.transform(-_t);const Ct=px$1.transform(ht),Pt=px$1.transform(xt);vt[wt.array]=`${Ct} ${Pt}`}function buildSVGAttrs$1(vt,{attrX:ht,attrY:xt,attrScale:_t,originX:$t,originY:wt,pathLength:Ct,pathSpacing:Pt=1,pathOffset:bt=0,...Rt},Nt,kt){if(buildHTMLStyles$1(vt,Rt,kt),Nt){vt.style.viewBox&&(vt.attrs.viewBox=vt.style.viewBox);return}vt.attrs=vt.style,vt.style={};const{attrs:Dt,style:Ot,dimensions:Lt}=vt;Dt.transform&&(Lt&&(Ot.transform=Dt.transform),delete Dt.transform),Lt&&($t!==void 0||wt!==void 0||Ot.transform)&&(Ot.transformOrigin=calcSVGTransformOrigin$1(Lt,$t!==void 0?$t:.5,wt!==void 0?wt:.5)),ht!==void 0&&(Dt.x=ht),xt!==void 0&&(Dt.y=xt),_t!==void 0&&(Dt.scale=_t),Ct!==void 0&&buildSVGPath$1(Dt,Ct,Pt,bt,!1)}const isSVGTag$1=vt=>typeof vt=="string"&&vt.toLowerCase()==="svg",svgMotionConfig$1={useVisualState:makeUseVisualState$1({scrapeMotionValuesFromProps:scrapeMotionValuesFromProps$2,createRenderState:createSvgRenderState$1,onMount:(vt,ht,{renderState:xt,latestValues:_t})=>{frame$1.read(()=>{try{xt.dimensions=typeof ht.getBBox=="function"?ht.getBBox():ht.getBoundingClientRect()}catch{xt.dimensions={x:0,y:0,width:0,height:0}}}),frame$1.render(()=>{buildSVGAttrs$1(xt,_t,isSVGTag$1(ht.tagName),vt.transformTemplate),renderSVG$1(ht,xt)})}})},htmlMotionConfig$1={useVisualState:makeUseVisualState$1({scrapeMotionValuesFromProps:scrapeMotionValuesFromProps$3,createRenderState:createHtmlRenderState$1})};function copyRawValuesOnly$1(vt,ht,xt){for(const _t in ht)!isMotionValue$1(ht[_t])&&!isForcedMotionValue$1(_t,xt)&&(vt[_t]=ht[_t])}function useInitialMotionValues$1({transformTemplate:vt},ht){return reactExports.useMemo(()=>{const xt=createHtmlRenderState$1();return buildHTMLStyles$1(xt,ht,vt),Object.assign({},xt.vars,xt.style)},[ht])}function useStyle$1(vt,ht){const xt=vt.style||{},_t={};return copyRawValuesOnly$1(_t,xt,vt),Object.assign(_t,useInitialMotionValues$1(vt,ht)),_t}function useHTMLProps$1(vt,ht){const xt={},_t=useStyle$1(vt,ht);return vt.drag&&vt.dragListener!==!1&&(xt.draggable=!1,_t.userSelect=_t.WebkitUserSelect=_t.WebkitTouchCallout="none",_t.touchAction=vt.drag===!0?"none":`pan-${vt.drag==="x"?"y":"x"}`),vt.tabIndex===void 0&&(vt.onTap||vt.onTapStart||vt.whileTap)&&(xt.tabIndex=0),xt.style=_t,xt}const validMotionProps$1=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function isValidMotionProp$1(vt){return vt.startsWith("while")||vt.startsWith("drag")&&vt!=="draggable"||vt.startsWith("layout")||vt.startsWith("onTap")||vt.startsWith("onPan")||vt.startsWith("onLayout")||validMotionProps$1.has(vt)}let shouldForward$1=vt=>!isValidMotionProp$1(vt);function loadExternalIsValidProp$1(vt){vt&&(shouldForward$1=ht=>ht.startsWith("on")?!isValidMotionProp$1(ht):vt(ht))}try{loadExternalIsValidProp$1(require("@emotion/is-prop-valid").default)}catch{}function filterProps$1(vt,ht,xt){const _t={};for(const $t in vt)$t==="values"&&typeof vt.values=="object"||(shouldForward$1($t)||xt===!0&&isValidMotionProp$1($t)||!ht&&!isValidMotionProp$1($t)||vt.draggable&&$t.startsWith("onDrag"))&&(_t[$t]=vt[$t]);return _t}function useSVGProps$1(vt,ht,xt,_t){const $t=reactExports.useMemo(()=>{const wt=createSvgRenderState$1();return buildSVGAttrs$1(wt,ht,isSVGTag$1(_t),vt.transformTemplate),{...wt.attrs,style:{...wt.style}}},[ht]);if(vt.style){const wt={};copyRawValuesOnly$1(wt,vt.style,vt),$t.style={...wt,...$t.style}}return $t}function createUseRender$1(vt=!1){return(xt,_t,$t,{latestValues:wt},Ct)=>{const bt=(isSVGComponent$1(xt)?useSVGProps$1:useHTMLProps$1)(_t,wt,Ct,xt),Rt=filterProps$1(_t,typeof xt=="string",vt),Nt=xt!==reactExports.Fragment?{...Rt,...bt,ref:$t}:{},{children:kt}=_t,Dt=reactExports.useMemo(()=>isMotionValue$1(kt)?kt.get():kt,[kt]);return reactExports.createElement(xt,{...Nt,children:Dt})}}function createMotionComponentFactory$1(vt,ht){return function(_t,{forwardMotionProps:$t}={forwardMotionProps:!1}){const Ct={...isSVGComponent$1(_t)?svgMotionConfig$1:htmlMotionConfig$1,preloadedFeatures:vt,useRender:createUseRender$1($t),createVisualElement:ht,Component:_t};return createRendererMotionComponent$1(Ct)}}const prefersReducedMotion$1={current:null},hasReducedMotionListener$1={current:!1};function initPrefersReducedMotion$1(){if(hasReducedMotionListener$1.current=!0,!!isBrowser$1)if(window.matchMedia){const vt=window.matchMedia("(prefers-reduced-motion)"),ht=()=>prefersReducedMotion$1.current=vt.matches;vt.addListener(ht),ht()}else prefersReducedMotion$1.current=!1}function updateMotionValuesFromProps$1(vt,ht,xt){for(const _t in ht){const $t=ht[_t],wt=xt[_t];if(isMotionValue$1($t))vt.addValue(_t,$t);else if(isMotionValue$1(wt))vt.addValue(_t,motionValue$1($t,{owner:vt}));else if(wt!==$t)if(vt.hasValue(_t)){const Ct=vt.getValue(_t);Ct.liveStyle===!0?Ct.jump($t):Ct.hasAnimated||Ct.set($t)}else{const Ct=vt.getStaticValue(_t);vt.addValue(_t,motionValue$1(Ct!==void 0?Ct:$t,{owner:vt}))}}for(const _t in xt)ht[_t]===void 0&&vt.removeValue(_t);return ht}const visualElementStore$1=new WeakMap,valueTypes$1=[...dimensionValueTypes$1,color$1,complex$1],findValueType$1=vt=>valueTypes$1.find(testValueType$1(vt)),propEventHandlers$1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let VisualElement$1=class{scrapeMotionValuesFromProps(ht,xt,_t){return{}}constructor({parent:ht,props:xt,presenceContext:_t,reducedMotionConfig:$t,blockInitialAnimation:wt,visualState:Ct},Pt={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=KeyframeResolver$1,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const Dt=time$1.now();this.renderScheduledAt<Dt&&(this.renderScheduledAt=Dt,frame$1.render(this.render,!1,!0))};const{latestValues:bt,renderState:Rt}=Ct;this.latestValues=bt,this.baseTarget={...bt},this.initialValues=xt.initial?{...bt}:{},this.renderState=Rt,this.parent=ht,this.props=xt,this.presenceContext=_t,this.depth=ht?ht.depth+1:0,this.reducedMotionConfig=$t,this.options=Pt,this.blockInitialAnimation=!!wt,this.isControllingVariants=isControllingVariants$1(xt),this.isVariantNode=isVariantNode$1(xt),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(ht&&ht.current);const{willChange:Nt,...kt}=this.scrapeMotionValuesFromProps(xt,{},this);for(const Dt in kt){const Ot=kt[Dt];bt[Dt]!==void 0&&isMotionValue$1(Ot)&&Ot.set(bt[Dt],!1)}}mount(ht){this.current=ht,visualElementStore$1.set(ht,this),this.projection&&!this.projection.instance&&this.projection.mount(ht),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((xt,_t)=>this.bindToMotionValue(_t,xt)),hasReducedMotionListener$1.current||initPrefersReducedMotion$1(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:prefersReducedMotion$1.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){visualElementStore$1.delete(this.current),this.projection&&this.projection.unmount(),cancelFrame$1(this.notifyUpdate),cancelFrame$1(this.render),this.valueSubscriptions.forEach(ht=>ht()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const ht in this.events)this.events[ht].clear();for(const ht in this.features){const xt=this.features[ht];xt&&(xt.unmount(),xt.isMounted=!1)}this.current=null}bindToMotionValue(ht,xt){this.valueSubscriptions.has(ht)&&this.valueSubscriptions.get(ht)();const _t=transformProps$1.has(ht),$t=xt.on("change",Pt=>{this.latestValues[ht]=Pt,this.props.onUpdate&&frame$1.preRender(this.notifyUpdate),_t&&this.projection&&(this.projection.isTransformDirty=!0)}),wt=xt.on("renderRequest",this.scheduleRender);let Ct;window.MotionCheckAppearSync&&(Ct=window.MotionCheckAppearSync(this,ht,xt)),this.valueSubscriptions.set(ht,()=>{$t(),wt(),Ct&&Ct(),xt.owner&&xt.stop()})}sortNodePosition(ht){return!this.current||!this.sortInstanceNodePosition||this.type!==ht.type?0:this.sortInstanceNodePosition(this.current,ht.current)}updateFeatures(){let ht="animation";for(ht in featureDefinitions$1){const xt=featureDefinitions$1[ht];if(!xt)continue;const{isEnabled:_t,Feature:$t}=xt;if(!this.features[ht]&&$t&&_t(this.props)&&(this.features[ht]=new $t(this)),this.features[ht]){const wt=this.features[ht];wt.isMounted?wt.update():(wt.mount(),wt.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):createBox$1()}getStaticValue(ht){return this.latestValues[ht]}setStaticValue(ht,xt){this.latestValues[ht]=xt}update(ht,xt){(ht.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=ht,this.prevPresenceContext=this.presenceContext,this.presenceContext=xt;for(let _t=0;_t<propEventHandlers$1.length;_t++){const $t=propEventHandlers$1[_t];this.propEventSubscriptions[$t]&&(this.propEventSubscriptions[$t](),delete this.propEventSubscriptions[$t]);const wt="on"+$t,Ct=ht[wt];Ct&&(this.propEventSubscriptions[$t]=this.on($t,Ct))}this.prevMotionValues=updateMotionValuesFromProps$1(this,this.scrapeMotionValuesFromProps(ht,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(ht){return this.props.variants?this.props.variants[ht]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(ht){const xt=this.getClosestVariantNode();if(xt)return xt.variantChildren&&xt.variantChildren.add(ht),()=>xt.variantChildren.delete(ht)}addValue(ht,xt){const _t=this.values.get(ht);xt!==_t&&(_t&&this.removeValue(ht),this.bindToMotionValue(ht,xt),this.values.set(ht,xt),this.latestValues[ht]=xt.get())}removeValue(ht){this.values.delete(ht);const xt=this.valueSubscriptions.get(ht);xt&&(xt(),this.valueSubscriptions.delete(ht)),delete this.latestValues[ht],this.removeValueFromRenderState(ht,this.renderState)}hasValue(ht){return this.values.has(ht)}getValue(ht,xt){if(this.props.values&&this.props.values[ht])return this.props.values[ht];let _t=this.values.get(ht);return _t===void 0&&xt!==void 0&&(_t=motionValue$1(xt===null?void 0:xt,{owner:this}),this.addValue(ht,_t)),_t}readValue(ht,xt){var _t;let $t=this.latestValues[ht]!==void 0||!this.current?this.latestValues[ht]:(_t=this.getBaseTargetFromProps(this.props,ht))!==null&&_t!==void 0?_t:this.readValueFromInstance(this.current,ht,this.options);return $t!=null&&(typeof $t=="string"&&(isNumericalString$1($t)||isZeroValueString$1($t))?$t=parseFloat($t):!findValueType$1($t)&&complex$1.test(xt)&&($t=getAnimatableNone$2(ht,xt)),this.setBaseTarget(ht,isMotionValue$1($t)?$t.get():$t)),isMotionValue$1($t)?$t.get():$t}setBaseTarget(ht,xt){this.baseTarget[ht]=xt}getBaseTarget(ht){var xt;const{initial:_t}=this.props;let $t;if(typeof _t=="string"||typeof _t=="object"){const Ct=resolveVariantFromProps$1(this.props,_t,(xt=this.presenceContext)===null||xt===void 0?void 0:xt.custom);Ct&&($t=Ct[ht])}if(_t&&$t!==void 0)return $t;const wt=this.getBaseTargetFromProps(this.props,ht);return wt!==void 0&&!isMotionValue$1(wt)?wt:this.initialValues[ht]!==void 0&&$t===void 0?void 0:this.baseTarget[ht]}on(ht,xt){return this.events[ht]||(this.events[ht]=new SubscriptionManager$1),this.events[ht].add(xt)}notify(ht,...xt){this.events[ht]&&this.events[ht].notify(...xt)}},DOMVisualElement$1=class extends VisualElement$1{constructor(){super(...arguments),this.KeyframeResolver=DOMKeyframesResolver$1}sortInstanceNodePosition(ht,xt){return ht.compareDocumentPosition(xt)&2?1:-1}getBaseTargetFromProps(ht,xt){return ht.style?ht.style[xt]:void 0}removeValueFromRenderState(ht,{vars:xt,style:_t}){delete xt[ht],delete _t[ht]}};function getComputedStyle$3(vt){return window.getComputedStyle(vt)}let HTMLVisualElement$1=class extends DOMVisualElement$1{constructor(){super(...arguments),this.type="html",this.renderInstance=renderHTML$1}readValueFromInstance(ht,xt){if(transformProps$1.has(xt)){const _t=getDefaultValueType$1(xt);return _t&&_t.default||0}else{const _t=getComputedStyle$3(ht),$t=(isCSSVariableName$1(xt)?_t.getPropertyValue(xt):_t[xt])||0;return typeof $t=="string"?$t.trim():$t}}measureInstanceViewportBox(ht,{transformPagePoint:xt}){return measureViewportBox$1(ht,xt)}build(ht,xt,_t){buildHTMLStyles$1(ht,xt,_t.transformTemplate)}scrapeMotionValuesFromProps(ht,xt,_t){return scrapeMotionValuesFromProps$3(ht,xt,_t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:ht}=this.props;isMotionValue$1(ht)&&(this.childSubscription=ht.on("change",xt=>{this.current&&(this.current.textContent=`${xt}`)}))}},SVGVisualElement$1=class extends DOMVisualElement$1{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=createBox$1}getBaseTargetFromProps(ht,xt){return ht[xt]}readValueFromInstance(ht,xt){if(transformProps$1.has(xt)){const _t=getDefaultValueType$1(xt);return _t&&_t.default||0}return xt=camelCaseAttributes$1.has(xt)?xt:camelToDash$1(xt),ht.getAttribute(xt)}scrapeMotionValuesFromProps(ht,xt,_t){return scrapeMotionValuesFromProps$2(ht,xt,_t)}build(ht,xt,_t){buildSVGAttrs$1(ht,xt,this.isSVGTag,_t.transformTemplate)}renderInstance(ht,xt,_t,$t){renderSVG$1(ht,xt,_t,$t)}mount(ht){this.isSVGTag=isSVGTag$1(ht.tagName),super.mount(ht)}};const createDomVisualElement$1=(vt,ht)=>isSVGComponent$1(vt)?new SVGVisualElement$1(ht):new HTMLVisualElement$1(ht,{allowProjection:vt!==reactExports.Fragment}),createMotionComponent$1=createMotionComponentFactory$1({...animations$1,...gestureAnimations$1,...drag$1,...layout$1},createDomVisualElement$1),motion$1=createDOMMotionComponentProxy$1(createMotionComponent$1),$f0a04ccd8dbdd83b$export$e5c5a5f917a5871c=typeof document<"u"?U$4.useLayoutEffect:()=>{};function $8ae05eaa5c114e9c$export$7f54fc3180508a52(vt){const ht=reactExports.useRef(null);return $f0a04ccd8dbdd83b$export$e5c5a5f917a5871c(()=>{ht.current=vt},[vt]),reactExports.useCallback((...xt)=>{const _t=ht.current;return _t==null?void 0:_t(...xt)},[])}const $431fbd86ca7dc216$export$b204af158042fbac=vt=>{var ht;return(ht=vt==null?void 0:vt.ownerDocument)!==null&&ht!==void 0?ht:document},$431fbd86ca7dc216$export$f21a1ffae260145a=vt=>vt&&"window"in vt&&vt.window===vt?vt:$431fbd86ca7dc216$export$b204af158042fbac(vt).defaultView||window;function $c87311424ea30a05$var$testUserAgent(vt){var ht;return typeof window>"u"||window.navigator==null?!1:((ht=window.navigator.userAgentData)===null||ht===void 0?void 0:ht.brands.some(xt=>vt.test(xt.brand)))||vt.test(window.navigator.userAgent)}function $c87311424ea30a05$var$testPlatform(vt){var ht;return typeof window<"u"&&window.navigator!=null?vt.test(((ht=window.navigator.userAgentData)===null||ht===void 0?void 0:ht.platform)||window.navigator.platform):!1}function $c87311424ea30a05$var$cached(vt){let ht=null;return()=>(ht==null&&(ht=vt()),ht)}const $c87311424ea30a05$export$9ac100e40613ea10=$c87311424ea30a05$var$cached(function(){return $c87311424ea30a05$var$testPlatform(/^Mac/i)}),$c87311424ea30a05$export$a11b0059900ceec8=$c87311424ea30a05$var$cached(function(){return $c87311424ea30a05$var$testUserAgent(/Android/i)});function $6a7db85432448f7f$export$60278871457622de(vt){return vt.mozInputSource===0&&vt.isTrusted?!0:$c87311424ea30a05$export$a11b0059900ceec8()&&vt.pointerType?vt.type==="click"&&vt.buttons===1:vt.detail===0&&!vt.pointerType}class $8a9cb279dc87e130$export$905e7fc544a71f36{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(ht,xt){this.nativeEvent=xt,this.target=xt.target,this.currentTarget=xt.currentTarget,this.relatedTarget=xt.relatedTarget,this.bubbles=xt.bubbles,this.cancelable=xt.cancelable,this.defaultPrevented=xt.defaultPrevented,this.eventPhase=xt.eventPhase,this.isTrusted=xt.isTrusted,this.timeStamp=xt.timeStamp,this.type=ht}}function $8a9cb279dc87e130$export$715c682d09d639cc(vt){let ht=reactExports.useRef({isFocused:!1,observer:null});$f0a04ccd8dbdd83b$export$e5c5a5f917a5871c(()=>{const _t=ht.current;return()=>{_t.observer&&(_t.observer.disconnect(),_t.observer=null)}},[]);let xt=$8ae05eaa5c114e9c$export$7f54fc3180508a52(_t=>{vt==null||vt(_t)});return reactExports.useCallback(_t=>{if(_t.target instanceof HTMLButtonElement||_t.target instanceof HTMLInputElement||_t.target instanceof HTMLTextAreaElement||_t.target instanceof HTMLSelectElement){ht.current.isFocused=!0;let $t=_t.target,wt=Ct=>{ht.current.isFocused=!1,$t.disabled&&xt(new $8a9cb279dc87e130$export$905e7fc544a71f36("blur",Ct)),ht.current.observer&&(ht.current.observer.disconnect(),ht.current.observer=null)};$t.addEventListener("focusout",wt,{once:!0}),ht.current.observer=new MutationObserver(()=>{if(ht.current.isFocused&&$t.disabled){var Ct;(Ct=ht.current.observer)===null||Ct===void 0||Ct.disconnect();let Pt=$t===document.activeElement?null:document.activeElement;$t.dispatchEvent(new FocusEvent("blur",{relatedTarget:Pt})),$t.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:Pt}))}}),ht.current.observer.observe($t,{attributes:!0,attributeFilter:["disabled"]})}},[xt])}function $a1ea59d68270f0dd$export$f8168d8dd8fd66e6(vt){let{isDisabled:ht,onFocus:xt,onBlur:_t,onFocusChange:$t}=vt;const wt=reactExports.useCallback(bt=>{if(bt.target===bt.currentTarget)return _t&&_t(bt),$t&&$t(!1),!0},[_t,$t]),Ct=$8a9cb279dc87e130$export$715c682d09d639cc(wt),Pt=reactExports.useCallback(bt=>{const Rt=$431fbd86ca7dc216$export$b204af158042fbac(bt.target);bt.target===bt.currentTarget&&Rt.activeElement===bt.target&&(xt&&xt(bt),$t&&$t(!0),Ct(bt))},[$t,xt,Ct]);return{focusProps:{onFocus:!ht&&(xt||$t||_t)?Pt:void 0,onBlur:!ht&&(_t||$t)?wt:void 0}}}let $507fabe10e71c6fb$var$currentModality=null,$507fabe10e71c6fb$var$changeHandlers=new Set,$507fabe10e71c6fb$export$d90243b58daecda7=new Map,$507fabe10e71c6fb$var$hasEventBeforeFocus=!1,$507fabe10e71c6fb$var$hasBlurredWindowRecently=!1;const $507fabe10e71c6fb$var$FOCUS_VISIBLE_INPUT_KEYS={Tab:!0,Escape:!0};function $507fabe10e71c6fb$var$triggerChangeHandlers(vt,ht){for(let xt of $507fabe10e71c6fb$var$changeHandlers)xt(vt,ht)}function $507fabe10e71c6fb$var$isValidKey(vt){return!(vt.metaKey||!$c87311424ea30a05$export$9ac100e40613ea10()&&vt.altKey||vt.ctrlKey||vt.key==="Control"||vt.key==="Shift"||vt.key==="Meta")}function $507fabe10e71c6fb$var$handleKeyboardEvent(vt){$507fabe10e71c6fb$var$hasEventBeforeFocus=!0,$507fabe10e71c6fb$var$isValidKey(vt)&&($507fabe10e71c6fb$var$currentModality="keyboard",$507fabe10e71c6fb$var$triggerChangeHandlers("keyboard",vt))}function $507fabe10e71c6fb$var$handlePointerEvent(vt){$507fabe10e71c6fb$var$currentModality="pointer",(vt.type==="mousedown"||vt.type==="pointerdown")&&($507fabe10e71c6fb$var$hasEventBeforeFocus=!0,$507fabe10e71c6fb$var$triggerChangeHandlers("pointer",vt))}function $507fabe10e71c6fb$var$handleClickEvent(vt){$6a7db85432448f7f$export$60278871457622de(vt)&&($507fabe10e71c6fb$var$hasEventBeforeFocus=!0,$507fabe10e71c6fb$var$currentModality="virtual")}function $507fabe10e71c6fb$var$handleFocusEvent(vt){vt.target===window||vt.target===document||(!$507fabe10e71c6fb$var$hasEventBeforeFocus&&!$507fabe10e71c6fb$var$hasBlurredWindowRecently&&($507fabe10e71c6fb$var$currentModality="virtual",$507fabe10e71c6fb$var$triggerChangeHandlers("virtual",vt)),$507fabe10e71c6fb$var$hasEventBeforeFocus=!1,$507fabe10e71c6fb$var$hasBlurredWindowRecently=!1)}function $507fabe10e71c6fb$var$handleWindowBlur(){$507fabe10e71c6fb$var$hasEventBeforeFocus=!1,$507fabe10e71c6fb$var$hasBlurredWindowRecently=!0}function $507fabe10e71c6fb$var$setupGlobalFocusEvents(vt){if(typeof window>"u"||$507fabe10e71c6fb$export$d90243b58daecda7.get($431fbd86ca7dc216$export$f21a1ffae260145a(vt)))return;const ht=$431fbd86ca7dc216$export$f21a1ffae260145a(vt),xt=$431fbd86ca7dc216$export$b204af158042fbac(vt);let _t=ht.HTMLElement.prototype.focus;ht.HTMLElement.prototype.focus=function(){$507fabe10e71c6fb$var$hasEventBeforeFocus=!0,_t.apply(this,arguments)},xt.addEventListener("keydown",$507fabe10e71c6fb$var$handleKeyboardEvent,!0),xt.addEventListener("keyup",$507fabe10e71c6fb$var$handleKeyboardEvent,!0),xt.addEventListener("click",$507fabe10e71c6fb$var$handleClickEvent,!0),ht.addEventListener("focus",$507fabe10e71c6fb$var$handleFocusEvent,!0),ht.addEventListener("blur",$507fabe10e71c6fb$var$handleWindowBlur,!1),typeof PointerEvent<"u"?(xt.addEventListener("pointerdown",$507fabe10e71c6fb$var$handlePointerEvent,!0),xt.addEventListener("pointermove",$507fabe10e71c6fb$var$handlePointerEvent,!0),xt.addEventListener("pointerup",$507fabe10e71c6fb$var$handlePointerEvent,!0)):(xt.addEventListener("mousedown",$507fabe10e71c6fb$var$handlePointerEvent,!0),xt.addEventListener("mousemove",$507fabe10e71c6fb$var$handlePointerEvent,!0),xt.addEventListener("mouseup",$507fabe10e71c6fb$var$handlePointerEvent,!0)),ht.addEventListener("beforeunload",()=>{$507fabe10e71c6fb$var$tearDownWindowFocusTracking(vt)},{once:!0}),$507fabe10e71c6fb$export$d90243b58daecda7.set(ht,{focus:_t})}const $507fabe10e71c6fb$var$tearDownWindowFocusTracking=(vt,ht)=>{const xt=$431fbd86ca7dc216$export$f21a1ffae260145a(vt),_t=$431fbd86ca7dc216$export$b204af158042fbac(vt);ht&&_t.removeEventListener("DOMContentLoaded",ht),$507fabe10e71c6fb$export$d90243b58daecda7.has(xt)&&(xt.HTMLElement.prototype.focus=$507fabe10e71c6fb$export$d90243b58daecda7.get(xt).focus,_t.removeEventListener("keydown",$507fabe10e71c6fb$var$handleKeyboardEvent,!0),_t.removeEventListener("keyup",$507fabe10e71c6fb$var$handleKeyboardEvent,!0),_t.removeEventListener("click",$507fabe10e71c6fb$var$handleClickEvent,!0),xt.removeEventListener("focus",$507fabe10e71c6fb$var$handleFocusEvent,!0),xt.removeEventListener("blur",$507fabe10e71c6fb$var$handleWindowBlur,!1),typeof PointerEvent<"u"?(_t.removeEventListener("pointerdown",$507fabe10e71c6fb$var$handlePointerEvent,!0),_t.removeEventListener("pointermove",$507fabe10e71c6fb$var$handlePointerEvent,!0),_t.removeEventListener("pointerup",$507fabe10e71c6fb$var$handlePointerEvent,!0)):(_t.removeEventListener("mousedown",$507fabe10e71c6fb$var$handlePointerEvent,!0),_t.removeEventListener("mousemove",$507fabe10e71c6fb$var$handlePointerEvent,!0),_t.removeEventListener("mouseup",$507fabe10e71c6fb$var$handlePointerEvent,!0)),$507fabe10e71c6fb$export$d90243b58daecda7.delete(xt))};function $507fabe10e71c6fb$export$2f1888112f558a7d(vt){const ht=$431fbd86ca7dc216$export$b204af158042fbac(vt);let xt;return ht.readyState!=="loading"?$507fabe10e71c6fb$var$setupGlobalFocusEvents(vt):(xt=()=>{$507fabe10e71c6fb$var$setupGlobalFocusEvents(vt)},ht.addEventListener("DOMContentLoaded",xt)),()=>$507fabe10e71c6fb$var$tearDownWindowFocusTracking(vt,xt)}typeof document<"u"&&$507fabe10e71c6fb$export$2f1888112f558a7d();function $507fabe10e71c6fb$export$b9b3dfddab17db27(){return $507fabe10e71c6fb$var$currentModality!=="pointer"}const $507fabe10e71c6fb$var$nonTextInputTypes=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function $507fabe10e71c6fb$var$isKeyboardFocusEvent(vt,ht,xt){var _t;const $t=typeof window<"u"?$431fbd86ca7dc216$export$f21a1ffae260145a(xt==null?void 0:xt.target).HTMLInputElement:HTMLInputElement,wt=typeof window<"u"?$431fbd86ca7dc216$export$f21a1ffae260145a(xt==null?void 0:xt.target).HTMLTextAreaElement:HTMLTextAreaElement,Ct=typeof window<"u"?$431fbd86ca7dc216$export$f21a1ffae260145a(xt==null?void 0:xt.target).HTMLElement:HTMLElement,Pt=typeof window<"u"?$431fbd86ca7dc216$export$f21a1ffae260145a(xt==null?void 0:xt.target).KeyboardEvent:KeyboardEvent;return vt=vt||(xt==null?void 0:xt.target)instanceof $t&&!$507fabe10e71c6fb$var$nonTextInputTypes.has(xt==null||(_t=xt.target)===null||_t===void 0?void 0:_t.type)||(xt==null?void 0:xt.target)instanceof wt||(xt==null?void 0:xt.target)instanceof Ct&&(xt==null?void 0:xt.target.isContentEditable),!(vt&&ht==="keyboard"&&xt instanceof Pt&&!$507fabe10e71c6fb$var$FOCUS_VISIBLE_INPUT_KEYS[xt.key])}function $507fabe10e71c6fb$export$ec71b4b83ac08ec3(vt,ht,xt){$507fabe10e71c6fb$var$setupGlobalFocusEvents(),reactExports.useEffect(()=>{let _t=($t,wt)=>{$507fabe10e71c6fb$var$isKeyboardFocusEvent(!!(xt!=null&&xt.isTextInput),$t,wt)&&vt($507fabe10e71c6fb$export$b9b3dfddab17db27())};return $507fabe10e71c6fb$var$changeHandlers.add(_t),()=>{$507fabe10e71c6fb$var$changeHandlers.delete(_t)}},ht)}function $9ab94262bd0047c7$export$420e68273165f4ec(vt){let{isDisabled:ht,onBlurWithin:xt,onFocusWithin:_t,onFocusWithinChange:$t}=vt,wt=reactExports.useRef({isFocusWithin:!1}),Ct=reactExports.useCallback(Rt=>{wt.current.isFocusWithin&&!Rt.currentTarget.contains(Rt.relatedTarget)&&(wt.current.isFocusWithin=!1,xt&&xt(Rt),$t&&$t(!1))},[xt,$t,wt]),Pt=$8a9cb279dc87e130$export$715c682d09d639cc(Ct),bt=reactExports.useCallback(Rt=>{!wt.current.isFocusWithin&&document.activeElement===Rt.target&&(_t&&_t(Rt),$t&&$t(!0),wt.current.isFocusWithin=!0,Pt(Rt))},[_t,$t,Pt]);return ht?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:bt,onBlur:Ct}}}let $6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents=!1,$6179b936705e76d3$var$hoverCount=0;function $6179b936705e76d3$var$setGlobalIgnoreEmulatedMouseEvents(){$6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents=!0,setTimeout(()=>{$6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents=!1},50)}function $6179b936705e76d3$var$handleGlobalPointerEvent(vt){vt.pointerType==="touch"&&$6179b936705e76d3$var$setGlobalIgnoreEmulatedMouseEvents()}function $6179b936705e76d3$var$setupGlobalTouchEvents(){if(!(typeof document>"u"))return typeof PointerEvent<"u"?document.addEventListener("pointerup",$6179b936705e76d3$var$handleGlobalPointerEvent):document.addEventListener("touchend",$6179b936705e76d3$var$setGlobalIgnoreEmulatedMouseEvents),$6179b936705e76d3$var$hoverCount++,()=>{$6179b936705e76d3$var$hoverCount--,!($6179b936705e76d3$var$hoverCount>0)&&(typeof PointerEvent<"u"?document.removeEventListener("pointerup",$6179b936705e76d3$var$handleGlobalPointerEvent):document.removeEventListener("touchend",$6179b936705e76d3$var$setGlobalIgnoreEmulatedMouseEvents))}}function $6179b936705e76d3$export$ae780daf29e6d456(vt){let{onHoverStart:ht,onHoverChange:xt,onHoverEnd:_t,isDisabled:$t}=vt,[wt,Ct]=reactExports.useState(!1),Pt=reactExports.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;reactExports.useEffect($6179b936705e76d3$var$setupGlobalTouchEvents,[]);let{hoverProps:bt,triggerHoverEnd:Rt}=reactExports.useMemo(()=>{let Nt=(Ot,Lt)=>{if(Pt.pointerType=Lt,$t||Lt==="touch"||Pt.isHovered||!Ot.currentTarget.contains(Ot.target))return;Pt.isHovered=!0;let Ft=Ot.currentTarget;Pt.target=Ft,ht&&ht({type:"hoverstart",target:Ft,pointerType:Lt}),xt&&xt(!0),Ct(!0)},kt=(Ot,Lt)=>{if(Pt.pointerType="",Pt.target=null,Lt==="touch"||!Pt.isHovered)return;Pt.isHovered=!1;let Ft=Ot.currentTarget;_t&&_t({type:"hoverend",target:Ft,pointerType:Lt}),xt&&xt(!1),Ct(!1)},Dt={};return typeof PointerEvent<"u"?(Dt.onPointerEnter=Ot=>{$6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents&&Ot.pointerType==="mouse"||Nt(Ot,Ot.pointerType)},Dt.onPointerLeave=Ot=>{!$t&&Ot.currentTarget.contains(Ot.target)&&kt(Ot,Ot.pointerType)}):(Dt.onTouchStart=()=>{Pt.ignoreEmulatedMouseEvents=!0},Dt.onMouseEnter=Ot=>{!Pt.ignoreEmulatedMouseEvents&&!$6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents&&Nt(Ot,"mouse"),Pt.ignoreEmulatedMouseEvents=!1},Dt.onMouseLeave=Ot=>{!$t&&Ot.currentTarget.contains(Ot.target)&&kt(Ot,"mouse")}),{hoverProps:Dt,triggerHoverEnd:kt}},[ht,xt,_t,$t,Pt]);return reactExports.useEffect(()=>{$t&&Rt({currentTarget:Pt.target},Pt.pointerType)},[$t]),{hoverProps:bt,isHovered:wt}}function $f7dceffc5ad7768b$export$4e328f61c538687f(vt={}){let{autoFocus:ht=!1,isTextInput:xt,within:_t}=vt,$t=reactExports.useRef({isFocused:!1,isFocusVisible:ht||$507fabe10e71c6fb$export$b9b3dfddab17db27()}),[wt,Ct]=reactExports.useState(!1),[Pt,bt]=reactExports.useState(()=>$t.current.isFocused&&$t.current.isFocusVisible),Rt=reactExports.useCallback(()=>bt($t.current.isFocused&&$t.current.isFocusVisible),[]),Nt=reactExports.useCallback(Ot=>{$t.current.isFocused=Ot,Ct(Ot),Rt()},[Rt]);$507fabe10e71c6fb$export$ec71b4b83ac08ec3(Ot=>{$t.current.isFocusVisible=Ot,Rt()},[],{isTextInput:xt});let{focusProps:kt}=$a1ea59d68270f0dd$export$f8168d8dd8fd66e6({isDisabled:_t,onFocusChange:Nt}),{focusWithinProps:Dt}=$9ab94262bd0047c7$export$420e68273165f4ec({isDisabled:!_t,onFocusWithinChange:Nt});return{isFocused:wt,isFocusVisible:Pt,focusProps:_t?Dt:kt}}var i$4=Object.defineProperty,d$3=(vt,ht,xt)=>ht in vt?i$4(vt,ht,{enumerable:!0,configurable:!0,writable:!0,value:xt}):vt[ht]=xt,r$2=(vt,ht,xt)=>(d$3(vt,typeof ht!="symbol"?ht+"":ht,xt),xt);let o$5=class{constructor(){r$2(this,"current",this.detect()),r$2(this,"handoffState","pending"),r$2(this,"currentId",0)}set(ht){this.current!==ht&&(this.handoffState="pending",this.currentId=0,this.current=ht)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},s$5=new o$5;function u$7(vt){return s$5.isServer?null:vt instanceof Node?vt.ownerDocument:vt!=null&&vt.hasOwnProperty("current")&&vt.current instanceof Node?vt.current.ownerDocument:document}function t$3(vt){typeof queueMicrotask=="function"?queueMicrotask(vt):Promise.resolve().then(vt).catch(ht=>setTimeout(()=>{throw ht}))}function o$4(){let vt=[],ht={addEventListener(xt,_t,$t,wt){return xt.addEventListener(_t,$t,wt),ht.add(()=>xt.removeEventListener(_t,$t,wt))},requestAnimationFrame(...xt){let _t=requestAnimationFrame(...xt);return ht.add(()=>cancelAnimationFrame(_t))},nextFrame(...xt){return ht.requestAnimationFrame(()=>ht.requestAnimationFrame(...xt))},setTimeout(...xt){let _t=setTimeout(...xt);return ht.add(()=>clearTimeout(_t))},microTask(...xt){let _t={current:!0};return t$3(()=>{_t.current&&xt[0]()}),ht.add(()=>{_t.current=!1})},style(xt,_t,$t){let wt=xt.style.getPropertyValue(_t);return Object.assign(xt.style,{[_t]:$t}),this.add(()=>{Object.assign(xt.style,{[_t]:wt})})},group(xt){let _t=o$4();return xt(_t),this.add(()=>_t.dispose())},add(xt){return vt.includes(xt)||vt.push(xt),()=>{let _t=vt.indexOf(xt);if(_t>=0)for(let $t of vt.splice(_t,1))$t()}},dispose(){for(let xt of vt.splice(0))xt()}};return ht}function p$2(){let[vt]=reactExports.useState(o$4);return reactExports.useEffect(()=>()=>vt.dispose(),[vt]),vt}let n$3=(vt,ht)=>{s$5.isServer?reactExports.useEffect(vt,ht):reactExports.useLayoutEffect(vt,ht)};function s$4(vt){let ht=reactExports.useRef(vt);return n$3(()=>{ht.current=vt},[vt]),ht}let o$3=function(vt){let ht=s$4(vt);return U$4.useCallback((...xt)=>ht.current(...xt),[ht])};function E$1(vt){let ht=vt.width/2,xt=vt.height/2;return{top:vt.clientY-xt,right:vt.clientX+ht,bottom:vt.clientY+xt,left:vt.clientX-ht}}function P$3(vt,ht){return!(!vt||!ht||vt.right<ht.left||vt.left>ht.right||vt.bottom<ht.top||vt.top>ht.bottom)}function w$4({disabled:vt=!1}={}){let ht=reactExports.useRef(null),[xt,_t]=reactExports.useState(!1),$t=p$2(),wt=o$3(()=>{ht.current=null,_t(!1),$t.dispose()}),Ct=o$3(Pt=>{if($t.dispose(),ht.current===null){ht.current=Pt.currentTarget,_t(!0);{let bt=u$7(Pt.currentTarget);$t.addEventListener(bt,"pointerup",wt,!1),$t.addEventListener(bt,"pointermove",Rt=>{if(ht.current){let Nt=E$1(Rt);_t(P$3(Nt,ht.current.getBoundingClientRect()))}},!1),$t.addEventListener(bt,"pointercancel",wt,!1)}}});return{pressed:xt,pressProps:vt?{}:{onPointerDown:Ct,onPointerUp:wt,onClick:wt}}}let e$3=reactExports.createContext(void 0);function a$7(){return reactExports.useContext(e$3)}function t$2(...vt){return Array.from(new Set(vt.flatMap(ht=>typeof ht=="string"?ht.split(" "):[]))).filter(Boolean).join(" ")}function u$6(vt,ht,...xt){if(vt in ht){let $t=ht[vt];return typeof $t=="function"?$t(...xt):$t}let _t=new Error(`Tried to handle "${vt}" but there is no handler defined. Only defined handlers are: ${Object.keys(ht).map($t=>`"${$t}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(_t,u$6),_t}var O$1=(vt=>(vt[vt.None=0]="None",vt[vt.RenderStrategy=1]="RenderStrategy",vt[vt.Static=2]="Static",vt))(O$1||{}),A$1=(vt=>(vt[vt.Unmount=0]="Unmount",vt[vt.Hidden=1]="Hidden",vt))(A$1||{});function L$1(){let vt=U$2();return reactExports.useCallback(ht=>C$2({mergeRefs:vt,...ht}),[vt])}function C$2({ourProps:vt,theirProps:ht,slot:xt,defaultTag:_t,features:$t,visible:wt=!0,name:Ct,mergeRefs:Pt}){Pt=Pt??$;let bt=P$2(ht,vt);if(wt)return F$2(bt,xt,_t,Ct,Pt);let Rt=$t??0;if(Rt&2){let{static:Nt=!1,...kt}=bt;if(Nt)return F$2(kt,xt,_t,Ct,Pt)}if(Rt&1){let{unmount:Nt=!0,...kt}=bt;return u$6(Nt?0:1,{0(){return null},1(){return F$2({...kt,hidden:!0,style:{display:"none"}},xt,_t,Ct,Pt)}})}return F$2(bt,xt,_t,Ct,Pt)}function F$2(vt,ht={},xt,_t,$t){let{as:wt=xt,children:Ct,refName:Pt="ref",...bt}=h$2(vt,["unmount","static"]),Rt=vt.ref!==void 0?{[Pt]:vt.ref}:{},Nt=typeof Ct=="function"?Ct(ht):Ct;"className"in bt&&bt.className&&typeof bt.className=="function"&&(bt.className=bt.className(ht)),bt["aria-labelledby"]&&bt["aria-labelledby"]===bt.id&&(bt["aria-labelledby"]=void 0);let kt={};if(ht){let Dt=!1,Ot=[];for(let[Lt,Ft]of Object.entries(ht))typeof Ft=="boolean"&&(Dt=!0),Ft===!0&&Ot.push(Lt.replace(/([A-Z])/g,Ut=>`-${Ut.toLowerCase()}`));if(Dt){kt["data-headlessui-state"]=Ot.join(" ");for(let Lt of Ot)kt[`data-${Lt}`]=""}}if(wt===reactExports.Fragment&&(Object.keys(m$3(bt)).length>0||Object.keys(m$3(kt)).length>0))if(!reactExports.isValidElement(Nt)||Array.isArray(Nt)&&Nt.length>1){if(Object.keys(m$3(bt)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${_t} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(m$3(bt)).concat(Object.keys(m$3(kt))).map(Dt=>`  - ${Dt}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(Dt=>`  - ${Dt}`).join(`
`)].join(`
`))}else{let Dt=Nt.props,Ot=Dt==null?void 0:Dt.className,Lt=typeof Ot=="function"?(...jt)=>t$2(Ot(...jt),bt.className):t$2(Ot,bt.className),Ft=Lt?{className:Lt}:{},Ut=P$2(Nt.props,m$3(h$2(bt,["ref"])));for(let jt in kt)jt in Ut&&delete kt[jt];return reactExports.cloneElement(Nt,Object.assign({},Ut,kt,Rt,{ref:$t(H$2(Nt),Rt.ref)},Ft))}return reactExports.createElement(wt,Object.assign({},h$2(bt,["ref"]),wt!==reactExports.Fragment&&Rt,wt!==reactExports.Fragment&&kt),Nt)}function U$2(){let vt=reactExports.useRef([]),ht=reactExports.useCallback(xt=>{for(let _t of vt.current)_t!=null&&(typeof _t=="function"?_t(xt):_t.current=xt)},[]);return(...xt)=>{if(!xt.every(_t=>_t==null))return vt.current=xt,ht}}function $(...vt){return vt.every(ht=>ht==null)?void 0:ht=>{for(let xt of vt)xt!=null&&(typeof xt=="function"?xt(ht):xt.current=ht)}}function P$2(...vt){if(vt.length===0)return{};if(vt.length===1)return vt[0];let ht={},xt={};for(let _t of vt)for(let $t in _t)$t.startsWith("on")&&typeof _t[$t]=="function"?(xt[$t]!=null||(xt[$t]=[]),xt[$t].push(_t[$t])):ht[$t]=_t[$t];if(ht.disabled||ht["aria-disabled"])for(let _t in xt)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(_t)&&(xt[_t]=[$t=>{var wt;return(wt=$t==null?void 0:$t.preventDefault)==null?void 0:wt.call($t)}]);for(let _t in xt)Object.assign(ht,{[_t]($t,...wt){let Ct=xt[_t];for(let Pt of Ct){if(($t instanceof Event||($t==null?void 0:$t.nativeEvent)instanceof Event)&&$t.defaultPrevented)return;Pt($t,...wt)}}});return ht}function _$2(...vt){if(vt.length===0)return{};if(vt.length===1)return vt[0];let ht={},xt={};for(let _t of vt)for(let $t in _t)$t.startsWith("on")&&typeof _t[$t]=="function"?(xt[$t]!=null||(xt[$t]=[]),xt[$t].push(_t[$t])):ht[$t]=_t[$t];for(let _t in xt)Object.assign(ht,{[_t](...$t){let wt=xt[_t];for(let Ct of wt)Ct==null||Ct(...$t)}});return ht}function K$1(vt){var ht;return Object.assign(reactExports.forwardRef(vt),{displayName:(ht=vt.displayName)!=null?ht:vt.name})}function m$3(vt){let ht=Object.assign({},vt);for(let xt in ht)ht[xt]===void 0&&delete ht[xt];return ht}function h$2(vt,ht=[]){let xt=Object.assign({},vt);for(let _t of ht)_t in xt&&delete xt[_t];return xt}function H$2(vt){return U$4.version.split(".")[0]>="19"?vt.props.ref:vt.ref}let e$2=reactExports.createContext(void 0);function u$5(){return reactExports.useContext(e$2)}function r$1(vt){let ht=vt.parentElement,xt=null;for(;ht&&!(ht instanceof HTMLFieldSetElement);)ht instanceof HTMLLegendElement&&(xt=ht),ht=ht.parentElement;let _t=(ht==null?void 0:ht.getAttribute("disabled"))==="";return _t&&i$3(xt)?!1:_t}function i$3(vt){if(!vt)return!1;let ht=vt.previousElementSibling;for(;ht!==null;){if(ht instanceof HTMLLegendElement)return!1;ht=ht.previousElementSibling}return!0}let u$4=Symbol();function T$2(vt,ht=!0){return Object.assign(vt,{[u$4]:ht})}function y$4(...vt){let ht=reactExports.useRef(vt);reactExports.useEffect(()=>{ht.current=vt},[vt]);let xt=o$3(_t=>{for(let $t of ht.current)$t!=null&&(typeof $t=="function"?$t(_t):$t.current=_t)});return vt.every(_t=>_t==null||(_t==null?void 0:_t[u$4]))?void 0:xt}let a$6=reactExports.createContext(null);a$6.displayName="DescriptionContext";function f$6(){let vt=reactExports.useContext(a$6);if(vt===null){let ht=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(ht,f$6),ht}return vt}function w$3(){let[vt,ht]=reactExports.useState([]);return[vt.length>0?vt.join(" "):void 0,reactExports.useMemo(()=>function(xt){let _t=o$3(wt=>(ht(Ct=>[...Ct,wt]),()=>ht(Ct=>{let Pt=Ct.slice(),bt=Pt.indexOf(wt);return bt!==-1&&Pt.splice(bt,1),Pt}))),$t=reactExports.useMemo(()=>({register:_t,slot:xt.slot,name:xt.name,props:xt.props,value:xt.value}),[_t,xt.slot,xt.name,xt.props,xt.value]);return U$4.createElement(a$6.Provider,{value:$t},xt.children)},[ht])]}let S$2="p";function C$1(vt,ht){let xt=reactExports.useId(),_t=a$7(),{id:$t=`headlessui-description-${xt}`,...wt}=vt,Ct=f$6(),Pt=y$4(ht);n$3(()=>Ct.register($t),[$t,Ct.register]);let bt=_t||!1,Rt=reactExports.useMemo(()=>({...Ct.slot,disabled:bt}),[Ct.slot,bt]),Nt={ref:Pt,...Ct.props,id:$t};return L$1()({ourProps:Nt,theirProps:wt,slot:Rt,defaultTag:S$2,name:Ct.name||"Description"})}let _$1=K$1(C$1);Object.assign(_$1,{});var o$2=(vt=>(vt.Space=" ",vt.Enter="Enter",vt.Escape="Escape",vt.Backspace="Backspace",vt.Delete="Delete",vt.ArrowLeft="ArrowLeft",vt.ArrowUp="ArrowUp",vt.ArrowRight="ArrowRight",vt.ArrowDown="ArrowDown",vt.Home="Home",vt.End="End",vt.PageUp="PageUp",vt.PageDown="PageDown",vt.Tab="Tab",vt))(o$2||{});let c$4=reactExports.createContext(null);c$4.displayName="LabelContext";function P$1(){let vt=reactExports.useContext(c$4);if(vt===null){let ht=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(ht,P$1),ht}return vt}function I$2(vt){var ht,xt,_t;let $t=(xt=(ht=reactExports.useContext(c$4))==null?void 0:ht.value)!=null?xt:void 0;return((_t=void 0)!=null?_t:0)>0?[$t,...vt].filter(Boolean).join(" "):$t}function K({inherit:vt=!1}={}){let ht=I$2(),[xt,_t]=reactExports.useState([]),$t=vt?[ht,...xt].filter(Boolean):xt;return[$t.length>0?$t.join(" "):void 0,reactExports.useMemo(()=>function(wt){let Ct=o$3(bt=>(_t(Rt=>[...Rt,bt]),()=>_t(Rt=>{let Nt=Rt.slice(),kt=Nt.indexOf(bt);return kt!==-1&&Nt.splice(kt,1),Nt}))),Pt=reactExports.useMemo(()=>({register:Ct,slot:wt.slot,name:wt.name,props:wt.props,value:wt.value}),[Ct,wt.slot,wt.name,wt.props,wt.value]);return U$4.createElement(c$4.Provider,{value:Pt},wt.children)},[_t])]}let N$1="label";function G$1(vt,ht){var xt;let _t=reactExports.useId(),$t=P$1(),wt=u$5(),Ct=a$7(),{id:Pt=`headlessui-label-${_t}`,htmlFor:bt=wt??((xt=$t.props)==null?void 0:xt.htmlFor),passive:Rt=!1,...Nt}=vt,kt=y$4(ht);n$3(()=>$t.register(Pt),[Pt,$t.register]);let Dt=o$3(Ut=>{let jt=Ut.currentTarget;if(jt instanceof HTMLLabelElement&&Ut.preventDefault(),$t.props&&"onClick"in $t.props&&typeof $t.props.onClick=="function"&&$t.props.onClick(Ut),jt instanceof HTMLLabelElement){let Vt=document.getElementById(jt.htmlFor);if(Vt){let Bt=Vt.getAttribute("disabled");if(Bt==="true"||Bt==="")return;let Wt=Vt.getAttribute("aria-disabled");if(Wt==="true"||Wt==="")return;(Vt instanceof HTMLInputElement&&(Vt.type==="radio"||Vt.type==="checkbox")||Vt.role==="radio"||Vt.role==="checkbox"||Vt.role==="switch")&&Vt.click(),Vt.focus({preventScroll:!0})}}}),Ot=Ct||!1,Lt=reactExports.useMemo(()=>({...$t.slot,disabled:Ot}),[$t.slot,Ot]),Ft={ref:kt,...$t.props,id:Pt,htmlFor:bt,onClick:Dt};return Rt&&("onClick"in Ft&&(delete Ft.htmlFor,delete Ft.onClick),"onClick"in Nt&&delete Nt.onClick),L$1()({ourProps:Ft,theirProps:Nt,slot:Lt,defaultTag:bt?N$1:"div",name:$t.name||"Label"})}let U$1=K$1(G$1);Object.assign(U$1,{});function f$5(vt){if(vt===null)return{width:0,height:0};let{width:ht,height:xt}=vt.getBoundingClientRect();return{width:ht,height:xt}}function d$2(vt,ht=!1){let[xt,_t]=reactExports.useReducer(()=>({}),{}),$t=reactExports.useMemo(()=>f$5(vt),[vt,xt]);return n$3(()=>{if(!vt)return;let wt=new ResizeObserver(_t);return wt.observe(vt),()=>{wt.disconnect()}},[vt]),ht?{width:`${$t.width}px`,height:`${$t.height}px`}:$t}let a$5=class extends Map{constructor(ht){super(),this.factory=ht}get(ht){let xt=super.get(ht);return xt===void 0&&(xt=this.factory(ht),this.set(ht,xt)),xt}};function a$4(vt,ht){let xt=vt(),_t=new Set;return{getSnapshot(){return xt},subscribe($t){return _t.add($t),()=>_t.delete($t)},dispatch($t,...wt){let Ct=ht[$t].call(xt,...wt);Ct&&(xt=Ct,_t.forEach(Pt=>Pt()))}}}function o$1(vt){return reactExports.useSyncExternalStore(vt.subscribe,vt.getSnapshot,vt.getSnapshot)}let p$1=new a$5(()=>a$4(()=>[],{ADD(vt){return this.includes(vt)?this:[...this,vt]},REMOVE(vt){let ht=this.indexOf(vt);if(ht===-1)return this;let xt=this.slice();return xt.splice(ht,1),xt}}));function x$1(vt,ht){let xt=p$1.get(ht),_t=reactExports.useId(),$t=o$1(xt);if(n$3(()=>{if(vt)return xt.dispatch("ADD",_t),()=>xt.dispatch("REMOVE",_t)},[xt,vt]),!vt)return!1;let wt=$t.indexOf(_t),Ct=$t.length;return wt===-1&&(wt=Ct,Ct+=1),wt===Ct-1}let f$4=new Map,u$3=new Map;function h$1(vt){var ht;let xt=(ht=u$3.get(vt))!=null?ht:0;return u$3.set(vt,xt+1),xt!==0?()=>m$2(vt):(f$4.set(vt,{"aria-hidden":vt.getAttribute("aria-hidden"),inert:vt.inert}),vt.setAttribute("aria-hidden","true"),vt.inert=!0,()=>m$2(vt))}function m$2(vt){var ht;let xt=(ht=u$3.get(vt))!=null?ht:1;if(xt===1?u$3.delete(vt):u$3.set(vt,xt-1),xt!==1)return;let _t=f$4.get(vt);_t&&(_t["aria-hidden"]===null?vt.removeAttribute("aria-hidden"):vt.setAttribute("aria-hidden",_t["aria-hidden"]),vt.inert=_t.inert,f$4.delete(vt))}function y$3(vt,{allowed:ht,disallowed:xt}={}){let _t=x$1(vt,"inert-others");n$3(()=>{var $t,wt;if(!_t)return;let Ct=o$4();for(let bt of($t=xt==null?void 0:xt())!=null?$t:[])bt&&Ct.add(h$1(bt));let Pt=(wt=ht==null?void 0:ht())!=null?wt:[];for(let bt of Pt){if(!bt)continue;let Rt=u$7(bt);if(!Rt)continue;let Nt=bt.parentElement;for(;Nt&&Nt!==Rt.body;){for(let kt of Nt.children)Pt.some(Dt=>kt.contains(Dt))||Ct.add(h$1(kt));Nt=Nt.parentElement}}return Ct.dispose},[_t,ht,xt])}function m$1(vt,ht,xt){let _t=s$4($t=>{let wt=$t.getBoundingClientRect();wt.x===0&&wt.y===0&&wt.width===0&&wt.height===0&&xt()});reactExports.useEffect(()=>{if(!vt)return;let $t=ht===null?null:ht instanceof HTMLElement?ht:ht.current;if(!$t)return;let wt=o$4();if(typeof ResizeObserver<"u"){let Ct=new ResizeObserver(()=>_t.current($t));Ct.observe($t),wt.add(()=>Ct.disconnect())}if(typeof IntersectionObserver<"u"){let Ct=new IntersectionObserver(()=>_t.current($t));Ct.observe($t),wt.add(()=>Ct.disconnect())}return()=>wt.dispose()},[ht,_t,vt])}let f$3=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(vt=>`${vt}:not([tabindex='-1'])`).join(","),p=["[data-autofocus]"].map(vt=>`${vt}:not([tabindex='-1'])`).join(",");var F$1=(vt=>(vt[vt.First=1]="First",vt[vt.Previous=2]="Previous",vt[vt.Next=4]="Next",vt[vt.Last=8]="Last",vt[vt.WrapAround=16]="WrapAround",vt[vt.NoScroll=32]="NoScroll",vt[vt.AutoFocus=64]="AutoFocus",vt))(F$1||{}),T$1=(vt=>(vt[vt.Error=0]="Error",vt[vt.Overflow=1]="Overflow",vt[vt.Success=2]="Success",vt[vt.Underflow=3]="Underflow",vt))(T$1||{}),y$2=(vt=>(vt[vt.Previous=-1]="Previous",vt[vt.Next=1]="Next",vt))(y$2||{});function b$1(vt=document.body){return vt==null?[]:Array.from(vt.querySelectorAll(f$3)).sort((ht,xt)=>Math.sign((ht.tabIndex||Number.MAX_SAFE_INTEGER)-(xt.tabIndex||Number.MAX_SAFE_INTEGER)))}function S$1(vt=document.body){return vt==null?[]:Array.from(vt.querySelectorAll(p)).sort((ht,xt)=>Math.sign((ht.tabIndex||Number.MAX_SAFE_INTEGER)-(xt.tabIndex||Number.MAX_SAFE_INTEGER)))}var h=(vt=>(vt[vt.Strict=0]="Strict",vt[vt.Loose=1]="Loose",vt))(h||{});function A(vt,ht=0){var xt;return vt===((xt=u$7(vt))==null?void 0:xt.body)?!1:u$6(ht,{0(){return vt.matches(f$3)},1(){let _t=vt;for(;_t!==null;){if(_t.matches(f$3))return!0;_t=_t.parentElement}return!1}})}function G(vt){let ht=u$7(vt);o$4().nextFrame(()=>{ht&&!A(ht.activeElement,0)&&I$1(vt)})}var H$1=(vt=>(vt[vt.Keyboard=0]="Keyboard",vt[vt.Mouse=1]="Mouse",vt))(H$1||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",vt=>{vt.metaKey||vt.altKey||vt.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",vt=>{vt.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:vt.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function I$1(vt){vt==null||vt.focus({preventScroll:!0})}let w$2=["textarea","input"].join(",");function O(vt){var ht,xt;return(xt=(ht=vt==null?void 0:vt.matches)==null?void 0:ht.call(vt,w$2))!=null?xt:!1}function _(vt,ht=xt=>xt){return vt.slice().sort((xt,_t)=>{let $t=ht(xt),wt=ht(_t);if($t===null||wt===null)return 0;let Ct=$t.compareDocumentPosition(wt);return Ct&Node.DOCUMENT_POSITION_FOLLOWING?-1:Ct&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function j$3(vt,ht){return P(b$1(),ht,{relativeTo:vt})}function P(vt,ht,{sorted:xt=!0,relativeTo:_t=null,skipElements:$t=[]}={}){let wt=Array.isArray(vt)?vt.length>0?vt[0].ownerDocument:document:vt.ownerDocument,Ct=Array.isArray(vt)?xt?_(vt):vt:ht&64?S$1(vt):b$1(vt);$t.length>0&&Ct.length>1&&(Ct=Ct.filter(Ot=>!$t.some(Lt=>Lt!=null&&"current"in Lt?(Lt==null?void 0:Lt.current)===Ot:Lt===Ot))),_t=_t??wt.activeElement;let Pt=(()=>{if(ht&5)return 1;if(ht&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),bt=(()=>{if(ht&1)return 0;if(ht&2)return Math.max(0,Ct.indexOf(_t))-1;if(ht&4)return Math.max(0,Ct.indexOf(_t))+1;if(ht&8)return Ct.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),Rt=ht&32?{preventScroll:!0}:{},Nt=0,kt=Ct.length,Dt;do{if(Nt>=kt||Nt+kt<=0)return 0;let Ot=bt+Nt;if(ht&16)Ot=(Ot+kt)%kt;else{if(Ot<0)return 3;if(Ot>=kt)return 1}Dt=Ct[Ot],Dt==null||Dt.focus(Rt),Nt+=Pt}while(Dt!==wt.activeElement);return ht&6&&O(Dt)&&Dt.select(),2}function t$1(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function i$2(){return/Android/gi.test(window.navigator.userAgent)}function n$2(){return t$1()||i$2()}function i$1(vt,ht,xt,_t){let $t=s$4(xt);reactExports.useEffect(()=>{if(!vt)return;function wt(Ct){$t.current(Ct)}return document.addEventListener(ht,wt,_t),()=>document.removeEventListener(ht,wt,_t)},[vt,ht,_t])}function s$3(vt,ht,xt,_t){let $t=s$4(xt);reactExports.useEffect(()=>{if(!vt)return;function wt(Ct){$t.current(Ct)}return window.addEventListener(ht,wt,_t),()=>window.removeEventListener(ht,wt,_t)},[vt,ht,_t])}const E=30;function R$1(vt,ht,xt){let _t=x$1(vt,"outside-click"),$t=s$4(xt),wt=reactExports.useCallback(function(bt,Rt){if(bt.defaultPrevented)return;let Nt=Rt(bt);if(Nt===null||!Nt.getRootNode().contains(Nt)||!Nt.isConnected)return;let kt=function Dt(Ot){return typeof Ot=="function"?Dt(Ot()):Array.isArray(Ot)||Ot instanceof Set?Ot:[Ot]}(ht);for(let Dt of kt)if(Dt!==null&&(Dt.contains(Nt)||bt.composed&&bt.composedPath().includes(Dt)))return;return!A(Nt,h.Loose)&&Nt.tabIndex!==-1&&bt.preventDefault(),$t.current(bt,Nt)},[$t,ht]),Ct=reactExports.useRef(null);i$1(_t,"pointerdown",bt=>{var Rt,Nt;Ct.current=((Nt=(Rt=bt.composedPath)==null?void 0:Rt.call(bt))==null?void 0:Nt[0])||bt.target},!0),i$1(_t,"mousedown",bt=>{var Rt,Nt;Ct.current=((Nt=(Rt=bt.composedPath)==null?void 0:Rt.call(bt))==null?void 0:Nt[0])||bt.target},!0),i$1(_t,"click",bt=>{n$2()||Ct.current&&(wt(bt,()=>Ct.current),Ct.current=null)},!0);let Pt=reactExports.useRef({x:0,y:0});i$1(_t,"touchstart",bt=>{Pt.current.x=bt.touches[0].clientX,Pt.current.y=bt.touches[0].clientY},!0),i$1(_t,"touchend",bt=>{let Rt={x:bt.changedTouches[0].clientX,y:bt.changedTouches[0].clientY};if(!(Math.abs(Rt.x-Pt.current.x)>=E||Math.abs(Rt.y-Pt.current.y)>=E))return wt(bt,()=>bt.target instanceof HTMLElement?bt.target:null)},!0),s$3(_t,"blur",bt=>wt(bt,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function n$1(...vt){return reactExports.useMemo(()=>u$7(...vt),[...vt])}function e$1(vt,ht){return reactExports.useMemo(()=>{var xt;if(vt.type)return vt.type;let _t=(xt=vt.as)!=null?xt:"button";if(typeof _t=="string"&&_t.toLowerCase()==="button"||(ht==null?void 0:ht.tagName)==="BUTTON"&&!ht.hasAttribute("type"))return"button"},[vt.type,vt.as,ht])}function d$1(){let vt;return{before({doc:ht}){var xt;let _t=ht.documentElement,$t=(xt=ht.defaultView)!=null?xt:window;vt=Math.max(0,$t.innerWidth-_t.clientWidth)},after({doc:ht,d:xt}){let _t=ht.documentElement,$t=Math.max(0,_t.clientWidth-_t.offsetWidth),wt=Math.max(0,vt-$t);xt.style(_t,"paddingRight",`${wt}px`)}}}function d(){return t$1()?{before({doc:vt,d:ht,meta:xt}){function _t($t){return xt.containers.flatMap(wt=>wt()).some(wt=>wt.contains($t))}ht.microTask(()=>{var $t;if(window.getComputedStyle(vt.documentElement).scrollBehavior!=="auto"){let Pt=o$4();Pt.style(vt.documentElement,"scrollBehavior","auto"),ht.add(()=>ht.microTask(()=>Pt.dispose()))}let wt=($t=window.scrollY)!=null?$t:window.pageYOffset,Ct=null;ht.addEventListener(vt,"click",Pt=>{if(Pt.target instanceof HTMLElement)try{let bt=Pt.target.closest("a");if(!bt)return;let{hash:Rt}=new URL(bt.href),Nt=vt.querySelector(Rt);Nt&&!_t(Nt)&&(Ct=Nt)}catch{}},!0),ht.addEventListener(vt,"touchstart",Pt=>{if(Pt.target instanceof HTMLElement)if(_t(Pt.target)){let bt=Pt.target;for(;bt.parentElement&&_t(bt.parentElement);)bt=bt.parentElement;ht.style(bt,"overscrollBehavior","contain")}else ht.style(Pt.target,"touchAction","none")}),ht.addEventListener(vt,"touchmove",Pt=>{if(Pt.target instanceof HTMLElement){if(Pt.target.tagName==="INPUT")return;if(_t(Pt.target)){let bt=Pt.target;for(;bt.parentElement&&bt.dataset.headlessuiPortal!==""&&!(bt.scrollHeight>bt.clientHeight||bt.scrollWidth>bt.clientWidth);)bt=bt.parentElement;bt.dataset.headlessuiPortal===""&&Pt.preventDefault()}else Pt.preventDefault()}},{passive:!1}),ht.add(()=>{var Pt;let bt=(Pt=window.scrollY)!=null?Pt:window.pageYOffset;wt!==bt&&window.scrollTo(0,wt),Ct&&Ct.isConnected&&(Ct.scrollIntoView({block:"nearest"}),Ct=null)})})}}:{}}function r(){return{before({doc:vt,d:ht}){ht.style(vt.documentElement,"overflow","hidden")}}}function m(vt){let ht={};for(let xt of vt)Object.assign(ht,xt(ht));return ht}let a$3=a$4(()=>new Map,{PUSH(vt,ht){var xt;let _t=(xt=this.get(vt))!=null?xt:{doc:vt,count:0,d:o$4(),meta:new Set};return _t.count++,_t.meta.add(ht),this.set(vt,_t),this},POP(vt,ht){let xt=this.get(vt);return xt&&(xt.count--,xt.meta.delete(ht)),this},SCROLL_PREVENT({doc:vt,d:ht,meta:xt}){let _t={doc:vt,d:ht,meta:m(xt)},$t=[d(),d$1(),r()];$t.forEach(({before:wt})=>wt==null?void 0:wt(_t)),$t.forEach(({after:wt})=>wt==null?void 0:wt(_t))},SCROLL_ALLOW({d:vt}){vt.dispose()},TEARDOWN({doc:vt}){this.delete(vt)}});a$3.subscribe(()=>{let vt=a$3.getSnapshot(),ht=new Map;for(let[xt]of vt)ht.set(xt,xt.documentElement.style.overflow);for(let xt of vt.values()){let _t=ht.get(xt.doc)==="hidden",$t=xt.count!==0;($t&&!_t||!$t&&_t)&&a$3.dispatch(xt.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",xt),xt.count===0&&a$3.dispatch("TEARDOWN",xt)}});function a$2(vt,ht,xt=()=>({containers:[]})){let _t=o$1(a$3),$t=ht?_t.get(ht):void 0,wt=$t?$t.count>0:!1;return n$3(()=>{if(!(!ht||!vt))return a$3.dispatch("PUSH",ht,xt),()=>a$3.dispatch("POP",ht,xt)},[vt,ht]),wt}function f$2(vt,ht,xt=()=>[document.body]){let _t=x$1(vt,"scroll-lock");a$2(_t,ht,$t=>{var wt;return{containers:[...(wt=$t.containers)!=null?wt:[],xt]}})}function t(vt){return[vt.screenX,vt.screenY]}function u$2(){let vt=reactExports.useRef([-1,-1]);return{wasMoved(ht){let xt=t(ht);return vt.current[0]===xt[0]&&vt.current[1]===xt[1]?!1:(vt.current=xt,!0)},update(ht){vt.current=t(ht)}}}function c$3(vt=0){let[ht,xt]=reactExports.useState(vt),_t=reactExports.useCallback(bt=>xt(bt),[ht]),$t=reactExports.useCallback(bt=>xt(Rt=>Rt|bt),[ht]),wt=reactExports.useCallback(bt=>(ht&bt)===bt,[ht]),Ct=reactExports.useCallback(bt=>xt(Rt=>Rt&~bt),[xt]),Pt=reactExports.useCallback(bt=>xt(Rt=>Rt^bt),[xt]);return{flags:ht,setFlag:_t,addFlag:$t,hasFlag:wt,removeFlag:Ct,toggleFlag:Pt}}var define_process_env_default={},T,b;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((T=process==null?void 0:define_process_env_default)==null?void 0:T.NODE_ENV)==="test"&&typeof((b=Element==null?void 0:Element.prototype)==null?void 0:b.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var L=(vt=>(vt[vt.None=0]="None",vt[vt.Closed=1]="Closed",vt[vt.Enter=2]="Enter",vt[vt.Leave=4]="Leave",vt))(L||{});function R(vt){let ht={};for(let xt in vt)vt[xt]===!0&&(ht[`data-${xt}`]="");return ht}function x(vt,ht,xt,_t){let[$t,wt]=reactExports.useState(xt),{hasFlag:Ct,addFlag:Pt,removeFlag:bt}=c$3(vt&&$t?3:0),Rt=reactExports.useRef(!1),Nt=reactExports.useRef(!1),kt=p$2();return n$3(()=>{var Dt;if(vt){if(xt&&wt(!0),!ht){xt&&Pt(3);return}return(Dt=_t==null?void 0:_t.start)==null||Dt.call(_t,xt),C(ht,{inFlight:Rt,prepare(){Nt.current?Nt.current=!1:Nt.current=Rt.current,Rt.current=!0,!Nt.current&&(xt?(Pt(3),bt(4)):(Pt(4),bt(2)))},run(){Nt.current?xt?(bt(3),Pt(4)):(bt(4),Pt(3)):xt?bt(1):Pt(1)},done(){var Ot;Nt.current&&typeof ht.getAnimations=="function"&&ht.getAnimations().length>0||(Rt.current=!1,bt(7),xt||wt(!1),(Ot=_t==null?void 0:_t.end)==null||Ot.call(_t,xt))}})}},[vt,xt,ht,kt]),vt?[$t,{closed:Ct(1),enter:Ct(2),leave:Ct(4),transition:Ct(2)||Ct(4)}]:[xt,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function C(vt,{prepare:ht,run:xt,done:_t,inFlight:$t}){let wt=o$4();return j$2(vt,{prepare:ht,inFlight:$t}),wt.nextFrame(()=>{xt(),wt.requestAnimationFrame(()=>{wt.add(M$2(vt,_t))})}),wt.dispose}function M$2(vt,ht){var xt,_t;let $t=o$4();if(!vt)return $t.dispose;let wt=!1;$t.add(()=>{wt=!0});let Ct=(_t=(xt=vt.getAnimations)==null?void 0:xt.call(vt).filter(Pt=>Pt instanceof CSSTransition))!=null?_t:[];return Ct.length===0?(ht(),$t.dispose):(Promise.allSettled(Ct.map(Pt=>Pt.finished)).then(()=>{wt||ht()}),$t.dispose)}function j$2(vt,{inFlight:ht,prepare:xt}){if(ht!=null&&ht.current){xt();return}let _t=vt.style.transition;vt.style.transition="none",xt(),vt.offsetHeight,vt.style.transition=_t}function F(vt,{container:ht,accept:xt,walk:_t}){let $t=reactExports.useRef(xt),wt=reactExports.useRef(_t);reactExports.useEffect(()=>{$t.current=xt,wt.current=_t},[xt,_t]),n$3(()=>{if(!ht||!vt)return;let Ct=u$7(ht);if(!Ct)return;let Pt=$t.current,bt=wt.current,Rt=Object.assign(kt=>Pt(kt),{acceptNode:Pt}),Nt=Ct.createTreeWalker(ht,NodeFilter.SHOW_ELEMENT,Rt,!1);for(;Nt.nextNode();)bt(Nt.currentNode)},[ht,vt,$t,wt])}function hasWindow(){return typeof window<"u"}function getNodeName(vt){return isNode(vt)?(vt.nodeName||"").toLowerCase():"#document"}function getWindow(vt){var ht;return(vt==null||(ht=vt.ownerDocument)==null?void 0:ht.defaultView)||window}function getDocumentElement(vt){var ht;return(ht=(isNode(vt)?vt.ownerDocument:vt.document)||window.document)==null?void 0:ht.documentElement}function isNode(vt){return hasWindow()?vt instanceof Node||vt instanceof getWindow(vt).Node:!1}function isElement(vt){return hasWindow()?vt instanceof Element||vt instanceof getWindow(vt).Element:!1}function isHTMLElement(vt){return hasWindow()?vt instanceof HTMLElement||vt instanceof getWindow(vt).HTMLElement:!1}function isShadowRoot(vt){return!hasWindow()||typeof ShadowRoot>"u"?!1:vt instanceof ShadowRoot||vt instanceof getWindow(vt).ShadowRoot}function isOverflowElement(vt){const{overflow:ht,overflowX:xt,overflowY:_t,display:$t}=getComputedStyle$2(vt);return/auto|scroll|overlay|hidden|clip/.test(ht+_t+xt)&&!["inline","contents"].includes($t)}function isTableElement(vt){return["table","td","th"].includes(getNodeName(vt))}function isTopLayer(vt){return[":popover-open",":modal"].some(ht=>{try{return vt.matches(ht)}catch{return!1}})}function isContainingBlock(vt){const ht=isWebKit(),xt=isElement(vt)?getComputedStyle$2(vt):vt;return xt.transform!=="none"||xt.perspective!=="none"||(xt.containerType?xt.containerType!=="normal":!1)||!ht&&(xt.backdropFilter?xt.backdropFilter!=="none":!1)||!ht&&(xt.filter?xt.filter!=="none":!1)||["transform","perspective","filter"].some(_t=>(xt.willChange||"").includes(_t))||["paint","layout","strict","content"].some(_t=>(xt.contain||"").includes(_t))}function getContainingBlock(vt){let ht=getParentNode(vt);for(;isHTMLElement(ht)&&!isLastTraversableNode(ht);){if(isContainingBlock(ht))return ht;if(isTopLayer(ht))return null;ht=getParentNode(ht)}return null}function isWebKit(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function isLastTraversableNode(vt){return["html","body","#document"].includes(getNodeName(vt))}function getComputedStyle$2(vt){return getWindow(vt).getComputedStyle(vt)}function getNodeScroll(vt){return isElement(vt)?{scrollLeft:vt.scrollLeft,scrollTop:vt.scrollTop}:{scrollLeft:vt.scrollX,scrollTop:vt.scrollY}}function getParentNode(vt){if(getNodeName(vt)==="html")return vt;const ht=vt.assignedSlot||vt.parentNode||isShadowRoot(vt)&&vt.host||getDocumentElement(vt);return isShadowRoot(ht)?ht.host:ht}function getNearestOverflowAncestor(vt){const ht=getParentNode(vt);return isLastTraversableNode(ht)?vt.ownerDocument?vt.ownerDocument.body:vt.body:isHTMLElement(ht)&&isOverflowElement(ht)?ht:getNearestOverflowAncestor(ht)}function getOverflowAncestors(vt,ht,xt){var _t;ht===void 0&&(ht=[]),xt===void 0&&(xt=!0);const $t=getNearestOverflowAncestor(vt),wt=$t===((_t=vt.ownerDocument)==null?void 0:_t.body),Ct=getWindow($t);if(wt){const Pt=getFrameElement(Ct);return ht.concat(Ct,Ct.visualViewport||[],isOverflowElement($t)?$t:[],Pt&&xt?getOverflowAncestors(Pt):[])}return ht.concat($t,getOverflowAncestors($t,[],xt))}function getFrameElement(vt){return vt.parent&&Object.getPrototypeOf(vt.parent)?vt.frameElement:null}function getUserAgent(){const vt=navigator.userAgentData;return vt&&Array.isArray(vt.brands)?vt.brands.map(ht=>{let{brand:xt,version:_t}=ht;return xt+"/"+_t}).join(" "):navigator.userAgent}const min=Math.min,max=Math.max,round=Math.round,floor=Math.floor,createCoords=vt=>({x:vt,y:vt}),oppositeSideMap={left:"right",right:"left",bottom:"top",top:"bottom"},oppositeAlignmentMap={start:"end",end:"start"};function clamp$1(vt,ht,xt){return max(vt,min(ht,xt))}function evaluate(vt,ht){return typeof vt=="function"?vt(ht):vt}function getSide(vt){return vt.split("-")[0]}function getAlignment(vt){return vt.split("-")[1]}function getOppositeAxis(vt){return vt==="x"?"y":"x"}function getAxisLength(vt){return vt==="y"?"height":"width"}function getSideAxis(vt){return["top","bottom"].includes(getSide(vt))?"y":"x"}function getAlignmentAxis(vt){return getOppositeAxis(getSideAxis(vt))}function getAlignmentSides(vt,ht,xt){xt===void 0&&(xt=!1);const _t=getAlignment(vt),$t=getAlignmentAxis(vt),wt=getAxisLength($t);let Ct=$t==="x"?_t===(xt?"end":"start")?"right":"left":_t==="start"?"bottom":"top";return ht.reference[wt]>ht.floating[wt]&&(Ct=getOppositePlacement(Ct)),[Ct,getOppositePlacement(Ct)]}function getExpandedPlacements(vt){const ht=getOppositePlacement(vt);return[getOppositeAlignmentPlacement(vt),ht,getOppositeAlignmentPlacement(ht)]}function getOppositeAlignmentPlacement(vt){return vt.replace(/start|end/g,ht=>oppositeAlignmentMap[ht])}function getSideList(vt,ht,xt){const _t=["left","right"],$t=["right","left"],wt=["top","bottom"],Ct=["bottom","top"];switch(vt){case"top":case"bottom":return xt?ht?$t:_t:ht?_t:$t;case"left":case"right":return ht?wt:Ct;default:return[]}}function getOppositeAxisPlacements(vt,ht,xt,_t){const $t=getAlignment(vt);let wt=getSideList(getSide(vt),xt==="start",_t);return $t&&(wt=wt.map(Ct=>Ct+"-"+$t),ht&&(wt=wt.concat(wt.map(getOppositeAlignmentPlacement)))),wt}function getOppositePlacement(vt){return vt.replace(/left|right|bottom|top/g,ht=>oppositeSideMap[ht])}function expandPaddingObject(vt){return{top:0,right:0,bottom:0,left:0,...vt}}function getPaddingObject(vt){return typeof vt!="number"?expandPaddingObject(vt):{top:vt,right:vt,bottom:vt,left:vt}}function rectToClientRect(vt){const{x:ht,y:xt,width:_t,height:$t}=vt;return{width:_t,height:$t,top:xt,left:ht,right:ht+_t,bottom:xt+$t,x:ht,y:xt}}function computeCoordsFromPlacement(vt,ht,xt){let{reference:_t,floating:$t}=vt;const wt=getSideAxis(ht),Ct=getAlignmentAxis(ht),Pt=getAxisLength(Ct),bt=getSide(ht),Rt=wt==="y",Nt=_t.x+_t.width/2-$t.width/2,kt=_t.y+_t.height/2-$t.height/2,Dt=_t[Pt]/2-$t[Pt]/2;let Ot;switch(bt){case"top":Ot={x:Nt,y:_t.y-$t.height};break;case"bottom":Ot={x:Nt,y:_t.y+_t.height};break;case"right":Ot={x:_t.x+_t.width,y:kt};break;case"left":Ot={x:_t.x-$t.width,y:kt};break;default:Ot={x:_t.x,y:_t.y}}switch(getAlignment(ht)){case"start":Ot[Ct]-=Dt*(xt&&Rt?-1:1);break;case"end":Ot[Ct]+=Dt*(xt&&Rt?-1:1);break}return Ot}const computePosition$1=async(vt,ht,xt)=>{const{placement:_t="bottom",strategy:$t="absolute",middleware:wt=[],platform:Ct}=xt,Pt=wt.filter(Boolean),bt=await(Ct.isRTL==null?void 0:Ct.isRTL(ht));let Rt=await Ct.getElementRects({reference:vt,floating:ht,strategy:$t}),{x:Nt,y:kt}=computeCoordsFromPlacement(Rt,_t,bt),Dt=_t,Ot={},Lt=0;for(let Ft=0;Ft<Pt.length;Ft++){const{name:Ut,fn:jt}=Pt[Ft],{x:Vt,y:Bt,data:Wt,reset:zt}=await jt({x:Nt,y:kt,initialPlacement:_t,placement:Dt,strategy:$t,middlewareData:Ot,rects:Rt,platform:Ct,elements:{reference:vt,floating:ht}});Nt=Vt??Nt,kt=Bt??kt,Ot={...Ot,[Ut]:{...Ot[Ut],...Wt}},zt&&Lt<=50&&(Lt++,typeof zt=="object"&&(zt.placement&&(Dt=zt.placement),zt.rects&&(Rt=zt.rects===!0?await Ct.getElementRects({reference:vt,floating:ht,strategy:$t}):zt.rects),{x:Nt,y:kt}=computeCoordsFromPlacement(Rt,Dt,bt)),Ft=-1)}return{x:Nt,y:kt,placement:Dt,strategy:$t,middlewareData:Ot}};async function detectOverflow$1(vt,ht){var xt;ht===void 0&&(ht={});const{x:_t,y:$t,platform:wt,rects:Ct,elements:Pt,strategy:bt}=vt,{boundary:Rt="clippingAncestors",rootBoundary:Nt="viewport",elementContext:kt="floating",altBoundary:Dt=!1,padding:Ot=0}=evaluate(ht,vt),Lt=getPaddingObject(Ot),Ut=Pt[Dt?kt==="floating"?"reference":"floating":kt],jt=rectToClientRect(await wt.getClippingRect({element:(xt=await(wt.isElement==null?void 0:wt.isElement(Ut)))==null||xt?Ut:Ut.contextElement||await(wt.getDocumentElement==null?void 0:wt.getDocumentElement(Pt.floating)),boundary:Rt,rootBoundary:Nt,strategy:bt})),Vt=kt==="floating"?{x:_t,y:$t,width:Ct.floating.width,height:Ct.floating.height}:Ct.reference,Bt=await(wt.getOffsetParent==null?void 0:wt.getOffsetParent(Pt.floating)),Wt=await(wt.isElement==null?void 0:wt.isElement(Bt))?await(wt.getScale==null?void 0:wt.getScale(Bt))||{x:1,y:1}:{x:1,y:1},zt=rectToClientRect(wt.convertOffsetParentRelativeRectToViewportRelativeRect?await wt.convertOffsetParentRelativeRectToViewportRelativeRect({elements:Pt,rect:Vt,offsetParent:Bt,strategy:bt}):Vt);return{top:(jt.top-zt.top+Lt.top)/Wt.y,bottom:(zt.bottom-jt.bottom+Lt.bottom)/Wt.y,left:(jt.left-zt.left+Lt.left)/Wt.x,right:(zt.right-jt.right+Lt.right)/Wt.x}}const flip$2=function(vt){return vt===void 0&&(vt={}),{name:"flip",options:vt,async fn(ht){var xt,_t;const{placement:$t,middlewareData:wt,rects:Ct,initialPlacement:Pt,platform:bt,elements:Rt}=ht,{mainAxis:Nt=!0,crossAxis:kt=!0,fallbackPlacements:Dt,fallbackStrategy:Ot="bestFit",fallbackAxisSideDirection:Lt="none",flipAlignment:Ft=!0,...Ut}=evaluate(vt,ht);if((xt=wt.arrow)!=null&&xt.alignmentOffset)return{};const jt=getSide($t),Vt=getSideAxis(Pt),Bt=getSide(Pt)===Pt,Wt=await(bt.isRTL==null?void 0:bt.isRTL(Rt.floating)),zt=Dt||(Bt||!Ft?[getOppositePlacement(Pt)]:getExpandedPlacements(Pt)),qt=Lt!=="none";!Dt&&qt&&zt.push(...getOppositeAxisPlacements(Pt,Ft,Lt,Wt));const Xt=[Pt,...zt],Yt=await detectOverflow$1(ht,Ut),en=[];let Qt=((_t=wt.flip)==null?void 0:_t.overflows)||[];if(Nt&&en.push(Yt[jt]),kt){const fn=getAlignmentSides($t,Ct,Wt);en.push(Yt[fn[0]],Yt[fn[1]])}if(Qt=[...Qt,{placement:$t,overflows:en}],!en.every(fn=>fn<=0)){var nn,ln;const fn=(((nn=wt.flip)==null?void 0:nn.index)||0)+1,mn=Xt[fn];if(mn)return{data:{index:fn,overflows:Qt},reset:{placement:mn}};let pn=(ln=Qt.filter(an=>an.overflows[0]<=0).sort((an,Kt)=>an.overflows[1]-Kt.overflows[1])[0])==null?void 0:ln.placement;if(!pn)switch(Ot){case"bestFit":{var dn;const an=(dn=Qt.filter(Kt=>{if(qt){const Jt=getSideAxis(Kt.placement);return Jt===Vt||Jt==="y"}return!0}).map(Kt=>[Kt.placement,Kt.overflows.filter(Jt=>Jt>0).reduce((Jt,Gt)=>Jt+Gt,0)]).sort((Kt,Jt)=>Kt[1]-Jt[1])[0])==null?void 0:dn[0];an&&(pn=an);break}case"initialPlacement":pn=Pt;break}if($t!==pn)return{reset:{placement:pn}}}return{}}}};async function convertValueToCoords(vt,ht){const{placement:xt,platform:_t,elements:$t}=vt,wt=await(_t.isRTL==null?void 0:_t.isRTL($t.floating)),Ct=getSide(xt),Pt=getAlignment(xt),bt=getSideAxis(xt)==="y",Rt=["left","top"].includes(Ct)?-1:1,Nt=wt&&bt?-1:1,kt=evaluate(ht,vt);let{mainAxis:Dt,crossAxis:Ot,alignmentAxis:Lt}=typeof kt=="number"?{mainAxis:kt,crossAxis:0,alignmentAxis:null}:{mainAxis:kt.mainAxis||0,crossAxis:kt.crossAxis||0,alignmentAxis:kt.alignmentAxis};return Pt&&typeof Lt=="number"&&(Ot=Pt==="end"?Lt*-1:Lt),bt?{x:Ot*Nt,y:Dt*Rt}:{x:Dt*Rt,y:Ot*Nt}}const offset$2=function(vt){return vt===void 0&&(vt=0),{name:"offset",options:vt,async fn(ht){var xt,_t;const{x:$t,y:wt,placement:Ct,middlewareData:Pt}=ht,bt=await convertValueToCoords(ht,vt);return Ct===((xt=Pt.offset)==null?void 0:xt.placement)&&(_t=Pt.arrow)!=null&&_t.alignmentOffset?{}:{x:$t+bt.x,y:wt+bt.y,data:{...bt,placement:Ct}}}}},shift$2=function(vt){return vt===void 0&&(vt={}),{name:"shift",options:vt,async fn(ht){const{x:xt,y:_t,placement:$t}=ht,{mainAxis:wt=!0,crossAxis:Ct=!1,limiter:Pt={fn:Ut=>{let{x:jt,y:Vt}=Ut;return{x:jt,y:Vt}}},...bt}=evaluate(vt,ht),Rt={x:xt,y:_t},Nt=await detectOverflow$1(ht,bt),kt=getSideAxis(getSide($t)),Dt=getOppositeAxis(kt);let Ot=Rt[Dt],Lt=Rt[kt];if(wt){const Ut=Dt==="y"?"top":"left",jt=Dt==="y"?"bottom":"right",Vt=Ot+Nt[Ut],Bt=Ot-Nt[jt];Ot=clamp$1(Vt,Ot,Bt)}if(Ct){const Ut=kt==="y"?"top":"left",jt=kt==="y"?"bottom":"right",Vt=Lt+Nt[Ut],Bt=Lt-Nt[jt];Lt=clamp$1(Vt,Lt,Bt)}const Ft=Pt.fn({...ht,[Dt]:Ot,[kt]:Lt});return{...Ft,data:{x:Ft.x-xt,y:Ft.y-_t,enabled:{[Dt]:wt,[kt]:Ct}}}}}},size$2=function(vt){return vt===void 0&&(vt={}),{name:"size",options:vt,async fn(ht){var xt,_t;const{placement:$t,rects:wt,platform:Ct,elements:Pt}=ht,{apply:bt=()=>{},...Rt}=evaluate(vt,ht),Nt=await detectOverflow$1(ht,Rt),kt=getSide($t),Dt=getAlignment($t),Ot=getSideAxis($t)==="y",{width:Lt,height:Ft}=wt.floating;let Ut,jt;kt==="top"||kt==="bottom"?(Ut=kt,jt=Dt===(await(Ct.isRTL==null?void 0:Ct.isRTL(Pt.floating))?"start":"end")?"left":"right"):(jt=kt,Ut=Dt==="end"?"top":"bottom");const Vt=Ft-Nt.top-Nt.bottom,Bt=Lt-Nt.left-Nt.right,Wt=min(Ft-Nt[Ut],Vt),zt=min(Lt-Nt[jt],Bt),qt=!ht.middlewareData.shift;let Xt=Wt,Yt=zt;if((xt=ht.middlewareData.shift)!=null&&xt.enabled.x&&(Yt=Bt),(_t=ht.middlewareData.shift)!=null&&_t.enabled.y&&(Xt=Vt),qt&&!Dt){const Qt=max(Nt.left,0),nn=max(Nt.right,0),ln=max(Nt.top,0),dn=max(Nt.bottom,0);Ot?Yt=Lt-2*(Qt!==0||nn!==0?Qt+nn:max(Nt.left,Nt.right)):Xt=Ft-2*(ln!==0||dn!==0?ln+dn:max(Nt.top,Nt.bottom))}await bt({...ht,availableWidth:Yt,availableHeight:Xt});const en=await Ct.getDimensions(Pt.floating);return Lt!==en.width||Ft!==en.height?{reset:{rects:!0}}:{}}}};function getCssDimensions(vt){const ht=getComputedStyle$2(vt);let xt=parseFloat(ht.width)||0,_t=parseFloat(ht.height)||0;const $t=isHTMLElement(vt),wt=$t?vt.offsetWidth:xt,Ct=$t?vt.offsetHeight:_t,Pt=round(xt)!==wt||round(_t)!==Ct;return Pt&&(xt=wt,_t=Ct),{width:xt,height:_t,$:Pt}}function unwrapElement(vt){return isElement(vt)?vt:vt.contextElement}function getScale(vt){const ht=unwrapElement(vt);if(!isHTMLElement(ht))return createCoords(1);const xt=ht.getBoundingClientRect(),{width:_t,height:$t,$:wt}=getCssDimensions(ht);let Ct=(wt?round(xt.width):xt.width)/_t,Pt=(wt?round(xt.height):xt.height)/$t;return(!Ct||!Number.isFinite(Ct))&&(Ct=1),(!Pt||!Number.isFinite(Pt))&&(Pt=1),{x:Ct,y:Pt}}const noOffsets=createCoords(0);function getVisualOffsets(vt){const ht=getWindow(vt);return!isWebKit()||!ht.visualViewport?noOffsets:{x:ht.visualViewport.offsetLeft,y:ht.visualViewport.offsetTop}}function shouldAddVisualOffsets(vt,ht,xt){return ht===void 0&&(ht=!1),!xt||ht&&xt!==getWindow(vt)?!1:ht}function getBoundingClientRect(vt,ht,xt,_t){ht===void 0&&(ht=!1),xt===void 0&&(xt=!1);const $t=vt.getBoundingClientRect(),wt=unwrapElement(vt);let Ct=createCoords(1);ht&&(_t?isElement(_t)&&(Ct=getScale(_t)):Ct=getScale(vt));const Pt=shouldAddVisualOffsets(wt,xt,_t)?getVisualOffsets(wt):createCoords(0);let bt=($t.left+Pt.x)/Ct.x,Rt=($t.top+Pt.y)/Ct.y,Nt=$t.width/Ct.x,kt=$t.height/Ct.y;if(wt){const Dt=getWindow(wt),Ot=_t&&isElement(_t)?getWindow(_t):_t;let Lt=Dt,Ft=getFrameElement(Lt);for(;Ft&&_t&&Ot!==Lt;){const Ut=getScale(Ft),jt=Ft.getBoundingClientRect(),Vt=getComputedStyle$2(Ft),Bt=jt.left+(Ft.clientLeft+parseFloat(Vt.paddingLeft))*Ut.x,Wt=jt.top+(Ft.clientTop+parseFloat(Vt.paddingTop))*Ut.y;bt*=Ut.x,Rt*=Ut.y,Nt*=Ut.x,kt*=Ut.y,bt+=Bt,Rt+=Wt,Lt=getWindow(Ft),Ft=getFrameElement(Lt)}}return rectToClientRect({width:Nt,height:kt,x:bt,y:Rt})}function getWindowScrollBarX(vt,ht){const xt=getNodeScroll(vt).scrollLeft;return ht?ht.left+xt:getBoundingClientRect(getDocumentElement(vt)).left+xt}function getHTMLOffset(vt,ht,xt){xt===void 0&&(xt=!1);const _t=vt.getBoundingClientRect(),$t=_t.left+ht.scrollLeft-(xt?0:getWindowScrollBarX(vt,_t)),wt=_t.top+ht.scrollTop;return{x:$t,y:wt}}function convertOffsetParentRelativeRectToViewportRelativeRect(vt){let{elements:ht,rect:xt,offsetParent:_t,strategy:$t}=vt;const wt=$t==="fixed",Ct=getDocumentElement(_t),Pt=ht?isTopLayer(ht.floating):!1;if(_t===Ct||Pt&&wt)return xt;let bt={scrollLeft:0,scrollTop:0},Rt=createCoords(1);const Nt=createCoords(0),kt=isHTMLElement(_t);if((kt||!kt&&!wt)&&((getNodeName(_t)!=="body"||isOverflowElement(Ct))&&(bt=getNodeScroll(_t)),isHTMLElement(_t))){const Ot=getBoundingClientRect(_t);Rt=getScale(_t),Nt.x=Ot.x+_t.clientLeft,Nt.y=Ot.y+_t.clientTop}const Dt=Ct&&!kt&&!wt?getHTMLOffset(Ct,bt,!0):createCoords(0);return{width:xt.width*Rt.x,height:xt.height*Rt.y,x:xt.x*Rt.x-bt.scrollLeft*Rt.x+Nt.x+Dt.x,y:xt.y*Rt.y-bt.scrollTop*Rt.y+Nt.y+Dt.y}}function getClientRects(vt){return Array.from(vt.getClientRects())}function getDocumentRect(vt){const ht=getDocumentElement(vt),xt=getNodeScroll(vt),_t=vt.ownerDocument.body,$t=max(ht.scrollWidth,ht.clientWidth,_t.scrollWidth,_t.clientWidth),wt=max(ht.scrollHeight,ht.clientHeight,_t.scrollHeight,_t.clientHeight);let Ct=-xt.scrollLeft+getWindowScrollBarX(vt);const Pt=-xt.scrollTop;return getComputedStyle$2(_t).direction==="rtl"&&(Ct+=max(ht.clientWidth,_t.clientWidth)-$t),{width:$t,height:wt,x:Ct,y:Pt}}function getViewportRect(vt,ht){const xt=getWindow(vt),_t=getDocumentElement(vt),$t=xt.visualViewport;let wt=_t.clientWidth,Ct=_t.clientHeight,Pt=0,bt=0;if($t){wt=$t.width,Ct=$t.height;const Rt=isWebKit();(!Rt||Rt&&ht==="fixed")&&(Pt=$t.offsetLeft,bt=$t.offsetTop)}return{width:wt,height:Ct,x:Pt,y:bt}}function getInnerBoundingClientRect(vt,ht){const xt=getBoundingClientRect(vt,!0,ht==="fixed"),_t=xt.top+vt.clientTop,$t=xt.left+vt.clientLeft,wt=isHTMLElement(vt)?getScale(vt):createCoords(1),Ct=vt.clientWidth*wt.x,Pt=vt.clientHeight*wt.y,bt=$t*wt.x,Rt=_t*wt.y;return{width:Ct,height:Pt,x:bt,y:Rt}}function getClientRectFromClippingAncestor(vt,ht,xt){let _t;if(ht==="viewport")_t=getViewportRect(vt,xt);else if(ht==="document")_t=getDocumentRect(getDocumentElement(vt));else if(isElement(ht))_t=getInnerBoundingClientRect(ht,xt);else{const $t=getVisualOffsets(vt);_t={x:ht.x-$t.x,y:ht.y-$t.y,width:ht.width,height:ht.height}}return rectToClientRect(_t)}function hasFixedPositionAncestor(vt,ht){const xt=getParentNode(vt);return xt===ht||!isElement(xt)||isLastTraversableNode(xt)?!1:getComputedStyle$2(xt).position==="fixed"||hasFixedPositionAncestor(xt,ht)}function getClippingElementAncestors(vt,ht){const xt=ht.get(vt);if(xt)return xt;let _t=getOverflowAncestors(vt,[],!1).filter(Pt=>isElement(Pt)&&getNodeName(Pt)!=="body"),$t=null;const wt=getComputedStyle$2(vt).position==="fixed";let Ct=wt?getParentNode(vt):vt;for(;isElement(Ct)&&!isLastTraversableNode(Ct);){const Pt=getComputedStyle$2(Ct),bt=isContainingBlock(Ct);!bt&&Pt.position==="fixed"&&($t=null),(wt?!bt&&!$t:!bt&&Pt.position==="static"&&!!$t&&["absolute","fixed"].includes($t.position)||isOverflowElement(Ct)&&!bt&&hasFixedPositionAncestor(vt,Ct))?_t=_t.filter(Nt=>Nt!==Ct):$t=Pt,Ct=getParentNode(Ct)}return ht.set(vt,_t),_t}function getClippingRect(vt){let{element:ht,boundary:xt,rootBoundary:_t,strategy:$t}=vt;const Ct=[...xt==="clippingAncestors"?isTopLayer(ht)?[]:getClippingElementAncestors(ht,this._c):[].concat(xt),_t],Pt=Ct[0],bt=Ct.reduce((Rt,Nt)=>{const kt=getClientRectFromClippingAncestor(ht,Nt,$t);return Rt.top=max(kt.top,Rt.top),Rt.right=min(kt.right,Rt.right),Rt.bottom=min(kt.bottom,Rt.bottom),Rt.left=max(kt.left,Rt.left),Rt},getClientRectFromClippingAncestor(ht,Pt,$t));return{width:bt.right-bt.left,height:bt.bottom-bt.top,x:bt.left,y:bt.top}}function getDimensions(vt){const{width:ht,height:xt}=getCssDimensions(vt);return{width:ht,height:xt}}function getRectRelativeToOffsetParent(vt,ht,xt){const _t=isHTMLElement(ht),$t=getDocumentElement(ht),wt=xt==="fixed",Ct=getBoundingClientRect(vt,!0,wt,ht);let Pt={scrollLeft:0,scrollTop:0};const bt=createCoords(0);if(_t||!_t&&!wt)if((getNodeName(ht)!=="body"||isOverflowElement($t))&&(Pt=getNodeScroll(ht)),_t){const Dt=getBoundingClientRect(ht,!0,wt,ht);bt.x=Dt.x+ht.clientLeft,bt.y=Dt.y+ht.clientTop}else $t&&(bt.x=getWindowScrollBarX($t));const Rt=$t&&!_t&&!wt?getHTMLOffset($t,Pt):createCoords(0),Nt=Ct.left+Pt.scrollLeft-bt.x-Rt.x,kt=Ct.top+Pt.scrollTop-bt.y-Rt.y;return{x:Nt,y:kt,width:Ct.width,height:Ct.height}}function isStaticPositioned(vt){return getComputedStyle$2(vt).position==="static"}function getTrueOffsetParent(vt,ht){if(!isHTMLElement(vt)||getComputedStyle$2(vt).position==="fixed")return null;if(ht)return ht(vt);let xt=vt.offsetParent;return getDocumentElement(vt)===xt&&(xt=xt.ownerDocument.body),xt}function getOffsetParent(vt,ht){const xt=getWindow(vt);if(isTopLayer(vt))return xt;if(!isHTMLElement(vt)){let $t=getParentNode(vt);for(;$t&&!isLastTraversableNode($t);){if(isElement($t)&&!isStaticPositioned($t))return $t;$t=getParentNode($t)}return xt}let _t=getTrueOffsetParent(vt,ht);for(;_t&&isTableElement(_t)&&isStaticPositioned(_t);)_t=getTrueOffsetParent(_t,ht);return _t&&isLastTraversableNode(_t)&&isStaticPositioned(_t)&&!isContainingBlock(_t)?xt:_t||getContainingBlock(vt)||xt}const getElementRects=async function(vt){const ht=this.getOffsetParent||getOffsetParent,xt=this.getDimensions,_t=await xt(vt.floating);return{reference:getRectRelativeToOffsetParent(vt.reference,await ht(vt.floating),vt.strategy),floating:{x:0,y:0,width:_t.width,height:_t.height}}};function isRTL(vt){return getComputedStyle$2(vt).direction==="rtl"}const platform={convertOffsetParentRelativeRectToViewportRelativeRect,getDocumentElement,getClippingRect,getOffsetParent,getElementRects,getClientRects,getDimensions,getScale,isElement,isRTL};function observeMove(vt,ht){let xt=null,_t;const $t=getDocumentElement(vt);function wt(){var Pt;clearTimeout(_t),(Pt=xt)==null||Pt.disconnect(),xt=null}function Ct(Pt,bt){Pt===void 0&&(Pt=!1),bt===void 0&&(bt=1),wt();const{left:Rt,top:Nt,width:kt,height:Dt}=vt.getBoundingClientRect();if(Pt||ht(),!kt||!Dt)return;const Ot=floor(Nt),Lt=floor($t.clientWidth-(Rt+kt)),Ft=floor($t.clientHeight-(Nt+Dt)),Ut=floor(Rt),Vt={rootMargin:-Ot+"px "+-Lt+"px "+-Ft+"px "+-Ut+"px",threshold:max(0,min(1,bt))||1};let Bt=!0;function Wt(zt){const qt=zt[0].intersectionRatio;if(qt!==bt){if(!Bt)return Ct();qt?Ct(!1,qt):_t=setTimeout(()=>{Ct(!1,1e-7)},1e3)}Bt=!1}try{xt=new IntersectionObserver(Wt,{...Vt,root:$t.ownerDocument})}catch{xt=new IntersectionObserver(Wt,Vt)}xt.observe(vt)}return Ct(!0),wt}function autoUpdate(vt,ht,xt,_t){_t===void 0&&(_t={});const{ancestorScroll:$t=!0,ancestorResize:wt=!0,elementResize:Ct=typeof ResizeObserver=="function",layoutShift:Pt=typeof IntersectionObserver=="function",animationFrame:bt=!1}=_t,Rt=unwrapElement(vt),Nt=$t||wt?[...Rt?getOverflowAncestors(Rt):[],...getOverflowAncestors(ht)]:[];Nt.forEach(jt=>{$t&&jt.addEventListener("scroll",xt,{passive:!0}),wt&&jt.addEventListener("resize",xt)});const kt=Rt&&Pt?observeMove(Rt,xt):null;let Dt=-1,Ot=null;Ct&&(Ot=new ResizeObserver(jt=>{let[Vt]=jt;Vt&&Vt.target===Rt&&Ot&&(Ot.unobserve(ht),cancelAnimationFrame(Dt),Dt=requestAnimationFrame(()=>{var Bt;(Bt=Ot)==null||Bt.observe(ht)})),xt()}),Rt&&!bt&&Ot.observe(Rt),Ot.observe(ht));let Lt,Ft=bt?getBoundingClientRect(vt):null;bt&&Ut();function Ut(){const jt=getBoundingClientRect(vt);Ft&&(jt.x!==Ft.x||jt.y!==Ft.y||jt.width!==Ft.width||jt.height!==Ft.height)&&xt(),Ft=jt,Lt=requestAnimationFrame(Ut)}return xt(),()=>{var jt;Nt.forEach(Vt=>{$t&&Vt.removeEventListener("scroll",xt),wt&&Vt.removeEventListener("resize",xt)}),kt==null||kt(),(jt=Ot)==null||jt.disconnect(),Ot=null,bt&&cancelAnimationFrame(Lt)}}const detectOverflow=detectOverflow$1,offset$1=offset$2,shift$1=shift$2,flip$1=flip$2,size$1=size$2,computePosition=(vt,ht,xt)=>{const _t=new Map,$t={platform,...xt},wt={...$t.platform,_c:_t};return computePosition$1(vt,ht,{...$t,platform:wt})};var index$1=typeof document<"u"?reactExports.useLayoutEffect:reactExports.useEffect;function deepEqual(vt,ht){if(vt===ht)return!0;if(typeof vt!=typeof ht)return!1;if(typeof vt=="function"&&vt.toString()===ht.toString())return!0;let xt,_t,$t;if(vt&&ht&&typeof vt=="object"){if(Array.isArray(vt)){if(xt=vt.length,xt!==ht.length)return!1;for(_t=xt;_t--!==0;)if(!deepEqual(vt[_t],ht[_t]))return!1;return!0}if($t=Object.keys(vt),xt=$t.length,xt!==Object.keys(ht).length)return!1;for(_t=xt;_t--!==0;)if(!{}.hasOwnProperty.call(ht,$t[_t]))return!1;for(_t=xt;_t--!==0;){const wt=$t[_t];if(!(wt==="_owner"&&vt.$$typeof)&&!deepEqual(vt[wt],ht[wt]))return!1}return!0}return vt!==vt&&ht!==ht}function getDPR(vt){return typeof window>"u"?1:(vt.ownerDocument.defaultView||window).devicePixelRatio||1}function roundByDPR(vt,ht){const xt=getDPR(vt);return Math.round(ht*xt)/xt}function useLatestRef(vt){const ht=reactExports.useRef(vt);return index$1(()=>{ht.current=vt}),ht}function useFloating$1(vt){vt===void 0&&(vt={});const{placement:ht="bottom",strategy:xt="absolute",middleware:_t=[],platform:$t,elements:{reference:wt,floating:Ct}={},transform:Pt=!0,whileElementsMounted:bt,open:Rt}=vt,[Nt,kt]=reactExports.useState({x:0,y:0,strategy:xt,placement:ht,middlewareData:{},isPositioned:!1}),[Dt,Ot]=reactExports.useState(_t);deepEqual(Dt,_t)||Ot(_t);const[Lt,Ft]=reactExports.useState(null),[Ut,jt]=reactExports.useState(null),Vt=reactExports.useCallback(Kt=>{Kt!==qt.current&&(qt.current=Kt,Ft(Kt))},[]),Bt=reactExports.useCallback(Kt=>{Kt!==Xt.current&&(Xt.current=Kt,jt(Kt))},[]),Wt=wt||Lt,zt=Ct||Ut,qt=reactExports.useRef(null),Xt=reactExports.useRef(null),Yt=reactExports.useRef(Nt),en=bt!=null,Qt=useLatestRef(bt),nn=useLatestRef($t),ln=useLatestRef(Rt),dn=reactExports.useCallback(()=>{if(!qt.current||!Xt.current)return;const Kt={placement:ht,strategy:xt,middleware:Dt};nn.current&&(Kt.platform=nn.current),computePosition(qt.current,Xt.current,Kt).then(Jt=>{const Gt={...Jt,isPositioned:ln.current!==!1};fn.current&&!deepEqual(Yt.current,Gt)&&(Yt.current=Gt,reactDomExports.flushSync(()=>{kt(Gt)}))})},[Dt,ht,xt,nn,ln]);index$1(()=>{Rt===!1&&Yt.current.isPositioned&&(Yt.current.isPositioned=!1,kt(Kt=>({...Kt,isPositioned:!1})))},[Rt]);const fn=reactExports.useRef(!1);index$1(()=>(fn.current=!0,()=>{fn.current=!1}),[]),index$1(()=>{if(Wt&&(qt.current=Wt),zt&&(Xt.current=zt),Wt&&zt){if(Qt.current)return Qt.current(Wt,zt,dn);dn()}},[Wt,zt,dn,Qt,en]);const mn=reactExports.useMemo(()=>({reference:qt,floating:Xt,setReference:Vt,setFloating:Bt}),[Vt,Bt]),pn=reactExports.useMemo(()=>({reference:Wt,floating:zt}),[Wt,zt]),an=reactExports.useMemo(()=>{const Kt={position:xt,left:0,top:0};if(!pn.floating)return Kt;const Jt=roundByDPR(pn.floating,Nt.x),Gt=roundByDPR(pn.floating,Nt.y);return Pt?{...Kt,transform:"translate("+Jt+"px, "+Gt+"px)",...getDPR(pn.floating)>=1.5&&{willChange:"transform"}}:{position:xt,left:Jt,top:Gt}},[xt,Pt,pn.floating,Nt.x,Nt.y]);return reactExports.useMemo(()=>({...Nt,update:dn,refs:mn,elements:pn,floatingStyles:an}),[Nt,dn,mn,pn,an])}const offset=(vt,ht)=>({...offset$1(vt),options:[vt,ht]}),shift=(vt,ht)=>({...shift$1(vt),options:[vt,ht]}),flip=(vt,ht)=>({...flip$1(vt),options:[vt,ht]}),size=(vt,ht)=>({...size$1(vt),options:[vt,ht]}),SafeReact={...t$4},useInsertionEffect=SafeReact.useInsertionEffect,useSafeInsertionEffect=useInsertionEffect||(vt=>vt());function useEffectEvent(vt){const ht=reactExports.useRef(()=>{});return useSafeInsertionEffect(()=>{ht.current=vt}),reactExports.useCallback(function(){for(var xt=arguments.length,_t=new Array(xt),$t=0;$t<xt;$t++)_t[$t]=arguments[$t];return ht.current==null?void 0:ht.current(..._t)},[])}var index=typeof document<"u"?reactExports.useLayoutEffect:reactExports.useEffect;let serverHandoffComplete=!1,count=0;const genId=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+count++;function useFloatingId(){const[vt,ht]=reactExports.useState(()=>serverHandoffComplete?genId():void 0);return index(()=>{vt==null&&ht(genId())},[]),reactExports.useEffect(()=>{serverHandoffComplete=!0},[]),vt}const useReactId=SafeReact.useId,useId=useReactId||useFloatingId;function createPubSub(){const vt=new Map;return{emit(ht,xt){var _t;(_t=vt.get(ht))==null||_t.forEach($t=>$t(xt))},on(ht,xt){vt.set(ht,[...vt.get(ht)||[],xt])},off(ht,xt){var _t;vt.set(ht,((_t=vt.get(ht))==null?void 0:_t.filter($t=>$t!==xt))||[])}}}const FloatingNodeContext=reactExports.createContext(null),FloatingTreeContext=reactExports.createContext(null),useFloatingParentNodeId=()=>{var vt;return((vt=reactExports.useContext(FloatingNodeContext))==null?void 0:vt.id)||null},useFloatingTree=()=>reactExports.useContext(FloatingTreeContext),FOCUSABLE_ATTRIBUTE="data-floating-ui-focusable";function useFloatingRootContext(vt){const{open:ht=!1,onOpenChange:xt,elements:_t}=vt,$t=useId(),wt=reactExports.useRef({}),[Ct]=reactExports.useState(()=>createPubSub()),Pt=useFloatingParentNodeId()!=null,[bt,Rt]=reactExports.useState(_t.reference),Nt=useEffectEvent((Ot,Lt,Ft)=>{wt.current.openEvent=Ot?Lt:void 0,Ct.emit("openchange",{open:Ot,event:Lt,reason:Ft,nested:Pt}),xt==null||xt(Ot,Lt,Ft)}),kt=reactExports.useMemo(()=>({setPositionReference:Rt}),[]),Dt=reactExports.useMemo(()=>({reference:bt||_t.reference||null,floating:_t.floating||null,domReference:_t.reference}),[bt,_t.reference,_t.floating]);return reactExports.useMemo(()=>({dataRef:wt,open:ht,onOpenChange:Nt,elements:Dt,events:Ct,floatingId:$t,refs:kt}),[ht,Nt,Dt,Ct,$t,kt])}function useFloating(vt){vt===void 0&&(vt={});const{nodeId:ht}=vt,xt=useFloatingRootContext({...vt,elements:{reference:null,floating:null,...vt.elements}}),_t=vt.rootContext||xt,$t=_t.elements,[wt,Ct]=reactExports.useState(null),[Pt,bt]=reactExports.useState(null),Nt=($t==null?void 0:$t.domReference)||wt,kt=reactExports.useRef(null),Dt=useFloatingTree();index(()=>{Nt&&(kt.current=Nt)},[Nt]);const Ot=useFloating$1({...vt,elements:{...$t,...Pt&&{reference:Pt}}}),Lt=reactExports.useCallback(Bt=>{const Wt=isElement(Bt)?{getBoundingClientRect:()=>Bt.getBoundingClientRect(),contextElement:Bt}:Bt;bt(Wt),Ot.refs.setReference(Wt)},[Ot.refs]),Ft=reactExports.useCallback(Bt=>{(isElement(Bt)||Bt===null)&&(kt.current=Bt,Ct(Bt)),(isElement(Ot.refs.reference.current)||Ot.refs.reference.current===null||Bt!==null&&!isElement(Bt))&&Ot.refs.setReference(Bt)},[Ot.refs]),Ut=reactExports.useMemo(()=>({...Ot.refs,setReference:Ft,setPositionReference:Lt,domReference:kt}),[Ot.refs,Ft,Lt]),jt=reactExports.useMemo(()=>({...Ot.elements,domReference:Nt}),[Ot.elements,Nt]),Vt=reactExports.useMemo(()=>({...Ot,..._t,refs:Ut,elements:jt,nodeId:ht}),[Ot,Ut,jt,ht,_t]);return index(()=>{_t.dataRef.current.floatingContext=Vt;const Bt=Dt==null?void 0:Dt.nodesRef.current.find(Wt=>Wt.id===ht);Bt&&(Bt.context=Vt)}),reactExports.useMemo(()=>({...Ot,context:Vt,refs:Ut,elements:jt}),[Ot,Ut,jt,Vt])}const ACTIVE_KEY="active",SELECTED_KEY="selected";function mergeProps(vt,ht,xt){const _t=new Map,$t=xt==="item";let wt=vt;if($t&&vt){const{[ACTIVE_KEY]:Ct,[SELECTED_KEY]:Pt,...bt}=vt;wt=bt}return{...xt==="floating"&&{tabIndex:-1,[FOCUSABLE_ATTRIBUTE]:""},...wt,...ht.map(Ct=>{const Pt=Ct?Ct[xt]:null;return typeof Pt=="function"?vt?Pt(vt):null:Pt}).concat(vt).reduce((Ct,Pt)=>(Pt&&Object.entries(Pt).forEach(bt=>{let[Rt,Nt]=bt;if(!($t&&[ACTIVE_KEY,SELECTED_KEY].includes(Rt)))if(Rt.indexOf("on")===0){if(_t.has(Rt)||_t.set(Rt,[]),typeof Nt=="function"){var kt;(kt=_t.get(Rt))==null||kt.push(Nt),Ct[Rt]=function(){for(var Dt,Ot=arguments.length,Lt=new Array(Ot),Ft=0;Ft<Ot;Ft++)Lt[Ft]=arguments[Ft];return(Dt=_t.get(Rt))==null?void 0:Dt.map(Ut=>Ut(...Lt)).find(Ut=>Ut!==void 0)}}}else Ct[Rt]=Nt}),Ct),{})}}function useInteractions(vt){vt===void 0&&(vt=[]);const ht=vt.map(Pt=>Pt==null?void 0:Pt.reference),xt=vt.map(Pt=>Pt==null?void 0:Pt.floating),_t=vt.map(Pt=>Pt==null?void 0:Pt.item),$t=reactExports.useCallback(Pt=>mergeProps(Pt,vt,"reference"),ht),wt=reactExports.useCallback(Pt=>mergeProps(Pt,vt,"floating"),xt),Ct=reactExports.useCallback(Pt=>mergeProps(Pt,vt,"item"),_t);return reactExports.useMemo(()=>({getReferenceProps:$t,getFloatingProps:wt,getItemProps:Ct}),[$t,wt,Ct])}function getArgsWithCustomFloatingHeight(vt,ht){return{...vt,rects:{...vt.rects,floating:{...vt.rects.floating,height:ht}}}}const inner=vt=>({name:"inner",options:vt,async fn(ht){const{listRef:xt,overflowRef:_t,onFallbackChange:$t,offset:wt=0,index:Ct=0,minItemsVisible:Pt=4,referenceOverflowThreshold:bt=0,scrollRef:Rt,...Nt}=evaluate(vt,ht),{rects:kt,elements:{floating:Dt}}=ht,Ot=xt.current[Ct],Lt=(Rt==null?void 0:Rt.current)||Dt,Ft=Dt.clientTop||Lt.clientTop,Ut=Dt.clientTop!==0,jt=Lt.clientTop!==0,Vt=Dt===Lt;if(!Ot)return{};const Bt={...ht,...await offset(-Ot.offsetTop-Dt.clientTop-kt.reference.height/2-Ot.offsetHeight/2-wt).fn(ht)},Wt=await detectOverflow(getArgsWithCustomFloatingHeight(Bt,Lt.scrollHeight+Ft+Dt.clientTop),Nt),zt=await detectOverflow(Bt,{...Nt,elementContext:"reference"}),qt=max(0,Wt.top),Xt=Bt.y+qt,Qt=(Lt.scrollHeight>Lt.clientHeight?nn=>nn:round)(max(0,Lt.scrollHeight+(Ut&&Vt||jt?Ft*2:0)-qt-max(0,Wt.bottom)));if(Lt.style.maxHeight=Qt+"px",Lt.scrollTop=qt,$t){const nn=Lt.offsetHeight<Ot.offsetHeight*min(Pt,xt.current.length)-1||zt.top>=-bt||zt.bottom>=-bt;reactDomExports.flushSync(()=>$t(nn))}return _t&&(_t.current=await detectOverflow(getArgsWithCustomFloatingHeight({...Bt,y:Xt},Lt.offsetHeight+Ft+Dt.clientTop),Nt)),{y:Xt}}});function useInnerOffset(vt,ht){const{open:xt,elements:_t}=vt,{enabled:$t=!0,overflowRef:wt,scrollRef:Ct,onChange:Pt}=ht,bt=useEffectEvent(Pt),Rt=reactExports.useRef(!1),Nt=reactExports.useRef(null),kt=reactExports.useRef(null);reactExports.useEffect(()=>{if(!$t)return;function Ot(Ft){if(Ft.ctrlKey||!Lt||wt.current==null)return;const Ut=Ft.deltaY,jt=wt.current.top>=-.5,Vt=wt.current.bottom>=-.5,Bt=Lt.scrollHeight-Lt.clientHeight,Wt=Ut<0?-1:1,zt=Ut<0?"max":"min";Lt.scrollHeight<=Lt.clientHeight||(!jt&&Ut>0||!Vt&&Ut<0?(Ft.preventDefault(),reactDomExports.flushSync(()=>{bt(qt=>qt+Math[zt](Ut,Bt*Wt))})):/firefox/i.test(getUserAgent())&&(Lt.scrollTop+=Ut))}const Lt=(Ct==null?void 0:Ct.current)||_t.floating;if(xt&&Lt)return Lt.addEventListener("wheel",Ot),requestAnimationFrame(()=>{Nt.current=Lt.scrollTop,wt.current!=null&&(kt.current={...wt.current})}),()=>{Nt.current=null,kt.current=null,Lt.removeEventListener("wheel",Ot)}},[$t,xt,_t.floating,wt,Ct,bt]);const Dt=reactExports.useMemo(()=>({onKeyDown(){Rt.current=!0},onWheel(){Rt.current=!1},onPointerMove(){Rt.current=!1},onScroll(){const Ot=(Ct==null?void 0:Ct.current)||_t.floating;if(!(!wt.current||!Ot||!Rt.current)){if(Nt.current!==null){const Lt=Ot.scrollTop-Nt.current;(wt.current.bottom<-.5&&Lt<-1||wt.current.top<-.5&&Lt>1)&&reactDomExports.flushSync(()=>bt(Ft=>Ft+Lt))}requestAnimationFrame(()=>{Nt.current=Ot.scrollTop})}}}),[_t.floating,bt,wt,Ct]);return reactExports.useMemo(()=>$t?{floating:Dt}:{},[$t,Dt])}let y$1=reactExports.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});y$1.displayName="FloatingContext";let H=reactExports.createContext(null);H.displayName="PlacementContext";function xe(vt){return reactExports.useMemo(()=>vt?typeof vt=="string"?{to:vt}:vt:null,[vt])}function ye(){return reactExports.useContext(y$1).setReference}function Fe$1(){return reactExports.useContext(y$1).getReferenceProps}function be(){let{getFloatingProps:vt,slot:ht}=reactExports.useContext(y$1);return reactExports.useCallback((...xt)=>Object.assign({},vt(...xt),{"data-anchor":ht.anchor}),[vt,ht])}function Re(vt=null){vt===!1&&(vt=null),typeof vt=="string"&&(vt={to:vt});let ht=reactExports.useContext(H),xt=reactExports.useMemo(()=>vt,[JSON.stringify(vt,($t,wt)=>{var Ct;return(Ct=wt==null?void 0:wt.outerHTML)!=null?Ct:wt})]);n$3(()=>{ht==null||ht(xt??null)},[ht,xt]);let _t=reactExports.useContext(y$1);return reactExports.useMemo(()=>[_t.setFloating,vt?_t.styles:{}],[_t.setFloating,vt,_t.styles])}let q=4;function Me({children:vt,enabled:ht=!0}){let[xt,_t]=reactExports.useState(null),[$t,wt]=reactExports.useState(0),Ct=reactExports.useRef(null),[Pt,bt]=reactExports.useState(null);pe(Pt);let Rt=ht&&xt!==null&&Pt!==null,{to:Nt="bottom",gap:kt=0,offset:Dt=0,padding:Ot=0,inner:Lt}=ce(xt,Pt),[Ft,Ut="center"]=Nt.split(" ");n$3(()=>{Rt&&wt(0)},[Rt]);let{refs:jt,floatingStyles:Vt,context:Bt}=useFloating({open:Rt,placement:Ft==="selection"?Ut==="center"?"bottom":`bottom-${Ut}`:Ut==="center"?`${Ft}`:`${Ft}-${Ut}`,strategy:"absolute",transform:!1,middleware:[offset({mainAxis:Ft==="selection"?0:kt,crossAxis:Dt}),shift({padding:Ot}),Ft!=="selection"&&flip({padding:Ot}),Ft==="selection"&&Lt?inner({...Lt,padding:Ot,overflowRef:Ct,offset:$t,minItemsVisible:q,referenceOverflowThreshold:Ot,onFallbackChange(nn){var ln,dn;if(!nn)return;let fn=Bt.elements.floating;if(!fn)return;let mn=parseFloat(getComputedStyle(fn).scrollPaddingBottom)||0,pn=Math.min(q,fn.childElementCount),an=0,Kt=0;for(let Jt of(dn=(ln=Bt.elements.floating)==null?void 0:ln.childNodes)!=null?dn:[])if(Jt instanceof HTMLElement){let Gt=Jt.offsetTop,Ht=Gt+Jt.clientHeight+mn,Zt=fn.scrollTop,sn=Zt+fn.clientHeight;if(Gt>=Zt&&Ht<=sn)pn--;else{Kt=Math.max(0,Math.min(Ht,sn)-Math.max(Gt,Zt)),an=Jt.clientHeight;break}}pn>=1&&wt(Jt=>{let Gt=an*pn-Kt+mn;return Jt>=Gt?Jt:Gt})}}):null,size({padding:Ot,apply({availableWidth:nn,availableHeight:ln,elements:dn}){Object.assign(dn.floating.style,{overflow:"auto",maxWidth:`${nn}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${ln}px)`})}})].filter(Boolean),whileElementsMounted:autoUpdate}),[Wt=Ft,zt=Ut]=Bt.placement.split("-");Ft==="selection"&&(Wt="selection");let qt=reactExports.useMemo(()=>({anchor:[Wt,zt].filter(Boolean).join(" ")}),[Wt,zt]),Xt=useInnerOffset(Bt,{overflowRef:Ct,onChange:wt}),{getReferenceProps:Yt,getFloatingProps:en}=useInteractions([Xt]),Qt=o$3(nn=>{bt(nn),jt.setFloating(nn)});return reactExports.createElement(H.Provider,{value:_t},reactExports.createElement(y$1.Provider,{value:{setFloating:Qt,setReference:jt.setReference,styles:Vt,getReferenceProps:Yt,getFloatingProps:en,slot:qt}},vt))}function pe(vt){n$3(()=>{if(!vt)return;let ht=new MutationObserver(()=>{let xt=window.getComputedStyle(vt).maxHeight,_t=parseFloat(xt);if(isNaN(_t))return;let $t=parseInt(xt);isNaN($t)||_t!==$t&&(vt.style.maxHeight=`${Math.ceil(_t)}px`)});return ht.observe(vt,{attributes:!0,attributeFilter:["style"]}),()=>{ht.disconnect()}},[vt])}function ce(vt,ht){var xt,_t,$t;let wt=V((xt=vt==null?void 0:vt.gap)!=null?xt:"var(--anchor-gap, 0)",ht),Ct=V((_t=vt==null?void 0:vt.offset)!=null?_t:"var(--anchor-offset, 0)",ht),Pt=V(($t=vt==null?void 0:vt.padding)!=null?$t:"var(--anchor-padding, 0)",ht);return{...vt,gap:wt,offset:Ct,padding:Pt}}function V(vt,ht,xt=void 0){let _t=p$2(),$t=o$3((bt,Rt)=>{if(bt==null)return[xt,null];if(typeof bt=="number")return[bt,null];if(typeof bt=="string"){if(!Rt)return[xt,null];let Nt=J$1(bt,Rt);return[Nt,kt=>{let Dt=D(bt);{let Ot=Dt.map(Lt=>window.getComputedStyle(Rt).getPropertyValue(Lt));_t.requestAnimationFrame(function Lt(){_t.nextFrame(Lt);let Ft=!1;for(let[jt,Vt]of Dt.entries()){let Bt=window.getComputedStyle(Rt).getPropertyValue(Vt);if(Ot[jt]!==Bt){Ot[jt]=Bt,Ft=!0;break}}if(!Ft)return;let Ut=J$1(bt,Rt);Nt!==Ut&&(kt(Ut),Nt=Ut)})}return _t.dispose}]}return[xt,null]}),wt=reactExports.useMemo(()=>$t(vt,ht)[0],[vt,ht]),[Ct=wt,Pt]=reactExports.useState();return n$3(()=>{let[bt,Rt]=$t(vt,ht);if(Pt(bt),!!Rt)return Rt(Pt)},[vt,ht]),Ct}function D(vt){let ht=/var\((.*)\)/.exec(vt);if(ht){let xt=ht[1].indexOf(",");if(xt===-1)return[ht[1]];let _t=ht[1].slice(0,xt).trim(),$t=ht[1].slice(xt+1).trim();return $t?[_t,...D($t)]:[_t]}return[]}function J$1(vt,ht){let xt=document.createElement("div");ht.appendChild(xt),xt.style.setProperty("margin-top","0px","important"),xt.style.setProperty("margin-top",vt,"important");let _t=parseFloat(window.getComputedStyle(xt).marginTop)||0;return ht.removeChild(xt),_t}let n=reactExports.createContext(null);n.displayName="OpenClosedContext";var i=(vt=>(vt[vt.Open=1]="Open",vt[vt.Closed=2]="Closed",vt[vt.Closing=4]="Closing",vt[vt.Opening=8]="Opening",vt))(i||{});function u$1(){return reactExports.useContext(n)}function c$2({value:vt,children:ht}){return U$4.createElement(n.Provider,{value:vt},ht)}function u(vt){throw new Error("Unexpected object: "+vt)}var c$1=(vt=>(vt[vt.First=0]="First",vt[vt.Previous=1]="Previous",vt[vt.Next=2]="Next",vt[vt.Last=3]="Last",vt[vt.Specific=4]="Specific",vt[vt.Nothing=5]="Nothing",vt))(c$1||{});function f$1(vt,ht){let xt=ht.resolveItems();if(xt.length<=0)return null;let _t=ht.resolveActiveIndex(),$t=_t??-1;switch(vt.focus){case 0:{for(let wt=0;wt<xt.length;++wt)if(!ht.resolveDisabled(xt[wt],wt,xt))return wt;return _t}case 1:{$t===-1&&($t=xt.length);for(let wt=$t-1;wt>=0;--wt)if(!ht.resolveDisabled(xt[wt],wt,xt))return wt;return _t}case 2:{for(let wt=$t+1;wt<xt.length;++wt)if(!ht.resolveDisabled(xt[wt],wt,xt))return wt;return _t}case 3:{for(let wt=xt.length-1;wt>=0;--wt)if(!ht.resolveDisabled(xt[wt],wt,xt))return wt;return _t}case 4:{for(let wt=0;wt<xt.length;++wt)if(ht.resolveId(xt[wt],wt,xt)===vt.id)return wt;return _t}case 5:return null;default:u(vt)}}function c(vt){let ht=o$3(vt),xt=reactExports.useRef(!1);reactExports.useEffect(()=>(xt.current=!1,()=>{xt.current=!0,t$3(()=>{xt.current&&ht()})}),[ht])}function s$2(){let vt=typeof document>"u";return"useSyncExternalStore"in t$4?(ht=>ht.useSyncExternalStore)(t$4)(()=>()=>{},()=>!1,()=>!vt):!1}function l(){let vt=s$2(),[ht,xt]=reactExports.useState(s$5.isHandoffComplete);return ht&&s$5.isHandoffComplete===!1&&xt(!1),reactExports.useEffect(()=>{ht!==!0&&xt(!0)},[ht]),reactExports.useEffect(()=>s$5.handoff(),[]),vt?!1:ht}let e=reactExports.createContext(!1);function a$1(){return reactExports.useContext(e)}function N(vt){let ht=a$1(),xt=reactExports.useContext(v),_t=n$1(vt),[$t,wt]=reactExports.useState(()=>{var Ct;if(!ht&&xt!==null)return(Ct=xt.current)!=null?Ct:null;if(s$5.isServer)return null;let Pt=_t==null?void 0:_t.getElementById("headlessui-portal-root");if(Pt)return Pt;if(_t===null)return null;let bt=_t.createElement("div");return bt.setAttribute("id","headlessui-portal-root"),_t.body.appendChild(bt)});return reactExports.useEffect(()=>{$t!==null&&(_t!=null&&_t.body.contains($t)||_t==null||_t.body.appendChild($t))},[$t,_t]),reactExports.useEffect(()=>{ht||xt!==null&&wt(xt.current)},[xt,wt,ht]),$t}let M$1=reactExports.Fragment,S=K$1(function(vt,ht){let xt=vt,_t=reactExports.useRef(null),$t=y$4(T$2(kt=>{_t.current=kt}),ht),wt=n$1(_t),Ct=N(_t),[Pt]=reactExports.useState(()=>{var kt;return s$5.isServer?null:(kt=wt==null?void 0:wt.createElement("div"))!=null?kt:null}),bt=reactExports.useContext(y),Rt=l();n$3(()=>{!Ct||!Pt||Ct.contains(Pt)||(Pt.setAttribute("data-headlessui-portal",""),Ct.appendChild(Pt))},[Ct,Pt]),n$3(()=>{if(Pt&&bt)return bt.register(Pt)},[bt,Pt]),c(()=>{var kt;!Ct||!Pt||(Pt instanceof Node&&Ct.contains(Pt)&&Ct.removeChild(Pt),Ct.childNodes.length<=0&&((kt=Ct.parentElement)==null||kt.removeChild(Ct)))});let Nt=L$1();return Rt?!Ct||!Pt?null:reactDomExports.createPortal(Nt({ourProps:{ref:$t},theirProps:xt,slot:{},defaultTag:M$1,name:"Portal"}),Pt):null});function j$1(vt,ht){let xt=y$4(ht),{enabled:_t=!0,...$t}=vt,wt=L$1();return _t?U$4.createElement(S,{...$t,ref:xt}):wt({ourProps:{ref:xt},theirProps:$t,slot:{},defaultTag:M$1,name:"Portal"})}let W=reactExports.Fragment,v=reactExports.createContext(null);function I(vt,ht){let{target:xt,..._t}=vt,$t={ref:y$4(ht)},wt=L$1();return U$4.createElement(v.Provider,{value:xt},wt({ourProps:$t,theirProps:_t,defaultTag:W,name:"Popover.Group"}))}let y=reactExports.createContext(null),J=K$1(j$1),X$1=K$1(I),re=Object.assign(J,{Group:X$1});function f(){let vt=reactExports.useRef(!1);return n$3(()=>(vt.current=!0,()=>{vt.current=!1}),[]),vt}function ue(vt){var ht;return!!(vt.enter||vt.enterFrom||vt.enterTo||vt.leave||vt.leaveFrom||vt.leaveTo)||((ht=vt.as)!=null?ht:de)!==reactExports.Fragment||U$4.Children.count(vt.children)===1}let w$1=reactExports.createContext(null);w$1.displayName="TransitionContext";var _e=(vt=>(vt.Visible="visible",vt.Hidden="hidden",vt))(_e||{});function De(){let vt=reactExports.useContext(w$1);if(vt===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return vt}function He(){let vt=reactExports.useContext(M);if(vt===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return vt}let M=reactExports.createContext(null);M.displayName="NestingContext";function U(vt){return"children"in vt?U(vt.children):vt.current.filter(({el:ht})=>ht.current!==null).filter(({state:ht})=>ht==="visible").length>0}function Te(vt,ht){let xt=s$4(vt),_t=reactExports.useRef([]),$t=f(),wt=p$2(),Ct=o$3((Ot,Lt=A$1.Hidden)=>{let Ft=_t.current.findIndex(({el:Ut})=>Ut===Ot);Ft!==-1&&(u$6(Lt,{[A$1.Unmount](){_t.current.splice(Ft,1)},[A$1.Hidden](){_t.current[Ft].state="hidden"}}),wt.microTask(()=>{var Ut;!U(_t)&&$t.current&&((Ut=xt.current)==null||Ut.call(xt))}))}),Pt=o$3(Ot=>{let Lt=_t.current.find(({el:Ft})=>Ft===Ot);return Lt?Lt.state!=="visible"&&(Lt.state="visible"):_t.current.push({el:Ot,state:"visible"}),()=>Ct(Ot,A$1.Unmount)}),bt=reactExports.useRef([]),Rt=reactExports.useRef(Promise.resolve()),Nt=reactExports.useRef({enter:[],leave:[]}),kt=o$3((Ot,Lt,Ft)=>{bt.current.splice(0),ht&&(ht.chains.current[Lt]=ht.chains.current[Lt].filter(([Ut])=>Ut!==Ot)),ht==null||ht.chains.current[Lt].push([Ot,new Promise(Ut=>{bt.current.push(Ut)})]),ht==null||ht.chains.current[Lt].push([Ot,new Promise(Ut=>{Promise.all(Nt.current[Lt].map(([jt,Vt])=>Vt)).then(()=>Ut())})]),Lt==="enter"?Rt.current=Rt.current.then(()=>ht==null?void 0:ht.wait.current).then(()=>Ft(Lt)):Ft(Lt)}),Dt=o$3((Ot,Lt,Ft)=>{Promise.all(Nt.current[Lt].splice(0).map(([Ut,jt])=>jt)).then(()=>{var Ut;(Ut=bt.current.shift())==null||Ut()}).then(()=>Ft(Lt))});return reactExports.useMemo(()=>({children:_t,register:Pt,unregister:Ct,onStart:kt,onStop:Dt,wait:Rt,chains:Nt}),[Pt,Ct,_t,kt,Dt,Nt,Rt])}let de=reactExports.Fragment,fe=O$1.RenderStrategy;function Ae(vt,ht){var xt,_t;let{transition:$t=!0,beforeEnter:wt,afterEnter:Ct,beforeLeave:Pt,afterLeave:bt,enter:Rt,enterFrom:Nt,enterTo:kt,entered:Dt,leave:Ot,leaveFrom:Lt,leaveTo:Ft,...Ut}=vt,[jt,Vt]=reactExports.useState(null),Bt=reactExports.useRef(null),Wt=ue(vt),zt=y$4(...Wt?[Bt,ht,Vt]:ht===null?[]:[ht]),qt=(xt=Ut.unmount)==null||xt?A$1.Unmount:A$1.Hidden,{show:Xt,appear:Yt,initial:en}=De(),[Qt,nn]=reactExports.useState(Xt?"visible":"hidden"),ln=He(),{register:dn,unregister:fn}=ln;n$3(()=>dn(Bt),[dn,Bt]),n$3(()=>{if(qt===A$1.Hidden&&Bt.current){if(Xt&&Qt!=="visible"){nn("visible");return}return u$6(Qt,{hidden:()=>fn(Bt),visible:()=>dn(Bt)})}},[Qt,Bt,dn,fn,Xt,qt]);let mn=l();n$3(()=>{if(Wt&&mn&&Qt==="visible"&&Bt.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[Bt,Qt,mn,Wt]);let pn=en&&!Yt,an=Yt&&Xt&&en,Kt=reactExports.useRef(!1),Jt=Te(()=>{Kt.current||(nn("hidden"),fn(Bt))},ln),Gt=o$3(tn=>{Kt.current=!0;let on=tn?"enter":"leave";Jt.onStart(Bt,on,vn=>{vn==="enter"?wt==null||wt():vn==="leave"&&(Pt==null||Pt())})}),Ht=o$3(tn=>{let on=tn?"enter":"leave";Kt.current=!1,Jt.onStop(Bt,on,vn=>{vn==="enter"?Ct==null||Ct():vn==="leave"&&(bt==null||bt())}),on==="leave"&&!U(Jt)&&(nn("hidden"),fn(Bt))});reactExports.useEffect(()=>{Wt&&$t||(Gt(Xt),Ht(Xt))},[Xt,Wt,$t]);let Zt=!(!$t||!Wt||!mn||pn),[,sn]=x(Zt,jt,Xt,{start:Gt,end:Ht}),cn=m$3({ref:zt,className:((_t=t$2(Ut.className,an&&Rt,an&&Nt,sn.enter&&Rt,sn.enter&&sn.closed&&Nt,sn.enter&&!sn.closed&&kt,sn.leave&&Ot,sn.leave&&!sn.closed&&Lt,sn.leave&&sn.closed&&Ft,!sn.transition&&Xt&&Dt))==null?void 0:_t.trim())||void 0,...R(sn)}),un=0;Qt==="visible"&&(un|=i.Open),Qt==="hidden"&&(un|=i.Closed),sn.enter&&(un|=i.Opening),sn.leave&&(un|=i.Closing);let hn=L$1();return U$4.createElement(M.Provider,{value:Jt},U$4.createElement(c$2,{value:un},hn({ourProps:cn,theirProps:Ut,defaultTag:de,features:fe,visible:Qt==="visible",name:"Transition.Child"})))}function Ie(vt,ht){let{show:xt,appear:_t=!1,unmount:$t=!0,...wt}=vt,Ct=reactExports.useRef(null),Pt=ue(vt),bt=y$4(...Pt?[Ct,ht]:ht===null?[]:[ht]);l();let Rt=u$1();if(xt===void 0&&Rt!==null&&(xt=(Rt&i.Open)===i.Open),xt===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[Nt,kt]=reactExports.useState(xt?"visible":"hidden"),Dt=Te(()=>{xt||kt("hidden")}),[Ot,Lt]=reactExports.useState(!0),Ft=reactExports.useRef([xt]);n$3(()=>{Ot!==!1&&Ft.current[Ft.current.length-1]!==xt&&(Ft.current.push(xt),Lt(!1))},[Ft,xt]);let Ut=reactExports.useMemo(()=>({show:xt,appear:_t,initial:Ot}),[xt,_t,Ot]);n$3(()=>{xt?kt("visible"):!U(Dt)&&Ct.current!==null&&kt("hidden")},[xt,Dt]);let jt={unmount:$t},Vt=o$3(()=>{var zt;Ot&&Lt(!1),(zt=vt.beforeEnter)==null||zt.call(vt)}),Bt=o$3(()=>{var zt;Ot&&Lt(!1),(zt=vt.beforeLeave)==null||zt.call(vt)}),Wt=L$1();return U$4.createElement(M.Provider,{value:Dt},U$4.createElement(w$1.Provider,{value:Ut},Wt({ourProps:{...jt,as:reactExports.Fragment,children:U$4.createElement(me,{ref:bt,...jt,...wt,beforeEnter:Vt,beforeLeave:Bt})},theirProps:{},defaultTag:reactExports.Fragment,features:fe,visible:Nt==="visible",name:"Transition"})))}function Le(vt,ht){let xt=reactExports.useContext(w$1)!==null,_t=u$1()!==null;return U$4.createElement(U$4.Fragment,null,!xt&&_t?U$4.createElement(X,{ref:ht,...vt}):U$4.createElement(me,{ref:ht,...vt}))}let X=K$1(Ie),me=K$1(Ae),Fe=K$1(Le),ze$1=Object.assign(X,{Child:Fe,Root:X});function s$1(vt,ht){let xt=reactExports.useRef({left:0,top:0});if(n$3(()=>{if(!ht)return;let $t=ht.getBoundingClientRect();$t&&(xt.current=$t)},[vt,ht]),ht==null||!vt||ht===document.activeElement)return!1;let _t=ht.getBoundingClientRect();return _t.top!==xt.current.top||_t.left!==xt.current.left}let a=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function o(vt){var ht,xt;let _t=(ht=vt.innerText)!=null?ht:"",$t=vt.cloneNode(!0);if(!($t instanceof HTMLElement))return _t;let wt=!1;for(let Pt of $t.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))Pt.remove(),wt=!0;let Ct=wt?(xt=$t.innerText)!=null?xt:"":_t;return a.test(Ct)&&(Ct=Ct.replace(a,"")),Ct}function g(vt){let ht=vt.getAttribute("aria-label");if(typeof ht=="string")return ht.trim();let xt=vt.getAttribute("aria-labelledby");if(xt){let _t=xt.split(" ").map($t=>{let wt=document.getElementById($t);if(wt){let Ct=wt.getAttribute("aria-label");return typeof Ct=="string"?Ct.trim():o(wt).trim()}return null}).filter(Boolean);if(_t.length>0)return _t.join(", ")}return o(vt).trim()}function s(vt){let ht=reactExports.useRef(""),xt=reactExports.useRef("");return o$3(()=>{let _t=vt.current;if(!_t)return"";let $t=_t.innerText;if(ht.current===$t)return xt.current;let wt=g(_t).trim().toLowerCase();return ht.current=$t,xt.current=wt,wt})}var qe=(vt=>(vt[vt.Open=0]="Open",vt[vt.Closed=1]="Closed",vt))(qe||{}),ze=(vt=>(vt[vt.Pointer=0]="Pointer",vt[vt.Other=1]="Other",vt))(ze||{}),Ye=(vt=>(vt[vt.OpenMenu=0]="OpenMenu",vt[vt.CloseMenu=1]="CloseMenu",vt[vt.GoToItem=2]="GoToItem",vt[vt.Search=3]="Search",vt[vt.ClearSearch=4]="ClearSearch",vt[vt.RegisterItem=5]="RegisterItem",vt[vt.UnregisterItem=6]="UnregisterItem",vt[vt.SetButtonElement=7]="SetButtonElement",vt[vt.SetItemsElement=8]="SetItemsElement",vt))(Ye||{});function j(vt,ht=xt=>xt){let xt=vt.activeItemIndex!==null?vt.items[vt.activeItemIndex]:null,_t=_(ht(vt.items.slice()),wt=>wt.dataRef.current.domRef.current),$t=xt?_t.indexOf(xt):null;return $t===-1&&($t=null),{items:_t,activeItemIndex:$t}}let Ze={1(vt){return vt.menuState===1?vt:{...vt,activeItemIndex:null,menuState:1}},0(vt){return vt.menuState===0?vt:{...vt,__demoMode:!1,menuState:0}},2:(vt,ht)=>{var xt,_t,$t,wt,Ct;if(vt.menuState===1)return vt;let Pt={...vt,searchQuery:"",activationTrigger:(xt=ht.trigger)!=null?xt:1,__demoMode:!1};if(ht.focus===c$1.Nothing)return{...Pt,activeItemIndex:null};if(ht.focus===c$1.Specific)return{...Pt,activeItemIndex:vt.items.findIndex(Nt=>Nt.id===ht.id)};if(ht.focus===c$1.Previous){let Nt=vt.activeItemIndex;if(Nt!==null){let kt=vt.items[Nt].dataRef.current.domRef,Dt=f$1(ht,{resolveItems:()=>vt.items,resolveActiveIndex:()=>vt.activeItemIndex,resolveId:Ot=>Ot.id,resolveDisabled:Ot=>Ot.dataRef.current.disabled});if(Dt!==null){let Ot=vt.items[Dt].dataRef.current.domRef;if(((_t=kt.current)==null?void 0:_t.previousElementSibling)===Ot.current||(($t=Ot.current)==null?void 0:$t.previousElementSibling)===null)return{...Pt,activeItemIndex:Dt}}}}else if(ht.focus===c$1.Next){let Nt=vt.activeItemIndex;if(Nt!==null){let kt=vt.items[Nt].dataRef.current.domRef,Dt=f$1(ht,{resolveItems:()=>vt.items,resolveActiveIndex:()=>vt.activeItemIndex,resolveId:Ot=>Ot.id,resolveDisabled:Ot=>Ot.dataRef.current.disabled});if(Dt!==null){let Ot=vt.items[Dt].dataRef.current.domRef;if(((wt=kt.current)==null?void 0:wt.nextElementSibling)===Ot.current||((Ct=Ot.current)==null?void 0:Ct.nextElementSibling)===null)return{...Pt,activeItemIndex:Dt}}}}let bt=j(vt),Rt=f$1(ht,{resolveItems:()=>bt.items,resolveActiveIndex:()=>bt.activeItemIndex,resolveId:Nt=>Nt.id,resolveDisabled:Nt=>Nt.dataRef.current.disabled});return{...Pt,...bt,activeItemIndex:Rt}},3:(vt,ht)=>{let xt=vt.searchQuery!==""?0:1,_t=vt.searchQuery+ht.value.toLowerCase(),$t=(vt.activeItemIndex!==null?vt.items.slice(vt.activeItemIndex+xt).concat(vt.items.slice(0,vt.activeItemIndex+xt)):vt.items).find(Ct=>{var Pt;return((Pt=Ct.dataRef.current.textValue)==null?void 0:Pt.startsWith(_t))&&!Ct.dataRef.current.disabled}),wt=$t?vt.items.indexOf($t):-1;return wt===-1||wt===vt.activeItemIndex?{...vt,searchQuery:_t}:{...vt,searchQuery:_t,activeItemIndex:wt,activationTrigger:1}},4(vt){return vt.searchQuery===""?vt:{...vt,searchQuery:"",searchActiveItemIndex:null}},5:(vt,ht)=>{let xt=j(vt,_t=>[..._t,{id:ht.id,dataRef:ht.dataRef}]);return{...vt,...xt}},6:(vt,ht)=>{let xt=j(vt,_t=>{let $t=_t.findIndex(wt=>wt.id===ht.id);return $t!==-1&&_t.splice($t,1),_t});return{...vt,...xt,activationTrigger:1}},7:(vt,ht)=>vt.buttonElement===ht.element?vt:{...vt,buttonElement:ht.element},8:(vt,ht)=>vt.itemsElement===ht.element?vt:{...vt,itemsElement:ht.element}},Q=reactExports.createContext(null);Q.displayName="MenuContext";function w(vt){let ht=reactExports.useContext(Q);if(ht===null){let xt=new Error(`<${vt} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(xt,w),xt}return ht}function et(vt,ht){return u$6(ht.type,Ze,vt,ht)}let tt=reactExports.Fragment;function nt(vt,ht){let{__demoMode:xt=!1,..._t}=vt,$t=reactExports.useReducer(et,{__demoMode:xt,menuState:xt?0:1,buttonElement:null,itemsElement:null,items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:wt,itemsElement:Ct,buttonElement:Pt},bt]=$t,Rt=y$4(ht);R$1(wt===0,[Pt,Ct],(Lt,Ft)=>{bt({type:1}),A(Ft,h.Loose)||(Lt.preventDefault(),Pt==null||Pt.focus())});let Nt=o$3(()=>{bt({type:1})}),kt=reactExports.useMemo(()=>({open:wt===0,close:Nt}),[wt,Nt]),Dt={ref:Rt},Ot=L$1();return U$4.createElement(Me,null,U$4.createElement(Q.Provider,{value:$t},U$4.createElement(c$2,{value:u$6(wt,{0:i.Open,1:i.Closed})},Ot({ourProps:Dt,theirProps:_t,slot:kt,defaultTag:tt,name:"Menu"}))))}let rt="button";function ot(vt,ht){var xt;let _t=reactExports.useId(),{id:$t=`headlessui-menu-button-${_t}`,disabled:wt=!1,autoFocus:Ct=!1,...Pt}=vt,[bt,Rt]=w("Menu.Button"),Nt=Fe$1(),kt=y$4(ht,ye(),o$3(Xt=>Rt({type:7,element:Xt}))),Dt=o$3(Xt=>{switch(Xt.key){case o$2.Space:case o$2.Enter:case o$2.ArrowDown:Xt.preventDefault(),Xt.stopPropagation(),reactDomExports.flushSync(()=>Rt({type:0})),Rt({type:2,focus:c$1.First});break;case o$2.ArrowUp:Xt.preventDefault(),Xt.stopPropagation(),reactDomExports.flushSync(()=>Rt({type:0})),Rt({type:2,focus:c$1.Last});break}}),Ot=o$3(Xt=>{switch(Xt.key){case o$2.Space:Xt.preventDefault();break}}),Lt=o$3(Xt=>{var Yt;if(r$1(Xt.currentTarget))return Xt.preventDefault();wt||(bt.menuState===0?(reactDomExports.flushSync(()=>Rt({type:1})),(Yt=bt.buttonElement)==null||Yt.focus({preventScroll:!0})):(Xt.preventDefault(),Rt({type:0})))}),{isFocusVisible:Ft,focusProps:Ut}=$f7dceffc5ad7768b$export$4e328f61c538687f({autoFocus:Ct}),{isHovered:jt,hoverProps:Vt}=$6179b936705e76d3$export$ae780daf29e6d456({isDisabled:wt}),{pressed:Bt,pressProps:Wt}=w$4({disabled:wt}),zt=reactExports.useMemo(()=>({open:bt.menuState===0,active:Bt||bt.menuState===0,disabled:wt,hover:jt,focus:Ft,autofocus:Ct}),[bt,jt,Ft,Bt,wt,Ct]),qt=_$2(Nt(),{ref:kt,id:$t,type:e$1(vt,bt.buttonElement),"aria-haspopup":"menu","aria-controls":(xt=bt.itemsElement)==null?void 0:xt.id,"aria-expanded":bt.menuState===0,disabled:wt||void 0,autoFocus:Ct,onKeyDown:Dt,onKeyUp:Ot,onClick:Lt},Ut,Vt,Wt);return L$1()({ourProps:qt,theirProps:Pt,slot:zt,defaultTag:rt,name:"Menu.Button"})}let at="div",lt=O$1.RenderStrategy|O$1.Static;function it(vt,ht){var xt,_t;let $t=reactExports.useId(),{id:wt=`headlessui-menu-items-${$t}`,anchor:Ct,portal:Pt=!1,modal:bt=!0,transition:Rt=!1,...Nt}=vt,kt=xe(Ct),[Dt,Ot]=w("Menu.Items"),[Lt,Ft]=Re(kt),Ut=be(),[jt,Vt]=reactExports.useState(null),Bt=y$4(ht,kt?Lt:null,o$3(Kt=>Ot({type:8,element:Kt})),Vt),Wt=n$1(Dt.itemsElement);kt&&(Pt=!0);let zt=u$1(),[qt,Xt]=x(Rt,jt,zt!==null?(zt&i.Open)===i.Open:Dt.menuState===0);m$1(qt,Dt.buttonElement,()=>{Ot({type:1})});let Yt=Dt.__demoMode?!1:bt&&Dt.menuState===0;f$2(Yt,Wt);let en=Dt.__demoMode?!1:bt&&Dt.menuState===0;y$3(en,{allowed:reactExports.useCallback(()=>[Dt.buttonElement,Dt.itemsElement],[Dt.buttonElement,Dt.itemsElement])});let Qt=Dt.menuState!==0,nn=s$1(Qt,Dt.buttonElement)?!1:qt;reactExports.useEffect(()=>{let Kt=Dt.itemsElement;Kt&&Dt.menuState===0&&Kt!==(Wt==null?void 0:Wt.activeElement)&&Kt.focus({preventScroll:!0})},[Dt.menuState,Dt.itemsElement,Wt]),F(Dt.menuState===0,{container:Dt.itemsElement,accept(Kt){return Kt.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:Kt.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(Kt){Kt.setAttribute("role","none")}});let ln=p$2(),dn=o$3(Kt=>{var Jt,Gt,Ht;switch(ln.dispose(),Kt.key){case o$2.Space:if(Dt.searchQuery!=="")return Kt.preventDefault(),Kt.stopPropagation(),Ot({type:3,value:Kt.key});case o$2.Enter:if(Kt.preventDefault(),Kt.stopPropagation(),Ot({type:1}),Dt.activeItemIndex!==null){let{dataRef:Zt}=Dt.items[Dt.activeItemIndex];(Gt=(Jt=Zt.current)==null?void 0:Jt.domRef.current)==null||Gt.click()}G(Dt.buttonElement);break;case o$2.ArrowDown:return Kt.preventDefault(),Kt.stopPropagation(),Ot({type:2,focus:c$1.Next});case o$2.ArrowUp:return Kt.preventDefault(),Kt.stopPropagation(),Ot({type:2,focus:c$1.Previous});case o$2.Home:case o$2.PageUp:return Kt.preventDefault(),Kt.stopPropagation(),Ot({type:2,focus:c$1.First});case o$2.End:case o$2.PageDown:return Kt.preventDefault(),Kt.stopPropagation(),Ot({type:2,focus:c$1.Last});case o$2.Escape:Kt.preventDefault(),Kt.stopPropagation(),reactDomExports.flushSync(()=>Ot({type:1})),(Ht=Dt.buttonElement)==null||Ht.focus({preventScroll:!0});break;case o$2.Tab:Kt.preventDefault(),Kt.stopPropagation(),reactDomExports.flushSync(()=>Ot({type:1})),j$3(Dt.buttonElement,Kt.shiftKey?F$1.Previous:F$1.Next);break;default:Kt.key.length===1&&(Ot({type:3,value:Kt.key}),ln.setTimeout(()=>Ot({type:4}),350));break}}),fn=o$3(Kt=>{switch(Kt.key){case o$2.Space:Kt.preventDefault();break}}),mn=reactExports.useMemo(()=>({open:Dt.menuState===0}),[Dt.menuState]),pn=_$2(kt?Ut():{},{"aria-activedescendant":Dt.activeItemIndex===null||(xt=Dt.items[Dt.activeItemIndex])==null?void 0:xt.id,"aria-labelledby":(_t=Dt.buttonElement)==null?void 0:_t.id,id:wt,onKeyDown:dn,onKeyUp:fn,role:"menu",tabIndex:Dt.menuState===0?0:void 0,ref:Bt,style:{...Nt.style,...Ft,"--button-width":d$2(Dt.buttonElement,!0).width},...R(Xt)}),an=L$1();return U$4.createElement(re,{enabled:Pt?vt.static||qt:!1},an({ourProps:pn,theirProps:Nt,slot:mn,defaultTag:at,features:lt,visible:nn,name:"Menu.Items"}))}let st=reactExports.Fragment;function ut(vt,ht){let xt=reactExports.useId(),{id:_t=`headlessui-menu-item-${xt}`,disabled:$t=!1,...wt}=vt,[Ct,Pt]=w("Menu.Item"),bt=Ct.activeItemIndex!==null?Ct.items[Ct.activeItemIndex].id===_t:!1,Rt=reactExports.useRef(null),Nt=y$4(ht,Rt);n$3(()=>{if(!Ct.__demoMode&&Ct.menuState===0&&bt&&Ct.activationTrigger!==0)return o$4().requestAnimationFrame(()=>{var nn,ln;(ln=(nn=Rt.current)==null?void 0:nn.scrollIntoView)==null||ln.call(nn,{block:"nearest"})})},[Ct.__demoMode,Rt,bt,Ct.menuState,Ct.activationTrigger,Ct.activeItemIndex]);let kt=s(Rt),Dt=reactExports.useRef({disabled:$t,domRef:Rt,get textValue(){return kt()}});n$3(()=>{Dt.current.disabled=$t},[Dt,$t]),n$3(()=>(Pt({type:5,id:_t,dataRef:Dt}),()=>Pt({type:6,id:_t})),[Dt,_t]);let Ot=o$3(()=>{Pt({type:1})}),Lt=o$3(nn=>{if($t)return nn.preventDefault();Pt({type:1}),G(Ct.buttonElement)}),Ft=o$3(()=>{if($t)return Pt({type:2,focus:c$1.Nothing});Pt({type:2,focus:c$1.Specific,id:_t})}),Ut=u$2(),jt=o$3(nn=>{Ut.update(nn),!$t&&(bt||Pt({type:2,focus:c$1.Specific,id:_t,trigger:0}))}),Vt=o$3(nn=>{Ut.wasMoved(nn)&&($t||bt||Pt({type:2,focus:c$1.Specific,id:_t,trigger:0}))}),Bt=o$3(nn=>{Ut.wasMoved(nn)&&($t||bt&&Pt({type:2,focus:c$1.Nothing}))}),[Wt,zt]=K(),[qt,Xt]=w$3(),Yt=reactExports.useMemo(()=>({active:bt,focus:bt,disabled:$t,close:Ot}),[bt,$t,Ot]),en={id:_t,ref:Nt,role:"menuitem",tabIndex:$t===!0?void 0:-1,"aria-disabled":$t===!0?!0:void 0,"aria-labelledby":Wt,"aria-describedby":qt,disabled:void 0,onClick:Lt,onFocus:Ft,onPointerEnter:jt,onMouseEnter:jt,onPointerMove:Vt,onMouseMove:Vt,onPointerLeave:Bt,onMouseLeave:Bt},Qt=L$1();return U$4.createElement(zt,null,U$4.createElement(Xt,null,Qt({ourProps:en,theirProps:wt,slot:Yt,defaultTag:st,name:"Menu.Item"})))}let pt="div";function mt(vt,ht){let[xt,_t]=K(),$t=vt,wt={ref:ht,"aria-labelledby":xt,role:"group"},Ct=L$1();return U$4.createElement(_t,null,Ct({ourProps:wt,theirProps:$t,slot:{},defaultTag:pt,name:"Menu.Section"}))}let dt="header";function ct(vt,ht){let xt=reactExports.useId(),{id:_t=`headlessui-menu-heading-${xt}`,...$t}=vt,wt=P$1();n$3(()=>wt.register(_t),[_t,wt.register]);let Ct={id:_t,ref:ht,role:"presentation",...wt.props};return L$1()({ourProps:Ct,theirProps:$t,slot:{},defaultTag:dt,name:"Menu.Heading"})}let ft="div";function Tt(vt,ht){let xt=vt,_t={ref:ht,role:"separator"};return L$1()({ourProps:_t,theirProps:xt,slot:{},defaultTag:ft,name:"Menu.Separator"})}let yt=K$1(nt),It=K$1(ot),gt=K$1(it),Et=K$1(ut),Mt=K$1(mt),St=K$1(ct),At=K$1(Tt),rn=Object.assign(yt,{Button:It,Items:gt,Item:Et,Section:Mt,Heading:St,Separator:At});var propTypes={exports:{}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function vt(_t,$t,wt,Ct,Pt,bt){if(bt!==ReactPropTypesSecret){var Rt=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw Rt.name="Invariant Violation",Rt}}vt.isRequired=vt;function ht(){return vt}var xt={array:vt,bigint:vt,bool:vt,func:vt,number:vt,object:vt,string:vt,symbol:vt,any:vt,arrayOf:ht,element:vt,elementType:vt,instanceOf:ht,node:vt,objectOf:ht,oneOf:ht,oneOfType:ht,shape:ht,exact:ht,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return xt.PropTypes=xt,xt};propTypes.exports=factoryWithThrowingShims();var propTypesExports=propTypes.exports;const PropTypes=getDefaultExportFromCjs(propTypesExports);function createDOMMotionComponentProxy(vt){if(typeof Proxy>"u")return vt;const ht=new Map,xt=(..._t)=>vt(..._t);return new Proxy(xt,{get:(_t,$t)=>$t==="create"?vt:(ht.has($t)||ht.set($t,vt($t)),ht.get($t))})}function isAnimationControls(vt){return vt!==null&&typeof vt=="object"&&typeof vt.start=="function"}const isKeyframesTarget=vt=>Array.isArray(vt);function shallowCompare(vt,ht){if(!Array.isArray(ht))return!1;const xt=ht.length;if(xt!==vt.length)return!1;for(let _t=0;_t<xt;_t++)if(ht[_t]!==vt[_t])return!1;return!0}function isVariantLabel(vt){return typeof vt=="string"||Array.isArray(vt)}function getValueState(vt){const ht=[{},{}];return vt==null||vt.values.forEach((xt,_t)=>{ht[0][_t]=xt.get(),ht[1][_t]=xt.getVelocity()}),ht}function resolveVariantFromProps(vt,ht,xt,_t){if(typeof ht=="function"){const[$t,wt]=getValueState(_t);ht=ht(xt!==void 0?xt:vt.custom,$t,wt)}if(typeof ht=="string"&&(ht=vt.variants&&vt.variants[ht]),typeof ht=="function"){const[$t,wt]=getValueState(_t);ht=ht(xt!==void 0?xt:vt.custom,$t,wt)}return ht}function resolveVariant(vt,ht,xt){const _t=vt.getProps();return resolveVariantFromProps(_t,ht,xt!==void 0?xt:_t.custom,vt)}const variantPriorityOrder=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],variantProps=["initial",...variantPriorityOrder],transformPropOrder=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],transformProps=new Set(transformPropOrder),secondsToMilliseconds=vt=>vt*1e3,millisecondsToSeconds=vt=>vt/1e3,underDampedSpring={type:"spring",stiffness:500,damping:25,restSpeed:10},criticallyDampedSpring=vt=>({type:"spring",stiffness:550,damping:vt===0?2*Math.sqrt(550):30,restSpeed:10}),keyframesTransition={type:"keyframes",duration:.8},ease={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},getDefaultTransition=(vt,{keyframes:ht})=>ht.length>2?keyframesTransition:transformProps.has(vt)?vt.startsWith("scale")?criticallyDampedSpring(ht[1]):underDampedSpring:ease;function getValueTransition(vt,ht){return vt?vt[ht]||vt.default||vt:void 0}const MotionGlobalConfig={skipAnimations:!1,useManualTiming:!1},isNotNull=vt=>vt!==null;function getFinalKeyframe(vt,{repeat:ht,repeatType:xt="loop"},_t){const $t=vt.filter(isNotNull),wt=ht&&xt!=="loop"&&ht%2===1?0:$t.length-1;return!wt||_t===void 0?$t[wt]:_t}const noop=vt=>vt;function createRenderStep(vt){let ht=new Set,xt=new Set,_t=!1,$t=!1;const wt=new WeakSet;let Ct={delta:0,timestamp:0,isProcessing:!1};function Pt(Rt){wt.has(Rt)&&(bt.schedule(Rt),vt()),Rt(Ct)}const bt={schedule:(Rt,Nt=!1,kt=!1)=>{const Ot=kt&&_t?ht:xt;return Nt&&wt.add(Rt),Ot.has(Rt)||Ot.add(Rt),Rt},cancel:Rt=>{xt.delete(Rt),wt.delete(Rt)},process:Rt=>{if(Ct=Rt,_t){$t=!0;return}_t=!0,[ht,xt]=[xt,ht],xt.clear(),ht.forEach(Pt),_t=!1,$t&&($t=!1,bt.process(Rt))}};return bt}const stepsOrder=["read","resolveKeyframes","update","preRender","render","postRender"],maxElapsed=40;function createRenderBatcher(vt,ht){let xt=!1,_t=!0;const $t={delta:0,timestamp:0,isProcessing:!1},wt=()=>xt=!0,Ct=stepsOrder.reduce((jt,Vt)=>(jt[Vt]=createRenderStep(wt),jt),{}),{read:Pt,resolveKeyframes:bt,update:Rt,preRender:Nt,render:kt,postRender:Dt}=Ct,Ot=()=>{const jt=performance.now();xt=!1,$t.delta=_t?1e3/60:Math.max(Math.min(jt-$t.timestamp,maxElapsed),1),$t.timestamp=jt,$t.isProcessing=!0,Pt.process($t),bt.process($t),Rt.process($t),Nt.process($t),kt.process($t),Dt.process($t),$t.isProcessing=!1,xt&&ht&&(_t=!1,vt(Ot))},Lt=()=>{xt=!0,_t=!0,$t.isProcessing||vt(Ot)};return{schedule:stepsOrder.reduce((jt,Vt)=>{const Bt=Ct[Vt];return jt[Vt]=(Wt,zt=!1,qt=!1)=>(xt||Lt(),Bt.schedule(Wt,zt,qt)),jt},{}),cancel:jt=>{for(let Vt=0;Vt<stepsOrder.length;Vt++)Ct[stepsOrder[Vt]].cancel(jt)},state:$t,steps:Ct}}const{schedule:frame,cancel:cancelFrame,state:frameData,steps:frameSteps}=createRenderBatcher(typeof requestAnimationFrame<"u"?requestAnimationFrame:noop,!0),calcBezier=(vt,ht,xt)=>(((1-3*xt+3*ht)*vt+(3*xt-6*ht))*vt+3*ht)*vt,subdivisionPrecision=1e-7,subdivisionMaxIterations=12;function binarySubdivide(vt,ht,xt,_t,$t){let wt,Ct,Pt=0;do Ct=ht+(xt-ht)/2,wt=calcBezier(Ct,_t,$t)-vt,wt>0?xt=Ct:ht=Ct;while(Math.abs(wt)>subdivisionPrecision&&++Pt<subdivisionMaxIterations);return Ct}function cubicBezier(vt,ht,xt,_t){if(vt===ht&&xt===_t)return noop;const $t=wt=>binarySubdivide(wt,0,1,vt,xt);return wt=>wt===0||wt===1?wt:calcBezier($t(wt),ht,_t)}const mirrorEasing=vt=>ht=>ht<=.5?vt(2*ht)/2:(2-vt(2*(1-ht)))/2,reverseEasing=vt=>ht=>1-vt(1-ht),backOut=cubicBezier(.33,1.53,.69,.99),backIn=reverseEasing(backOut),backInOut=mirrorEasing(backIn),anticipate=vt=>(vt*=2)<1?.5*backIn(vt):.5*(2-Math.pow(2,-10*(vt-1))),circIn=vt=>1-Math.sin(Math.acos(vt)),circOut=reverseEasing(circIn),circInOut=mirrorEasing(circIn),isZeroValueString=vt=>/^0[^.\s]+$/u.test(vt);function isNone(vt){return typeof vt=="number"?vt===0:vt!==null?vt==="none"||vt==="0"||isZeroValueString(vt):!0}let invariant=noop;const isNumericalString=vt=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(vt),checkStringStartsWith=vt=>ht=>typeof ht=="string"&&ht.startsWith(vt),isCSSVariableName=checkStringStartsWith("--"),startsAsVariableToken=checkStringStartsWith("var(--"),isCSSVariableToken=vt=>startsAsVariableToken(vt)?singleCssVariableRegex.test(vt.split("/*")[0].trim()):!1,singleCssVariableRegex=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,splitCSSVariableRegex=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function parseCSSVariable(vt){const ht=splitCSSVariableRegex.exec(vt);if(!ht)return[,];const[,xt,_t,$t]=ht;return[`--${xt??_t}`,$t]}function getVariableValue(vt,ht,xt=1){const[_t,$t]=parseCSSVariable(vt);if(!_t)return;const wt=window.getComputedStyle(ht).getPropertyValue(_t);if(wt){const Ct=wt.trim();return isNumericalString(Ct)?parseFloat(Ct):Ct}return isCSSVariableToken($t)?getVariableValue($t,ht,xt+1):$t}const clamp=(vt,ht,xt)=>xt>ht?ht:xt<vt?vt:xt,number={test:vt=>typeof vt=="number",parse:parseFloat,transform:vt=>vt},alpha={...number,transform:vt=>clamp(0,1,vt)},scale={...number,default:1},createUnitType=vt=>({test:ht=>typeof ht=="string"&&ht.endsWith(vt)&&ht.split(" ").length===1,parse:parseFloat,transform:ht=>`${ht}${vt}`}),degrees=createUnitType("deg"),percent=createUnitType("%"),px=createUnitType("px"),vh=createUnitType("vh"),vw=createUnitType("vw"),progressPercentage={...percent,parse:vt=>percent.parse(vt)/100,transform:vt=>percent.transform(vt*100)},positionalKeys=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),isNumOrPxType=vt=>vt===number||vt===px,getPosFromMatrix=(vt,ht)=>parseFloat(vt.split(", ")[ht]),getTranslateFromMatrix=(vt,ht)=>(xt,{transform:_t})=>{if(_t==="none"||!_t)return 0;const $t=_t.match(/^matrix3d\((.+)\)$/u);if($t)return getPosFromMatrix($t[1],ht);{const wt=_t.match(/^matrix\((.+)\)$/u);return wt?getPosFromMatrix(wt[1],vt):0}},transformKeys=new Set(["x","y","z"]),nonTranslationalTransformKeys=transformPropOrder.filter(vt=>!transformKeys.has(vt));function removeNonTranslationalTransform(vt){const ht=[];return nonTranslationalTransformKeys.forEach(xt=>{const _t=vt.getValue(xt);_t!==void 0&&(ht.push([xt,_t.get()]),_t.set(xt.startsWith("scale")?1:0))}),ht}const positionalValues={width:({x:vt},{paddingLeft:ht="0",paddingRight:xt="0"})=>vt.max-vt.min-parseFloat(ht)-parseFloat(xt),height:({y:vt},{paddingTop:ht="0",paddingBottom:xt="0"})=>vt.max-vt.min-parseFloat(ht)-parseFloat(xt),top:(vt,{top:ht})=>parseFloat(ht),left:(vt,{left:ht})=>parseFloat(ht),bottom:({y:vt},{top:ht})=>parseFloat(ht)+(vt.max-vt.min),right:({x:vt},{left:ht})=>parseFloat(ht)+(vt.max-vt.min),x:getTranslateFromMatrix(4,13),y:getTranslateFromMatrix(5,14)};positionalValues.translateX=positionalValues.x;positionalValues.translateY=positionalValues.y;const testValueType=vt=>ht=>ht.test(vt),auto={test:vt=>vt==="auto",parse:vt=>vt},dimensionValueTypes=[number,px,percent,degrees,vw,vh,auto],findDimensionValueType=vt=>dimensionValueTypes.find(testValueType(vt)),toResolve=new Set;let isScheduled=!1,anyNeedsMeasurement=!1;function measureAllKeyframes(){if(anyNeedsMeasurement){const vt=Array.from(toResolve).filter(_t=>_t.needsMeasurement),ht=new Set(vt.map(_t=>_t.element)),xt=new Map;ht.forEach(_t=>{const $t=removeNonTranslationalTransform(_t);$t.length&&(xt.set(_t,$t),_t.render())}),vt.forEach(_t=>_t.measureInitialState()),ht.forEach(_t=>{_t.render();const $t=xt.get(_t);$t&&$t.forEach(([wt,Ct])=>{var Pt;(Pt=_t.getValue(wt))===null||Pt===void 0||Pt.set(Ct)})}),vt.forEach(_t=>_t.measureEndState()),vt.forEach(_t=>{_t.suspendedScrollY!==void 0&&window.scrollTo(0,_t.suspendedScrollY)})}anyNeedsMeasurement=!1,isScheduled=!1,toResolve.forEach(vt=>vt.complete()),toResolve.clear()}function readAllKeyframes(){toResolve.forEach(vt=>{vt.readKeyframes(),vt.needsMeasurement&&(anyNeedsMeasurement=!0)})}function flushKeyframeResolvers(){readAllKeyframes(),measureAllKeyframes()}class KeyframeResolver{constructor(ht,xt,_t,$t,wt,Ct=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...ht],this.onComplete=xt,this.name=_t,this.motionValue=$t,this.element=wt,this.isAsync=Ct}scheduleResolve(){this.isScheduled=!0,this.isAsync?(toResolve.add(this),isScheduled||(isScheduled=!0,frame.read(readAllKeyframes),frame.resolveKeyframes(measureAllKeyframes))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:ht,name:xt,element:_t,motionValue:$t}=this;for(let wt=0;wt<ht.length;wt++)if(ht[wt]===null)if(wt===0){const Ct=$t==null?void 0:$t.get(),Pt=ht[ht.length-1];if(Ct!==void 0)ht[0]=Ct;else if(_t&&xt){const bt=_t.readValue(xt,Pt);bt!=null&&(ht[0]=bt)}ht[0]===void 0&&(ht[0]=Pt),$t&&Ct===void 0&&$t.set(ht[0])}else ht[wt]=ht[wt-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),toResolve.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,toResolve.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const sanitize=vt=>Math.round(vt*1e5)/1e5,floatRegex=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function isNullish(vt){return vt==null}const singleColorRegex=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,isColorString=(vt,ht)=>xt=>!!(typeof xt=="string"&&singleColorRegex.test(xt)&&xt.startsWith(vt)||ht&&!isNullish(xt)&&Object.prototype.hasOwnProperty.call(xt,ht)),splitColor=(vt,ht,xt)=>_t=>{if(typeof _t!="string")return _t;const[$t,wt,Ct,Pt]=_t.match(floatRegex);return{[vt]:parseFloat($t),[ht]:parseFloat(wt),[xt]:parseFloat(Ct),alpha:Pt!==void 0?parseFloat(Pt):1}},clampRgbUnit=vt=>clamp(0,255,vt),rgbUnit={...number,transform:vt=>Math.round(clampRgbUnit(vt))},rgba={test:isColorString("rgb","red"),parse:splitColor("red","green","blue"),transform:({red:vt,green:ht,blue:xt,alpha:_t=1})=>"rgba("+rgbUnit.transform(vt)+", "+rgbUnit.transform(ht)+", "+rgbUnit.transform(xt)+", "+sanitize(alpha.transform(_t))+")"};function parseHex(vt){let ht="",xt="",_t="",$t="";return vt.length>5?(ht=vt.substring(1,3),xt=vt.substring(3,5),_t=vt.substring(5,7),$t=vt.substring(7,9)):(ht=vt.substring(1,2),xt=vt.substring(2,3),_t=vt.substring(3,4),$t=vt.substring(4,5),ht+=ht,xt+=xt,_t+=_t,$t+=$t),{red:parseInt(ht,16),green:parseInt(xt,16),blue:parseInt(_t,16),alpha:$t?parseInt($t,16)/255:1}}const hex={test:isColorString("#"),parse:parseHex,transform:rgba.transform},hsla={test:isColorString("hsl","hue"),parse:splitColor("hue","saturation","lightness"),transform:({hue:vt,saturation:ht,lightness:xt,alpha:_t=1})=>"hsla("+Math.round(vt)+", "+percent.transform(sanitize(ht))+", "+percent.transform(sanitize(xt))+", "+sanitize(alpha.transform(_t))+")"},color={test:vt=>rgba.test(vt)||hex.test(vt)||hsla.test(vt),parse:vt=>rgba.test(vt)?rgba.parse(vt):hsla.test(vt)?hsla.parse(vt):hex.parse(vt),transform:vt=>typeof vt=="string"?vt:vt.hasOwnProperty("red")?rgba.transform(vt):hsla.transform(vt)},colorRegex=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function test(vt){var ht,xt;return isNaN(vt)&&typeof vt=="string"&&(((ht=vt.match(floatRegex))===null||ht===void 0?void 0:ht.length)||0)+(((xt=vt.match(colorRegex))===null||xt===void 0?void 0:xt.length)||0)>0}const NUMBER_TOKEN="number",COLOR_TOKEN="color",VAR_TOKEN="var",VAR_FUNCTION_TOKEN="var(",SPLIT_TOKEN="${}",complexRegex=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function analyseComplexValue(vt){const ht=vt.toString(),xt=[],_t={color:[],number:[],var:[]},$t=[];let wt=0;const Pt=ht.replace(complexRegex,bt=>(color.test(bt)?(_t.color.push(wt),$t.push(COLOR_TOKEN),xt.push(color.parse(bt))):bt.startsWith(VAR_FUNCTION_TOKEN)?(_t.var.push(wt),$t.push(VAR_TOKEN),xt.push(bt)):(_t.number.push(wt),$t.push(NUMBER_TOKEN),xt.push(parseFloat(bt))),++wt,SPLIT_TOKEN)).split(SPLIT_TOKEN);return{values:xt,split:Pt,indexes:_t,types:$t}}function parseComplexValue(vt){return analyseComplexValue(vt).values}function createTransformer(vt){const{split:ht,types:xt}=analyseComplexValue(vt),_t=ht.length;return $t=>{let wt="";for(let Ct=0;Ct<_t;Ct++)if(wt+=ht[Ct],$t[Ct]!==void 0){const Pt=xt[Ct];Pt===NUMBER_TOKEN?wt+=sanitize($t[Ct]):Pt===COLOR_TOKEN?wt+=color.transform($t[Ct]):wt+=$t[Ct]}return wt}}const convertNumbersToZero=vt=>typeof vt=="number"?0:vt;function getAnimatableNone$1(vt){const ht=parseComplexValue(vt);return createTransformer(vt)(ht.map(convertNumbersToZero))}const complex={test,parse:parseComplexValue,createTransformer,getAnimatableNone:getAnimatableNone$1},maxDefaults=new Set(["brightness","contrast","saturate","opacity"]);function applyDefaultFilter(vt){const[ht,xt]=vt.slice(0,-1).split("(");if(ht==="drop-shadow")return vt;const[_t]=xt.match(floatRegex)||[];if(!_t)return vt;const $t=xt.replace(_t,"");let wt=maxDefaults.has(ht)?1:0;return _t!==xt&&(wt*=100),ht+"("+wt+$t+")"}const functionRegex=/\b([a-z-]*)\(.*?\)/gu,filter={...complex,getAnimatableNone:vt=>{const ht=vt.match(functionRegex);return ht?ht.map(applyDefaultFilter).join(" "):vt}},browserNumberValueTypes={borderWidth:px,borderTopWidth:px,borderRightWidth:px,borderBottomWidth:px,borderLeftWidth:px,borderRadius:px,radius:px,borderTopLeftRadius:px,borderTopRightRadius:px,borderBottomRightRadius:px,borderBottomLeftRadius:px,width:px,maxWidth:px,height:px,maxHeight:px,top:px,right:px,bottom:px,left:px,padding:px,paddingTop:px,paddingRight:px,paddingBottom:px,paddingLeft:px,margin:px,marginTop:px,marginRight:px,marginBottom:px,marginLeft:px,backgroundPositionX:px,backgroundPositionY:px},transformValueTypes={rotate:degrees,rotateX:degrees,rotateY:degrees,rotateZ:degrees,scale,scaleX:scale,scaleY:scale,scaleZ:scale,skew:degrees,skewX:degrees,skewY:degrees,distance:px,translateX:px,translateY:px,translateZ:px,x:px,y:px,z:px,perspective:px,transformPerspective:px,opacity:alpha,originX:progressPercentage,originY:progressPercentage,originZ:px},int={...number,transform:Math.round},numberValueTypes={...browserNumberValueTypes,...transformValueTypes,zIndex:int,size:px,fillOpacity:alpha,strokeOpacity:alpha,numOctaves:int},defaultValueTypes={...numberValueTypes,color,backgroundColor:color,outlineColor:color,fill:color,stroke:color,borderColor:color,borderTopColor:color,borderRightColor:color,borderBottomColor:color,borderLeftColor:color,filter,WebkitFilter:filter},getDefaultValueType=vt=>defaultValueTypes[vt];function getAnimatableNone(vt,ht){let xt=getDefaultValueType(vt);return xt!==filter&&(xt=complex),xt.getAnimatableNone?xt.getAnimatableNone(ht):void 0}const invalidTemplates=new Set(["auto","none","0"]);function makeNoneKeyframesAnimatable(vt,ht,xt){let _t=0,$t;for(;_t<vt.length&&!$t;){const wt=vt[_t];typeof wt=="string"&&!invalidTemplates.has(wt)&&analyseComplexValue(wt).values.length&&($t=vt[_t]),_t++}if($t&&xt)for(const wt of ht)vt[wt]=getAnimatableNone(xt,$t)}class DOMKeyframesResolver extends KeyframeResolver{constructor(ht,xt,_t,$t,wt){super(ht,xt,_t,$t,wt,!0)}readKeyframes(){const{unresolvedKeyframes:ht,element:xt,name:_t}=this;if(!xt||!xt.current)return;super.readKeyframes();for(let bt=0;bt<ht.length;bt++){let Rt=ht[bt];if(typeof Rt=="string"&&(Rt=Rt.trim(),isCSSVariableToken(Rt))){const Nt=getVariableValue(Rt,xt.current);Nt!==void 0&&(ht[bt]=Nt),bt===ht.length-1&&(this.finalKeyframe=Rt)}}if(this.resolveNoneKeyframes(),!positionalKeys.has(_t)||ht.length!==2)return;const[$t,wt]=ht,Ct=findDimensionValueType($t),Pt=findDimensionValueType(wt);if(Ct!==Pt)if(isNumOrPxType(Ct)&&isNumOrPxType(Pt))for(let bt=0;bt<ht.length;bt++){const Rt=ht[bt];typeof Rt=="string"&&(ht[bt]=parseFloat(Rt))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:ht,name:xt}=this,_t=[];for(let $t=0;$t<ht.length;$t++)isNone(ht[$t])&&_t.push($t);_t.length&&makeNoneKeyframesAnimatable(ht,_t,xt)}measureInitialState(){const{element:ht,unresolvedKeyframes:xt,name:_t}=this;if(!ht||!ht.current)return;_t==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=positionalValues[_t](ht.measureViewportBox(),window.getComputedStyle(ht.current)),xt[0]=this.measuredOrigin;const $t=xt[xt.length-1];$t!==void 0&&ht.getValue(_t,$t).jump($t,!1)}measureEndState(){var ht;const{element:xt,name:_t,unresolvedKeyframes:$t}=this;if(!xt||!xt.current)return;const wt=xt.getValue(_t);wt&&wt.jump(this.measuredOrigin,!1);const Ct=$t.length-1,Pt=$t[Ct];$t[Ct]=positionalValues[_t](xt.measureViewportBox(),window.getComputedStyle(xt.current)),Pt!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=Pt),!((ht=this.removedTransforms)===null||ht===void 0)&&ht.length&&this.removedTransforms.forEach(([bt,Rt])=>{xt.getValue(bt).set(Rt)}),this.resolveNoneKeyframes()}}function isGenerator(vt){return typeof vt=="function"}let now;function clearTime(){now=void 0}const time={now:()=>(now===void 0&&time.set(frameData.isProcessing||MotionGlobalConfig.useManualTiming?frameData.timestamp:performance.now()),now),set:vt=>{now=vt,queueMicrotask(clearTime)}},isAnimatable=(vt,ht)=>ht==="zIndex"?!1:!!(typeof vt=="number"||Array.isArray(vt)||typeof vt=="string"&&(complex.test(vt)||vt==="0")&&!vt.startsWith("url("));function hasKeyframesChanged(vt){const ht=vt[0];if(vt.length===1)return!0;for(let xt=0;xt<vt.length;xt++)if(vt[xt]!==ht)return!0}function canAnimate(vt,ht,xt,_t){const $t=vt[0];if($t===null)return!1;if(ht==="display"||ht==="visibility")return!0;const wt=vt[vt.length-1],Ct=isAnimatable($t,ht),Pt=isAnimatable(wt,ht);return!Ct||!Pt?!1:hasKeyframesChanged(vt)||(xt==="spring"||isGenerator(xt))&&_t}const MAX_RESOLVE_DELAY=40;class BaseAnimation{constructor({autoplay:ht=!0,delay:xt=0,type:_t="keyframes",repeat:$t=0,repeatDelay:wt=0,repeatType:Ct="loop",...Pt}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=time.now(),this.options={autoplay:ht,delay:xt,type:_t,repeat:$t,repeatDelay:wt,repeatType:Ct,...Pt},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>MAX_RESOLVE_DELAY?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&flushKeyframeResolvers(),this._resolved}onKeyframesResolved(ht,xt){this.resolvedAt=time.now(),this.hasAttemptedResolve=!0;const{name:_t,type:$t,velocity:wt,delay:Ct,onComplete:Pt,onUpdate:bt,isGenerator:Rt}=this.options;if(!Rt&&!canAnimate(ht,_t,$t,wt))if(Ct)this.options.duration=0;else{bt==null||bt(getFinalKeyframe(ht,this.options,xt)),Pt==null||Pt(),this.resolveFinishedPromise();return}const Nt=this.initPlayback(ht,xt);Nt!==!1&&(this._resolved={keyframes:ht,finalKeyframe:xt,...Nt},this.onPostResolved())}onPostResolved(){}then(ht,xt){return this.currentFinishedPromise.then(ht,xt)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(ht=>{this.resolveFinishedPromise=ht})}}function velocityPerSecond(vt,ht){return ht?vt*(1e3/ht):0}const velocitySampleDuration=5;function calcGeneratorVelocity(vt,ht,xt){const _t=Math.max(ht-velocitySampleDuration,0);return velocityPerSecond(xt-vt(_t),ht-_t)}const safeMin=.001,minDuration=.01,maxDuration$1=10,minDamping=.05,maxDamping=1;function findSpring({duration:vt=800,bounce:ht=.25,velocity:xt=0,mass:_t=1}){let $t,wt,Ct=1-ht;Ct=clamp(minDamping,maxDamping,Ct),vt=clamp(minDuration,maxDuration$1,millisecondsToSeconds(vt)),Ct<1?($t=Rt=>{const Nt=Rt*Ct,kt=Nt*vt,Dt=Nt-xt,Ot=calcAngularFreq(Rt,Ct),Lt=Math.exp(-kt);return safeMin-Dt/Ot*Lt},wt=Rt=>{const kt=Rt*Ct*vt,Dt=kt*xt+xt,Ot=Math.pow(Ct,2)*Math.pow(Rt,2)*vt,Lt=Math.exp(-kt),Ft=calcAngularFreq(Math.pow(Rt,2),Ct);return(-$t(Rt)+safeMin>0?-1:1)*((Dt-Ot)*Lt)/Ft}):($t=Rt=>{const Nt=Math.exp(-Rt*vt),kt=(Rt-xt)*vt+1;return-safeMin+Nt*kt},wt=Rt=>{const Nt=Math.exp(-Rt*vt),kt=(xt-Rt)*(vt*vt);return Nt*kt});const Pt=5/vt,bt=approximateRoot($t,wt,Pt);if(vt=secondsToMilliseconds(vt),isNaN(bt))return{stiffness:100,damping:10,duration:vt};{const Rt=Math.pow(bt,2)*_t;return{stiffness:Rt,damping:Ct*2*Math.sqrt(_t*Rt),duration:vt}}}const rootIterations=12;function approximateRoot(vt,ht,xt){let _t=xt;for(let $t=1;$t<rootIterations;$t++)_t=_t-vt(_t)/ht(_t);return _t}function calcAngularFreq(vt,ht){return vt*Math.sqrt(1-ht*ht)}const durationKeys=["duration","bounce"],physicsKeys=["stiffness","damping","mass"];function isSpringType(vt,ht){return ht.some(xt=>vt[xt]!==void 0)}function getSpringOptions(vt){let ht={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...vt};if(!isSpringType(vt,physicsKeys)&&isSpringType(vt,durationKeys)){const xt=findSpring(vt);ht={...ht,...xt,mass:1},ht.isResolvedFromDuration=!0}return ht}function spring({keyframes:vt,restDelta:ht,restSpeed:xt,..._t}){const $t=vt[0],wt=vt[vt.length-1],Ct={done:!1,value:$t},{stiffness:Pt,damping:bt,mass:Rt,duration:Nt,velocity:kt,isResolvedFromDuration:Dt}=getSpringOptions({..._t,velocity:-millisecondsToSeconds(_t.velocity||0)}),Ot=kt||0,Lt=bt/(2*Math.sqrt(Pt*Rt)),Ft=wt-$t,Ut=millisecondsToSeconds(Math.sqrt(Pt/Rt)),jt=Math.abs(Ft)<5;xt||(xt=jt?.01:2),ht||(ht=jt?.005:.5);let Vt;if(Lt<1){const Bt=calcAngularFreq(Ut,Lt);Vt=Wt=>{const zt=Math.exp(-Lt*Ut*Wt);return wt-zt*((Ot+Lt*Ut*Ft)/Bt*Math.sin(Bt*Wt)+Ft*Math.cos(Bt*Wt))}}else if(Lt===1)Vt=Bt=>wt-Math.exp(-Ut*Bt)*(Ft+(Ot+Ut*Ft)*Bt);else{const Bt=Ut*Math.sqrt(Lt*Lt-1);Vt=Wt=>{const zt=Math.exp(-Lt*Ut*Wt),qt=Math.min(Bt*Wt,300);return wt-zt*((Ot+Lt*Ut*Ft)*Math.sinh(qt)+Bt*Ft*Math.cosh(qt))/Bt}}return{calculatedDuration:Dt&&Nt||null,next:Bt=>{const Wt=Vt(Bt);if(Dt)Ct.done=Bt>=Nt;else{let zt=0;Lt<1&&(zt=Bt===0?secondsToMilliseconds(Ot):calcGeneratorVelocity(Vt,Bt,Wt));const qt=Math.abs(zt)<=xt,Xt=Math.abs(wt-Wt)<=ht;Ct.done=qt&&Xt}return Ct.value=Ct.done?wt:Wt,Ct}}}function inertia({keyframes:vt,velocity:ht=0,power:xt=.8,timeConstant:_t=325,bounceDamping:$t=10,bounceStiffness:wt=500,modifyTarget:Ct,min:Pt,max:bt,restDelta:Rt=.5,restSpeed:Nt}){const kt=vt[0],Dt={done:!1,value:kt},Ot=Yt=>Pt!==void 0&&Yt<Pt||bt!==void 0&&Yt>bt,Lt=Yt=>Pt===void 0?bt:bt===void 0||Math.abs(Pt-Yt)<Math.abs(bt-Yt)?Pt:bt;let Ft=xt*ht;const Ut=kt+Ft,jt=Ct===void 0?Ut:Ct(Ut);jt!==Ut&&(Ft=jt-kt);const Vt=Yt=>-Ft*Math.exp(-Yt/_t),Bt=Yt=>jt+Vt(Yt),Wt=Yt=>{const en=Vt(Yt),Qt=Bt(Yt);Dt.done=Math.abs(en)<=Rt,Dt.value=Dt.done?jt:Qt};let zt,qt;const Xt=Yt=>{Ot(Dt.value)&&(zt=Yt,qt=spring({keyframes:[Dt.value,Lt(Dt.value)],velocity:calcGeneratorVelocity(Bt,Yt,Dt.value),damping:$t,stiffness:wt,restDelta:Rt,restSpeed:Nt}))};return Xt(0),{calculatedDuration:null,next:Yt=>{let en=!1;return!qt&&zt===void 0&&(en=!0,Wt(Yt),Xt(Yt)),zt!==void 0&&Yt>=zt?qt.next(Yt-zt):(!en&&Wt(Yt),Dt)}}}const easeIn=cubicBezier(.42,0,1,1),easeOut=cubicBezier(0,0,.58,1),easeInOut=cubicBezier(.42,0,.58,1),isEasingArray=vt=>Array.isArray(vt)&&typeof vt[0]!="number",isBezierDefinition=vt=>Array.isArray(vt)&&typeof vt[0]=="number",easingLookup={linear:noop,easeIn,easeInOut,easeOut,circIn,circInOut,circOut,backIn,backInOut,backOut,anticipate},easingDefinitionToFunction=vt=>{if(isBezierDefinition(vt)){invariant(vt.length===4);const[ht,xt,_t,$t]=vt;return cubicBezier(ht,xt,_t,$t)}else if(typeof vt=="string")return invariant(easingLookup[vt]!==void 0),easingLookup[vt];return vt},combineFunctions=(vt,ht)=>xt=>ht(vt(xt)),pipe=(...vt)=>vt.reduce(combineFunctions),progress=(vt,ht,xt)=>{const _t=ht-vt;return _t===0?1:(xt-vt)/_t},mixNumber$1=(vt,ht,xt)=>vt+(ht-vt)*xt;function hueToRgb(vt,ht,xt){return xt<0&&(xt+=1),xt>1&&(xt-=1),xt<1/6?vt+(ht-vt)*6*xt:xt<1/2?ht:xt<2/3?vt+(ht-vt)*(2/3-xt)*6:vt}function hslaToRgba({hue:vt,saturation:ht,lightness:xt,alpha:_t}){vt/=360,ht/=100,xt/=100;let $t=0,wt=0,Ct=0;if(!ht)$t=wt=Ct=xt;else{const Pt=xt<.5?xt*(1+ht):xt+ht-xt*ht,bt=2*xt-Pt;$t=hueToRgb(bt,Pt,vt+1/3),wt=hueToRgb(bt,Pt,vt),Ct=hueToRgb(bt,Pt,vt-1/3)}return{red:Math.round($t*255),green:Math.round(wt*255),blue:Math.round(Ct*255),alpha:_t}}function mixImmediate(vt,ht){return xt=>xt>0?ht:vt}const mixLinearColor=(vt,ht,xt)=>{const _t=vt*vt,$t=xt*(ht*ht-_t)+_t;return $t<0?0:Math.sqrt($t)},colorTypes=[hex,rgba,hsla],getColorType=vt=>colorTypes.find(ht=>ht.test(vt));function asRGBA(vt){const ht=getColorType(vt);if(!ht)return!1;let xt=ht.parse(vt);return ht===hsla&&(xt=hslaToRgba(xt)),xt}const mixColor=(vt,ht)=>{const xt=asRGBA(vt),_t=asRGBA(ht);if(!xt||!_t)return mixImmediate(vt,ht);const $t={...xt};return wt=>($t.red=mixLinearColor(xt.red,_t.red,wt),$t.green=mixLinearColor(xt.green,_t.green,wt),$t.blue=mixLinearColor(xt.blue,_t.blue,wt),$t.alpha=mixNumber$1(xt.alpha,_t.alpha,wt),rgba.transform($t))},invisibleValues=new Set(["none","hidden"]);function mixVisibility(vt,ht){return invisibleValues.has(vt)?xt=>xt<=0?vt:ht:xt=>xt>=1?ht:vt}function mixNumber(vt,ht){return xt=>mixNumber$1(vt,ht,xt)}function getMixer(vt){return typeof vt=="number"?mixNumber:typeof vt=="string"?isCSSVariableToken(vt)?mixImmediate:color.test(vt)?mixColor:mixComplex:Array.isArray(vt)?mixArray:typeof vt=="object"?color.test(vt)?mixColor:mixObject:mixImmediate}function mixArray(vt,ht){const xt=[...vt],_t=xt.length,$t=vt.map((wt,Ct)=>getMixer(wt)(wt,ht[Ct]));return wt=>{for(let Ct=0;Ct<_t;Ct++)xt[Ct]=$t[Ct](wt);return xt}}function mixObject(vt,ht){const xt={...vt,...ht},_t={};for(const $t in xt)vt[$t]!==void 0&&ht[$t]!==void 0&&(_t[$t]=getMixer(vt[$t])(vt[$t],ht[$t]));return $t=>{for(const wt in _t)xt[wt]=_t[wt]($t);return xt}}function matchOrder(vt,ht){var xt;const _t=[],$t={color:0,var:0,number:0};for(let wt=0;wt<ht.values.length;wt++){const Ct=ht.types[wt],Pt=vt.indexes[Ct][$t[Ct]],bt=(xt=vt.values[Pt])!==null&&xt!==void 0?xt:0;_t[wt]=bt,$t[Ct]++}return _t}const mixComplex=(vt,ht)=>{const xt=complex.createTransformer(ht),_t=analyseComplexValue(vt),$t=analyseComplexValue(ht);return _t.indexes.var.length===$t.indexes.var.length&&_t.indexes.color.length===$t.indexes.color.length&&_t.indexes.number.length>=$t.indexes.number.length?invisibleValues.has(vt)&&!$t.values.length||invisibleValues.has(ht)&&!_t.values.length?mixVisibility(vt,ht):pipe(mixArray(matchOrder(_t,$t),$t.values),xt):mixImmediate(vt,ht)};function mix(vt,ht,xt){return typeof vt=="number"&&typeof ht=="number"&&typeof xt=="number"?mixNumber$1(vt,ht,xt):getMixer(vt)(vt,ht)}function createMixers(vt,ht,xt){const _t=[],$t=xt||mix,wt=vt.length-1;for(let Ct=0;Ct<wt;Ct++){let Pt=$t(vt[Ct],vt[Ct+1]);if(ht){const bt=Array.isArray(ht)?ht[Ct]||noop:ht;Pt=pipe(bt,Pt)}_t.push(Pt)}return _t}function interpolate(vt,ht,{clamp:xt=!0,ease:_t,mixer:$t}={}){const wt=vt.length;if(invariant(wt===ht.length),wt===1)return()=>ht[0];if(wt===2&&vt[0]===vt[1])return()=>ht[1];vt[0]>vt[wt-1]&&(vt=[...vt].reverse(),ht=[...ht].reverse());const Ct=createMixers(ht,_t,$t),Pt=Ct.length,bt=Rt=>{let Nt=0;if(Pt>1)for(;Nt<vt.length-2&&!(Rt<vt[Nt+1]);Nt++);const kt=progress(vt[Nt],vt[Nt+1],Rt);return Ct[Nt](kt)};return xt?Rt=>bt(clamp(vt[0],vt[wt-1],Rt)):bt}function fillOffset(vt,ht){const xt=vt[vt.length-1];for(let _t=1;_t<=ht;_t++){const $t=progress(0,ht,_t);vt.push(mixNumber$1(xt,1,$t))}}function defaultOffset(vt){const ht=[0];return fillOffset(ht,vt.length-1),ht}function convertOffsetToTimes(vt,ht){return vt.map(xt=>xt*ht)}function defaultEasing(vt,ht){return vt.map(()=>ht||easeInOut).splice(0,vt.length-1)}function keyframes({duration:vt=300,keyframes:ht,times:xt,ease:_t="easeInOut"}){const $t=isEasingArray(_t)?_t.map(easingDefinitionToFunction):easingDefinitionToFunction(_t),wt={done:!1,value:ht[0]},Ct=convertOffsetToTimes(xt&&xt.length===ht.length?xt:defaultOffset(ht),vt),Pt=interpolate(Ct,ht,{ease:Array.isArray($t)?$t:defaultEasing(ht,$t)});return{calculatedDuration:vt,next:bt=>(wt.value=Pt(bt),wt.done=bt>=vt,wt)}}const maxGeneratorDuration=2e4;function calcGeneratorDuration(vt){let ht=0;const xt=50;let _t=vt.next(ht);for(;!_t.done&&ht<maxGeneratorDuration;)ht+=xt,_t=vt.next(ht);return ht>=maxGeneratorDuration?1/0:ht}const frameloopDriver=vt=>{const ht=({timestamp:xt})=>vt(xt);return{start:()=>frame.update(ht,!0),stop:()=>cancelFrame(ht),now:()=>frameData.isProcessing?frameData.timestamp:time.now()}},generators={decay:inertia,inertia,tween:keyframes,keyframes,spring},percentToProgress=vt=>vt/100;class MainThreadAnimation extends BaseAnimation{constructor(ht){super(ht),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:bt}=this.options;bt&&bt()};const{name:xt,motionValue:_t,element:$t,keyframes:wt}=this.options,Ct=($t==null?void 0:$t.KeyframeResolver)||KeyframeResolver,Pt=(bt,Rt)=>this.onKeyframesResolved(bt,Rt);this.resolver=new Ct(wt,Pt,xt,_t,$t),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(ht){const{type:xt="keyframes",repeat:_t=0,repeatDelay:$t=0,repeatType:wt,velocity:Ct=0}=this.options,Pt=isGenerator(xt)?xt:generators[xt]||keyframes;let bt,Rt;Pt!==keyframes&&typeof ht[0]!="number"&&(bt=pipe(percentToProgress,mix(ht[0],ht[1])),ht=[0,100]);const Nt=Pt({...this.options,keyframes:ht});wt==="mirror"&&(Rt=Pt({...this.options,keyframes:[...ht].reverse(),velocity:-Ct})),Nt.calculatedDuration===null&&(Nt.calculatedDuration=calcGeneratorDuration(Nt));const{calculatedDuration:kt}=Nt,Dt=kt+$t,Ot=Dt*(_t+1)-$t;return{generator:Nt,mirroredGenerator:Rt,mapPercentToKeyframes:bt,calculatedDuration:kt,resolvedDuration:Dt,totalDuration:Ot}}onPostResolved(){const{autoplay:ht=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!ht?this.pause():this.state=this.pendingPlayState}tick(ht,xt=!1){const{resolved:_t}=this;if(!_t){const{keyframes:Yt}=this.options;return{done:!0,value:Yt[Yt.length-1]}}const{finalKeyframe:$t,generator:wt,mirroredGenerator:Ct,mapPercentToKeyframes:Pt,keyframes:bt,calculatedDuration:Rt,totalDuration:Nt,resolvedDuration:kt}=_t;if(this.startTime===null)return wt.next(0);const{delay:Dt,repeat:Ot,repeatType:Lt,repeatDelay:Ft,onUpdate:Ut}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,ht):this.speed<0&&(this.startTime=Math.min(ht-Nt/this.speed,this.startTime)),xt?this.currentTime=ht:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(ht-this.startTime)*this.speed;const jt=this.currentTime-Dt*(this.speed>=0?1:-1),Vt=this.speed>=0?jt<0:jt>Nt;this.currentTime=Math.max(jt,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=Nt);let Bt=this.currentTime,Wt=wt;if(Ot){const Yt=Math.min(this.currentTime,Nt)/kt;let en=Math.floor(Yt),Qt=Yt%1;!Qt&&Yt>=1&&(Qt=1),Qt===1&&en--,en=Math.min(en,Ot+1),!!(en%2)&&(Lt==="reverse"?(Qt=1-Qt,Ft&&(Qt-=Ft/kt)):Lt==="mirror"&&(Wt=Ct)),Bt=clamp(0,1,Qt)*kt}const zt=Vt?{done:!1,value:bt[0]}:Wt.next(Bt);Pt&&(zt.value=Pt(zt.value));let{done:qt}=zt;!Vt&&Rt!==null&&(qt=this.speed>=0?this.currentTime>=Nt:this.currentTime<=0);const Xt=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&qt);return Xt&&$t!==void 0&&(zt.value=getFinalKeyframe(bt,this.options,$t)),Ut&&Ut(zt.value),Xt&&this.finish(),zt}get duration(){const{resolved:ht}=this;return ht?millisecondsToSeconds(ht.calculatedDuration):0}get time(){return millisecondsToSeconds(this.currentTime)}set time(ht){ht=secondsToMilliseconds(ht),this.currentTime=ht,this.holdTime!==null||this.speed===0?this.holdTime=ht:this.driver&&(this.startTime=this.driver.now()-ht/this.speed)}get speed(){return this.playbackSpeed}set speed(ht){const xt=this.playbackSpeed!==ht;this.playbackSpeed=ht,xt&&(this.time=millisecondsToSeconds(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:ht=frameloopDriver,onPlay:xt,startTime:_t}=this.options;this.driver||(this.driver=ht(wt=>this.tick(wt))),xt&&xt();const $t=this.driver.now();this.holdTime!==null?this.startTime=$t-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=$t):this.startTime=_t??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var ht;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(ht=this.currentTime)!==null&&ht!==void 0?ht:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:ht}=this.options;ht&&ht()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(ht){return this.startTime=0,this.tick(ht,!0)}}const acceleratedValues=new Set(["opacity","clipPath","filter","transform"]),resolution=10,generateLinearEasing=(vt,ht)=>{let xt="";const _t=Math.max(Math.round(ht/resolution),2);for(let $t=0;$t<_t;$t++)xt+=vt(progress(0,_t-1,$t))+", ";return`linear(${xt.substring(0,xt.length-2)})`};function memo(vt){let ht;return()=>(ht===void 0&&(ht=vt()),ht)}const supportsFlags={linearEasing:void 0};function memoSupports(vt,ht){const xt=memo(vt);return()=>{var _t;return(_t=supportsFlags[ht])!==null&&_t!==void 0?_t:xt()}}const supportsLinearEasing=memoSupports(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing");function isWaapiSupportedEasing(vt){return!!(typeof vt=="function"&&supportsLinearEasing()||!vt||typeof vt=="string"&&(vt in supportedWaapiEasing||supportsLinearEasing())||isBezierDefinition(vt)||Array.isArray(vt)&&vt.every(isWaapiSupportedEasing))}const cubicBezierAsString=([vt,ht,xt,_t])=>`cubic-bezier(${vt}, ${ht}, ${xt}, ${_t})`,supportedWaapiEasing={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cubicBezierAsString([0,.65,.55,1]),circOut:cubicBezierAsString([.55,0,1,.45]),backIn:cubicBezierAsString([.31,.01,.66,-.59]),backOut:cubicBezierAsString([.33,1.53,.69,.99])};function mapEasingToNativeEasing(vt,ht){if(vt)return typeof vt=="function"&&supportsLinearEasing()?generateLinearEasing(vt,ht):isBezierDefinition(vt)?cubicBezierAsString(vt):Array.isArray(vt)?vt.map(xt=>mapEasingToNativeEasing(xt,ht)||supportedWaapiEasing.easeOut):supportedWaapiEasing[vt]}function startWaapiAnimation(vt,ht,xt,{delay:_t=0,duration:$t=300,repeat:wt=0,repeatType:Ct="loop",ease:Pt="easeInOut",times:bt}={}){const Rt={[ht]:xt};bt&&(Rt.offset=bt);const Nt=mapEasingToNativeEasing(Pt,$t);return Array.isArray(Nt)&&(Rt.easing=Nt),vt.animate(Rt,{delay:_t,duration:$t,easing:Array.isArray(Nt)?"linear":Nt,fill:"both",iterations:wt+1,direction:Ct==="reverse"?"alternate":"normal"})}function attachTimeline(vt,ht){vt.timeline=ht,vt.onfinish=null}const supportsWaapi=memo(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),sampleDelta=10,maxDuration=2e4;function requiresPregeneratedKeyframes(vt){return isGenerator(vt.type)||vt.type==="spring"||!isWaapiSupportedEasing(vt.ease)}function pregenerateKeyframes(vt,ht){const xt=new MainThreadAnimation({...ht,keyframes:vt,repeat:0,delay:0,isGenerator:!0});let _t={done:!1,value:vt[0]};const $t=[];let wt=0;for(;!_t.done&&wt<maxDuration;)_t=xt.sample(wt),$t.push(_t.value),wt+=sampleDelta;return{times:void 0,keyframes:$t,duration:wt-sampleDelta,ease:"linear"}}const unsupportedEasingFunctions={anticipate,backInOut,circInOut};function isUnsupportedEase(vt){return vt in unsupportedEasingFunctions}class AcceleratedAnimation extends BaseAnimation{constructor(ht){super(ht);const{name:xt,motionValue:_t,element:$t,keyframes:wt}=this.options;this.resolver=new DOMKeyframesResolver(wt,(Ct,Pt)=>this.onKeyframesResolved(Ct,Pt),xt,_t,$t),this.resolver.scheduleResolve()}initPlayback(ht,xt){var _t;let{duration:$t=300,times:wt,ease:Ct,type:Pt,motionValue:bt,name:Rt,startTime:Nt}=this.options;if(!(!((_t=bt.owner)===null||_t===void 0)&&_t.current))return!1;if(typeof Ct=="string"&&supportsLinearEasing()&&isUnsupportedEase(Ct)&&(Ct=unsupportedEasingFunctions[Ct]),requiresPregeneratedKeyframes(this.options)){const{onComplete:Dt,onUpdate:Ot,motionValue:Lt,element:Ft,...Ut}=this.options,jt=pregenerateKeyframes(ht,Ut);ht=jt.keyframes,ht.length===1&&(ht[1]=ht[0]),$t=jt.duration,wt=jt.times,Ct=jt.ease,Pt="keyframes"}const kt=startWaapiAnimation(bt.owner.current,Rt,ht,{...this.options,duration:$t,times:wt,ease:Ct});return kt.startTime=Nt??this.calcStartTime(),this.pendingTimeline?(attachTimeline(kt,this.pendingTimeline),this.pendingTimeline=void 0):kt.onfinish=()=>{const{onComplete:Dt}=this.options;bt.set(getFinalKeyframe(ht,this.options,xt)),Dt&&Dt(),this.cancel(),this.resolveFinishedPromise()},{animation:kt,duration:$t,times:wt,type:Pt,ease:Ct,keyframes:ht}}get duration(){const{resolved:ht}=this;if(!ht)return 0;const{duration:xt}=ht;return millisecondsToSeconds(xt)}get time(){const{resolved:ht}=this;if(!ht)return 0;const{animation:xt}=ht;return millisecondsToSeconds(xt.currentTime||0)}set time(ht){const{resolved:xt}=this;if(!xt)return;const{animation:_t}=xt;_t.currentTime=secondsToMilliseconds(ht)}get speed(){const{resolved:ht}=this;if(!ht)return 1;const{animation:xt}=ht;return xt.playbackRate}set speed(ht){const{resolved:xt}=this;if(!xt)return;const{animation:_t}=xt;_t.playbackRate=ht}get state(){const{resolved:ht}=this;if(!ht)return"idle";const{animation:xt}=ht;return xt.playState}get startTime(){const{resolved:ht}=this;if(!ht)return null;const{animation:xt}=ht;return xt.startTime}attachTimeline(ht){if(!this._resolved)this.pendingTimeline=ht;else{const{resolved:xt}=this;if(!xt)return noop;const{animation:_t}=xt;attachTimeline(_t,ht)}return noop}play(){if(this.isStopped)return;const{resolved:ht}=this;if(!ht)return;const{animation:xt}=ht;xt.playState==="finished"&&this.updateFinishedPromise(),xt.play()}pause(){const{resolved:ht}=this;if(!ht)return;const{animation:xt}=ht;xt.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:ht}=this;if(!ht)return;const{animation:xt,keyframes:_t,duration:$t,type:wt,ease:Ct,times:Pt}=ht;if(xt.playState==="idle"||xt.playState==="finished")return;if(this.time){const{motionValue:Rt,onUpdate:Nt,onComplete:kt,element:Dt,...Ot}=this.options,Lt=new MainThreadAnimation({...Ot,keyframes:_t,duration:$t,type:wt,ease:Ct,times:Pt,isGenerator:!0}),Ft=secondsToMilliseconds(this.time);Rt.setWithVelocity(Lt.sample(Ft-sampleDelta).value,Lt.sample(Ft).value,sampleDelta)}const{onStop:bt}=this.options;bt&&bt(),this.cancel()}complete(){const{resolved:ht}=this;ht&&ht.animation.finish()}cancel(){const{resolved:ht}=this;ht&&ht.animation.cancel()}static supports(ht){const{motionValue:xt,name:_t,repeatDelay:$t,repeatType:wt,damping:Ct,type:Pt}=ht;return supportsWaapi()&&_t&&acceleratedValues.has(_t)&&xt&&xt.owner&&xt.owner.current instanceof HTMLElement&&!xt.owner.getProps().onUpdate&&!$t&&wt!=="mirror"&&Ct!==0&&Pt!=="inertia"}}const supportsScrollTimeline=memo(()=>window.ScrollTimeline!==void 0);class GroupPlaybackControls{constructor(ht){this.stop=()=>this.runAll("stop"),this.animations=ht.filter(Boolean)}then(ht,xt){return Promise.all(this.animations).then(ht).catch(xt)}getAll(ht){return this.animations[0][ht]}setAll(ht,xt){for(let _t=0;_t<this.animations.length;_t++)this.animations[_t][ht]=xt}attachTimeline(ht,xt){const _t=this.animations.map($t=>supportsScrollTimeline()&&$t.attachTimeline?$t.attachTimeline(ht):xt($t));return()=>{_t.forEach(($t,wt)=>{$t&&$t(),this.animations[wt].stop()})}}get time(){return this.getAll("time")}set time(ht){this.setAll("time",ht)}get speed(){return this.getAll("speed")}set speed(ht){this.setAll("speed",ht)}get startTime(){return this.getAll("startTime")}get duration(){let ht=0;for(let xt=0;xt<this.animations.length;xt++)ht=Math.max(ht,this.animations[xt].duration);return ht}runAll(ht){this.animations.forEach(xt=>xt[ht]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function isTransitionDefined({when:vt,delay:ht,delayChildren:xt,staggerChildren:_t,staggerDirection:$t,repeat:wt,repeatType:Ct,repeatDelay:Pt,from:bt,elapsed:Rt,...Nt}){return!!Object.keys(Nt).length}const animateMotionValue=(vt,ht,xt,_t={},$t,wt)=>Ct=>{const Pt=getValueTransition(_t,vt)||{},bt=Pt.delay||_t.delay||0;let{elapsed:Rt=0}=_t;Rt=Rt-secondsToMilliseconds(bt);let Nt={keyframes:Array.isArray(xt)?xt:[null,xt],ease:"easeOut",velocity:ht.getVelocity(),...Pt,delay:-Rt,onUpdate:Dt=>{ht.set(Dt),Pt.onUpdate&&Pt.onUpdate(Dt)},onComplete:()=>{Ct(),Pt.onComplete&&Pt.onComplete()},name:vt,motionValue:ht,element:wt?void 0:$t};isTransitionDefined(Pt)||(Nt={...Nt,...getDefaultTransition(vt,Nt)}),Nt.duration&&(Nt.duration=secondsToMilliseconds(Nt.duration)),Nt.repeatDelay&&(Nt.repeatDelay=secondsToMilliseconds(Nt.repeatDelay)),Nt.from!==void 0&&(Nt.keyframes[0]=Nt.from);let kt=!1;if((Nt.type===!1||Nt.duration===0&&!Nt.repeatDelay)&&(Nt.duration=0,Nt.delay===0&&(kt=!0)),kt&&!wt&&ht.get()!==void 0){const Dt=getFinalKeyframe(Nt.keyframes,Pt);if(Dt!==void 0)return frame.update(()=>{Nt.onUpdate(Dt),Nt.onComplete()}),new GroupPlaybackControls([])}return!wt&&AcceleratedAnimation.supports(Nt)?new AcceleratedAnimation(Nt):new MainThreadAnimation(Nt)},isCustomValue=vt=>!!(vt&&typeof vt=="object"&&vt.mix&&vt.toValue),resolveFinalValueInKeyframes=vt=>isKeyframesTarget(vt)?vt[vt.length-1]||0:vt;function addUniqueItem(vt,ht){vt.indexOf(ht)===-1&&vt.push(ht)}function removeItem(vt,ht){const xt=vt.indexOf(ht);xt>-1&&vt.splice(xt,1)}class SubscriptionManager{constructor(){this.subscriptions=[]}add(ht){return addUniqueItem(this.subscriptions,ht),()=>removeItem(this.subscriptions,ht)}notify(ht,xt,_t){const $t=this.subscriptions.length;if($t)if($t===1)this.subscriptions[0](ht,xt,_t);else for(let wt=0;wt<$t;wt++){const Ct=this.subscriptions[wt];Ct&&Ct(ht,xt,_t)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const MAX_VELOCITY_DELTA=30,isFloat=vt=>!isNaN(parseFloat(vt));class MotionValue{constructor(ht,xt={}){this.version="11.11.17",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(_t,$t=!0)=>{const wt=time.now();this.updatedAt!==wt&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(_t),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),$t&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(ht),this.owner=xt.owner}setCurrent(ht){this.current=ht,this.updatedAt=time.now(),this.canTrackVelocity===null&&ht!==void 0&&(this.canTrackVelocity=isFloat(this.current))}setPrevFrameValue(ht=this.current){this.prevFrameValue=ht,this.prevUpdatedAt=this.updatedAt}onChange(ht){return this.on("change",ht)}on(ht,xt){this.events[ht]||(this.events[ht]=new SubscriptionManager);const _t=this.events[ht].add(xt);return ht==="change"?()=>{_t(),frame.read(()=>{this.events.change.getSize()||this.stop()})}:_t}clearListeners(){for(const ht in this.events)this.events[ht].clear()}attach(ht,xt){this.passiveEffect=ht,this.stopPassiveEffect=xt}set(ht,xt=!0){!xt||!this.passiveEffect?this.updateAndNotify(ht,xt):this.passiveEffect(ht,this.updateAndNotify)}setWithVelocity(ht,xt,_t){this.set(xt),this.prev=void 0,this.prevFrameValue=ht,this.prevUpdatedAt=this.updatedAt-_t}jump(ht,xt=!0){this.updateAndNotify(ht),this.prev=ht,this.prevUpdatedAt=this.prevFrameValue=void 0,xt&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const ht=time.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||ht-this.updatedAt>MAX_VELOCITY_DELTA)return 0;const xt=Math.min(this.updatedAt-this.prevUpdatedAt,MAX_VELOCITY_DELTA);return velocityPerSecond(parseFloat(this.current)-parseFloat(this.prevFrameValue),xt)}start(ht){return this.stop(),new Promise(xt=>{this.hasAnimated=!0,this.animation=ht(xt),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function motionValue(vt,ht){return new MotionValue(vt,ht)}function setMotionValue(vt,ht,xt){vt.hasValue(ht)?vt.getValue(ht).set(xt):vt.addValue(ht,motionValue(xt))}function setTarget(vt,ht){const xt=resolveVariant(vt,ht);let{transitionEnd:_t={},transition:$t={},...wt}=xt||{};wt={...wt,..._t};for(const Ct in wt){const Pt=resolveFinalValueInKeyframes(wt[Ct]);setMotionValue(vt,Ct,Pt)}}const camelToDash=vt=>vt.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),optimizedAppearDataId="framerAppearId",optimizedAppearDataAttribute="data-"+camelToDash(optimizedAppearDataId);function getOptimisedAppearId(vt){return vt.props[optimizedAppearDataAttribute]}const isMotionValue=vt=>!!(vt&&vt.getVelocity);function isWillChangeMotionValue(vt){return!!(isMotionValue(vt)&&vt.add)}function addValueToWillChange(vt,ht){const xt=vt.getValue("willChange");if(isWillChangeMotionValue(xt))return xt.add(ht)}function shouldBlockAnimation({protectedKeys:vt,needsAnimating:ht},xt){const _t=vt.hasOwnProperty(xt)&&ht[xt]!==!0;return ht[xt]=!1,_t}function animateTarget(vt,ht,{delay:xt=0,transitionOverride:_t,type:$t}={}){var wt;let{transition:Ct=vt.getDefaultTransition(),transitionEnd:Pt,...bt}=ht;_t&&(Ct=_t);const Rt=[],Nt=$t&&vt.animationState&&vt.animationState.getState()[$t];for(const kt in bt){const Dt=vt.getValue(kt,(wt=vt.latestValues[kt])!==null&&wt!==void 0?wt:null),Ot=bt[kt];if(Ot===void 0||Nt&&shouldBlockAnimation(Nt,kt))continue;const Lt={delay:xt,...getValueTransition(Ct||{},kt)};let Ft=!1;if(window.MotionHandoffAnimation){const jt=getOptimisedAppearId(vt);if(jt){const Vt=window.MotionHandoffAnimation(jt,kt,frame);Vt!==null&&(Lt.startTime=Vt,Ft=!0)}}addValueToWillChange(vt,kt),Dt.start(animateMotionValue(kt,Dt,Ot,vt.shouldReduceMotion&&transformProps.has(kt)?{type:!1}:Lt,vt,Ft));const Ut=Dt.animation;Ut&&Rt.push(Ut)}return Pt&&Promise.all(Rt).then(()=>{frame.update(()=>{Pt&&setTarget(vt,Pt)})}),Rt}function animateVariant(vt,ht,xt={}){var _t;const $t=resolveVariant(vt,ht,xt.type==="exit"?(_t=vt.presenceContext)===null||_t===void 0?void 0:_t.custom:void 0);let{transition:wt=vt.getDefaultTransition()||{}}=$t||{};xt.transitionOverride&&(wt=xt.transitionOverride);const Ct=$t?()=>Promise.all(animateTarget(vt,$t,xt)):()=>Promise.resolve(),Pt=vt.variantChildren&&vt.variantChildren.size?(Rt=0)=>{const{delayChildren:Nt=0,staggerChildren:kt,staggerDirection:Dt}=wt;return animateChildren(vt,ht,Nt+Rt,kt,Dt,xt)}:()=>Promise.resolve(),{when:bt}=wt;if(bt){const[Rt,Nt]=bt==="beforeChildren"?[Ct,Pt]:[Pt,Ct];return Rt().then(()=>Nt())}else return Promise.all([Ct(),Pt(xt.delay)])}function animateChildren(vt,ht,xt=0,_t=0,$t=1,wt){const Ct=[],Pt=(vt.variantChildren.size-1)*_t,bt=$t===1?(Rt=0)=>Rt*_t:(Rt=0)=>Pt-Rt*_t;return Array.from(vt.variantChildren).sort(sortByTreeOrder).forEach((Rt,Nt)=>{Rt.notify("AnimationStart",ht),Ct.push(animateVariant(Rt,ht,{...wt,delay:xt+bt(Nt)}).then(()=>Rt.notify("AnimationComplete",ht)))}),Promise.all(Ct)}function sortByTreeOrder(vt,ht){return vt.sortNodePosition(ht)}function animateVisualElement(vt,ht,xt={}){vt.notify("AnimationStart",ht);let _t;if(Array.isArray(ht)){const $t=ht.map(wt=>animateVariant(vt,wt,xt));_t=Promise.all($t)}else if(typeof ht=="string")_t=animateVariant(vt,ht,xt);else{const $t=typeof ht=="function"?resolveVariant(vt,ht,xt.custom):ht;_t=Promise.all(animateTarget(vt,$t,xt))}return _t.then(()=>{vt.notify("AnimationComplete",ht)})}const numVariantProps=variantProps.length;function getVariantContext(vt){if(!vt)return;if(!vt.isControllingVariants){const xt=vt.parent?getVariantContext(vt.parent)||{}:{};return vt.props.initial!==void 0&&(xt.initial=vt.props.initial),xt}const ht={};for(let xt=0;xt<numVariantProps;xt++){const _t=variantProps[xt],$t=vt.props[_t];(isVariantLabel($t)||$t===!1)&&(ht[_t]=$t)}return ht}const reversePriorityOrder=[...variantPriorityOrder].reverse(),numAnimationTypes=variantPriorityOrder.length;function animateList(vt){return ht=>Promise.all(ht.map(({animation:xt,options:_t})=>animateVisualElement(vt,xt,_t)))}function createAnimationState(vt){let ht=animateList(vt),xt=createState(),_t=!0;const $t=bt=>(Rt,Nt)=>{var kt;const Dt=resolveVariant(vt,Nt,bt==="exit"?(kt=vt.presenceContext)===null||kt===void 0?void 0:kt.custom:void 0);if(Dt){const{transition:Ot,transitionEnd:Lt,...Ft}=Dt;Rt={...Rt,...Ft,...Lt}}return Rt};function wt(bt){ht=bt(vt)}function Ct(bt){const{props:Rt}=vt,Nt=getVariantContext(vt.parent)||{},kt=[],Dt=new Set;let Ot={},Lt=1/0;for(let Ut=0;Ut<numAnimationTypes;Ut++){const jt=reversePriorityOrder[Ut],Vt=xt[jt],Bt=Rt[jt]!==void 0?Rt[jt]:Nt[jt],Wt=isVariantLabel(Bt),zt=jt===bt?Vt.isActive:null;zt===!1&&(Lt=Ut);let qt=Bt===Nt[jt]&&Bt!==Rt[jt]&&Wt;if(qt&&_t&&vt.manuallyAnimateOnMount&&(qt=!1),Vt.protectedKeys={...Ot},!Vt.isActive&&zt===null||!Bt&&!Vt.prevProp||isAnimationControls(Bt)||typeof Bt=="boolean")continue;const Xt=checkVariantsDidChange(Vt.prevProp,Bt);let Yt=Xt||jt===bt&&Vt.isActive&&!qt&&Wt||Ut>Lt&&Wt,en=!1;const Qt=Array.isArray(Bt)?Bt:[Bt];let nn=Qt.reduce($t(jt),{});zt===!1&&(nn={});const{prevResolvedValues:ln={}}=Vt,dn={...ln,...nn},fn=an=>{Yt=!0,Dt.has(an)&&(en=!0,Dt.delete(an)),Vt.needsAnimating[an]=!0;const Kt=vt.getValue(an);Kt&&(Kt.liveStyle=!1)};for(const an in dn){const Kt=nn[an],Jt=ln[an];if(Ot.hasOwnProperty(an))continue;let Gt=!1;isKeyframesTarget(Kt)&&isKeyframesTarget(Jt)?Gt=!shallowCompare(Kt,Jt):Gt=Kt!==Jt,Gt?Kt!=null?fn(an):Dt.add(an):Kt!==void 0&&Dt.has(an)?fn(an):Vt.protectedKeys[an]=!0}Vt.prevProp=Bt,Vt.prevResolvedValues=nn,Vt.isActive&&(Ot={...Ot,...nn}),_t&&vt.blockInitialAnimation&&(Yt=!1),Yt&&(!(qt&&Xt)||en)&&kt.push(...Qt.map(an=>({animation:an,options:{type:jt}})))}if(Dt.size){const Ut={};Dt.forEach(jt=>{const Vt=vt.getBaseTarget(jt),Bt=vt.getValue(jt);Bt&&(Bt.liveStyle=!0),Ut[jt]=Vt??null}),kt.push({animation:Ut})}let Ft=!!kt.length;return _t&&(Rt.initial===!1||Rt.initial===Rt.animate)&&!vt.manuallyAnimateOnMount&&(Ft=!1),_t=!1,Ft?ht(kt):Promise.resolve()}function Pt(bt,Rt){var Nt;if(xt[bt].isActive===Rt)return Promise.resolve();(Nt=vt.variantChildren)===null||Nt===void 0||Nt.forEach(Dt=>{var Ot;return(Ot=Dt.animationState)===null||Ot===void 0?void 0:Ot.setActive(bt,Rt)}),xt[bt].isActive=Rt;const kt=Ct(bt);for(const Dt in xt)xt[Dt].protectedKeys={};return kt}return{animateChanges:Ct,setActive:Pt,setAnimateFunction:wt,getState:()=>xt,reset:()=>{xt=createState(),_t=!0}}}function checkVariantsDidChange(vt,ht){return typeof ht=="string"?ht!==vt:Array.isArray(ht)?!shallowCompare(ht,vt):!1}function createTypeState(vt=!1){return{isActive:vt,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function createState(){return{animate:createTypeState(!0),whileInView:createTypeState(),whileHover:createTypeState(),whileTap:createTypeState(),whileDrag:createTypeState(),whileFocus:createTypeState(),exit:createTypeState()}}class Feature{constructor(ht){this.isMounted=!1,this.node=ht}update(){}}class AnimationFeature extends Feature{constructor(ht){super(ht),ht.animationState||(ht.animationState=createAnimationState(ht))}updateAnimationControlsSubscription(){const{animate:ht}=this.node.getProps();isAnimationControls(ht)&&(this.unmountControls=ht.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:ht}=this.node.getProps(),{animate:xt}=this.node.prevProps||{};ht!==xt&&this.updateAnimationControlsSubscription()}unmount(){var ht;this.node.animationState.reset(),(ht=this.unmountControls)===null||ht===void 0||ht.call(this)}}let id$1=0;class ExitAnimationFeature extends Feature{constructor(){super(...arguments),this.id=id$1++}update(){if(!this.node.presenceContext)return;const{isPresent:ht,onExitComplete:xt}=this.node.presenceContext,{isPresent:_t}=this.node.prevPresenceContext||{};if(!this.node.animationState||ht===_t)return;const $t=this.node.animationState.setActive("exit",!ht);xt&&!ht&&$t.then(()=>xt(this.id))}mount(){const{register:ht}=this.node.presenceContext||{};ht&&(this.unmount=ht(this.id))}unmount(){}}const animations={animation:{Feature:AnimationFeature},exit:{Feature:ExitAnimationFeature}},isPrimaryPointer=vt=>vt.pointerType==="mouse"?typeof vt.button!="number"||vt.button<=0:vt.isPrimary!==!1;function extractEventInfo(vt,ht="page"){return{point:{x:vt[`${ht}X`],y:vt[`${ht}Y`]}}}const addPointerInfo=vt=>ht=>isPrimaryPointer(ht)&&vt(ht,extractEventInfo(ht));function addDomEvent(vt,ht,xt,_t={passive:!0}){return vt.addEventListener(ht,xt,_t),()=>vt.removeEventListener(ht,xt)}function addPointerEvent(vt,ht,xt,_t){return addDomEvent(vt,ht,addPointerInfo(xt),_t)}const distance=(vt,ht)=>Math.abs(vt-ht);function distance2D(vt,ht){const xt=distance(vt.x,ht.x),_t=distance(vt.y,ht.y);return Math.sqrt(xt**2+_t**2)}class PanSession{constructor(ht,xt,{transformPagePoint:_t,contextWindow:$t,dragSnapToOrigin:wt=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const kt=getPanInfo(this.lastMoveEventInfo,this.history),Dt=this.startEvent!==null,Ot=distance2D(kt.offset,{x:0,y:0})>=3;if(!Dt&&!Ot)return;const{point:Lt}=kt,{timestamp:Ft}=frameData;this.history.push({...Lt,timestamp:Ft});const{onStart:Ut,onMove:jt}=this.handlers;Dt||(Ut&&Ut(this.lastMoveEvent,kt),this.startEvent=this.lastMoveEvent),jt&&jt(this.lastMoveEvent,kt)},this.handlePointerMove=(kt,Dt)=>{this.lastMoveEvent=kt,this.lastMoveEventInfo=transformPoint(Dt,this.transformPagePoint),frame.update(this.updatePoint,!0)},this.handlePointerUp=(kt,Dt)=>{this.end();const{onEnd:Ot,onSessionEnd:Lt,resumeAnimation:Ft}=this.handlers;if(this.dragSnapToOrigin&&Ft&&Ft(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const Ut=getPanInfo(kt.type==="pointercancel"?this.lastMoveEventInfo:transformPoint(Dt,this.transformPagePoint),this.history);this.startEvent&&Ot&&Ot(kt,Ut),Lt&&Lt(kt,Ut)},!isPrimaryPointer(ht))return;this.dragSnapToOrigin=wt,this.handlers=xt,this.transformPagePoint=_t,this.contextWindow=$t||window;const Ct=extractEventInfo(ht),Pt=transformPoint(Ct,this.transformPagePoint),{point:bt}=Pt,{timestamp:Rt}=frameData;this.history=[{...bt,timestamp:Rt}];const{onSessionStart:Nt}=xt;Nt&&Nt(ht,getPanInfo(Pt,this.history)),this.removeListeners=pipe(addPointerEvent(this.contextWindow,"pointermove",this.handlePointerMove),addPointerEvent(this.contextWindow,"pointerup",this.handlePointerUp),addPointerEvent(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(ht){this.handlers=ht}end(){this.removeListeners&&this.removeListeners(),cancelFrame(this.updatePoint)}}function transformPoint(vt,ht){return ht?{point:ht(vt.point)}:vt}function subtractPoint(vt,ht){return{x:vt.x-ht.x,y:vt.y-ht.y}}function getPanInfo({point:vt},ht){return{point:vt,delta:subtractPoint(vt,lastDevicePoint(ht)),offset:subtractPoint(vt,startDevicePoint(ht)),velocity:getVelocity(ht,.1)}}function startDevicePoint(vt){return vt[0]}function lastDevicePoint(vt){return vt[vt.length-1]}function getVelocity(vt,ht){if(vt.length<2)return{x:0,y:0};let xt=vt.length-1,_t=null;const $t=lastDevicePoint(vt);for(;xt>=0&&(_t=vt[xt],!($t.timestamp-_t.timestamp>secondsToMilliseconds(ht)));)xt--;if(!_t)return{x:0,y:0};const wt=millisecondsToSeconds($t.timestamp-_t.timestamp);if(wt===0)return{x:0,y:0};const Ct={x:($t.x-_t.x)/wt,y:($t.y-_t.y)/wt};return Ct.x===1/0&&(Ct.x=0),Ct.y===1/0&&(Ct.y=0),Ct}function createLock(vt){let ht=null;return()=>{const xt=()=>{ht=null};return ht===null?(ht=vt,xt):!1}}const globalHorizontalLock=createLock("dragHorizontal"),globalVerticalLock=createLock("dragVertical");function getGlobalLock(vt){let ht=!1;if(vt==="y")ht=globalVerticalLock();else if(vt==="x")ht=globalHorizontalLock();else{const xt=globalHorizontalLock(),_t=globalVerticalLock();xt&&_t?ht=()=>{xt(),_t()}:(xt&&xt(),_t&&_t())}return ht}function isDragActive(){const vt=getGlobalLock(!0);return vt?(vt(),!1):!0}function isRefObject(vt){return vt&&typeof vt=="object"&&Object.prototype.hasOwnProperty.call(vt,"current")}const SCALE_PRECISION=1e-4,SCALE_MIN=1-SCALE_PRECISION,SCALE_MAX=1+SCALE_PRECISION,TRANSLATE_PRECISION=.01,TRANSLATE_MIN=0-TRANSLATE_PRECISION,TRANSLATE_MAX=0+TRANSLATE_PRECISION;function calcLength(vt){return vt.max-vt.min}function isNear(vt,ht,xt){return Math.abs(vt-ht)<=xt}function calcAxisDelta(vt,ht,xt,_t=.5){vt.origin=_t,vt.originPoint=mixNumber$1(ht.min,ht.max,vt.origin),vt.scale=calcLength(xt)/calcLength(ht),vt.translate=mixNumber$1(xt.min,xt.max,vt.origin)-vt.originPoint,(vt.scale>=SCALE_MIN&&vt.scale<=SCALE_MAX||isNaN(vt.scale))&&(vt.scale=1),(vt.translate>=TRANSLATE_MIN&&vt.translate<=TRANSLATE_MAX||isNaN(vt.translate))&&(vt.translate=0)}function calcBoxDelta(vt,ht,xt,_t){calcAxisDelta(vt.x,ht.x,xt.x,_t?_t.originX:void 0),calcAxisDelta(vt.y,ht.y,xt.y,_t?_t.originY:void 0)}function calcRelativeAxis(vt,ht,xt){vt.min=xt.min+ht.min,vt.max=vt.min+calcLength(ht)}function calcRelativeBox(vt,ht,xt){calcRelativeAxis(vt.x,ht.x,xt.x),calcRelativeAxis(vt.y,ht.y,xt.y)}function calcRelativeAxisPosition(vt,ht,xt){vt.min=ht.min-xt.min,vt.max=vt.min+calcLength(ht)}function calcRelativePosition(vt,ht,xt){calcRelativeAxisPosition(vt.x,ht.x,xt.x),calcRelativeAxisPosition(vt.y,ht.y,xt.y)}function applyConstraints(vt,{min:ht,max:xt},_t){return ht!==void 0&&vt<ht?vt=_t?mixNumber$1(ht,vt,_t.min):Math.max(vt,ht):xt!==void 0&&vt>xt&&(vt=_t?mixNumber$1(xt,vt,_t.max):Math.min(vt,xt)),vt}function calcRelativeAxisConstraints(vt,ht,xt){return{min:ht!==void 0?vt.min+ht:void 0,max:xt!==void 0?vt.max+xt-(vt.max-vt.min):void 0}}function calcRelativeConstraints(vt,{top:ht,left:xt,bottom:_t,right:$t}){return{x:calcRelativeAxisConstraints(vt.x,xt,$t),y:calcRelativeAxisConstraints(vt.y,ht,_t)}}function calcViewportAxisConstraints(vt,ht){let xt=ht.min-vt.min,_t=ht.max-vt.max;return ht.max-ht.min<vt.max-vt.min&&([xt,_t]=[_t,xt]),{min:xt,max:_t}}function calcViewportConstraints(vt,ht){return{x:calcViewportAxisConstraints(vt.x,ht.x),y:calcViewportAxisConstraints(vt.y,ht.y)}}function calcOrigin$1(vt,ht){let xt=.5;const _t=calcLength(vt),$t=calcLength(ht);return $t>_t?xt=progress(ht.min,ht.max-_t,vt.min):_t>$t&&(xt=progress(vt.min,vt.max-$t,ht.min)),clamp(0,1,xt)}function rebaseAxisConstraints(vt,ht){const xt={};return ht.min!==void 0&&(xt.min=ht.min-vt.min),ht.max!==void 0&&(xt.max=ht.max-vt.min),xt}const defaultElastic=.35;function resolveDragElastic(vt=defaultElastic){return vt===!1?vt=0:vt===!0&&(vt=defaultElastic),{x:resolveAxisElastic(vt,"left","right"),y:resolveAxisElastic(vt,"top","bottom")}}function resolveAxisElastic(vt,ht,xt){return{min:resolvePointElastic(vt,ht),max:resolvePointElastic(vt,xt)}}function resolvePointElastic(vt,ht){return typeof vt=="number"?vt:vt[ht]||0}const createAxisDelta=()=>({translate:0,scale:1,origin:0,originPoint:0}),createDelta=()=>({x:createAxisDelta(),y:createAxisDelta()}),createAxis=()=>({min:0,max:0}),createBox=()=>({x:createAxis(),y:createAxis()});function eachAxis(vt){return[vt("x"),vt("y")]}function convertBoundingBoxToBox({top:vt,left:ht,right:xt,bottom:_t}){return{x:{min:ht,max:xt},y:{min:vt,max:_t}}}function convertBoxToBoundingBox({x:vt,y:ht}){return{top:ht.min,right:vt.max,bottom:ht.max,left:vt.min}}function transformBoxPoints(vt,ht){if(!ht)return vt;const xt=ht({x:vt.left,y:vt.top}),_t=ht({x:vt.right,y:vt.bottom});return{top:xt.y,left:xt.x,bottom:_t.y,right:_t.x}}function isIdentityScale(vt){return vt===void 0||vt===1}function hasScale({scale:vt,scaleX:ht,scaleY:xt}){return!isIdentityScale(vt)||!isIdentityScale(ht)||!isIdentityScale(xt)}function hasTransform(vt){return hasScale(vt)||has2DTranslate(vt)||vt.z||vt.rotate||vt.rotateX||vt.rotateY||vt.skewX||vt.skewY}function has2DTranslate(vt){return is2DTranslate(vt.x)||is2DTranslate(vt.y)}function is2DTranslate(vt){return vt&&vt!=="0%"}function scalePoint(vt,ht,xt){const _t=vt-xt,$t=ht*_t;return xt+$t}function applyPointDelta(vt,ht,xt,_t,$t){return $t!==void 0&&(vt=scalePoint(vt,$t,_t)),scalePoint(vt,xt,_t)+ht}function applyAxisDelta(vt,ht=0,xt=1,_t,$t){vt.min=applyPointDelta(vt.min,ht,xt,_t,$t),vt.max=applyPointDelta(vt.max,ht,xt,_t,$t)}function applyBoxDelta(vt,{x:ht,y:xt}){applyAxisDelta(vt.x,ht.translate,ht.scale,ht.originPoint),applyAxisDelta(vt.y,xt.translate,xt.scale,xt.originPoint)}const TREE_SCALE_SNAP_MIN=.999999999999,TREE_SCALE_SNAP_MAX=1.0000000000001;function applyTreeDeltas(vt,ht,xt,_t=!1){const $t=xt.length;if(!$t)return;ht.x=ht.y=1;let wt,Ct;for(let Pt=0;Pt<$t;Pt++){wt=xt[Pt],Ct=wt.projectionDelta;const{visualElement:bt}=wt.options;bt&&bt.props.style&&bt.props.style.display==="contents"||(_t&&wt.options.layoutScroll&&wt.scroll&&wt!==wt.root&&transformBox(vt,{x:-wt.scroll.offset.x,y:-wt.scroll.offset.y}),Ct&&(ht.x*=Ct.x.scale,ht.y*=Ct.y.scale,applyBoxDelta(vt,Ct)),_t&&hasTransform(wt.latestValues)&&transformBox(vt,wt.latestValues))}ht.x<TREE_SCALE_SNAP_MAX&&ht.x>TREE_SCALE_SNAP_MIN&&(ht.x=1),ht.y<TREE_SCALE_SNAP_MAX&&ht.y>TREE_SCALE_SNAP_MIN&&(ht.y=1)}function translateAxis(vt,ht){vt.min=vt.min+ht,vt.max=vt.max+ht}function transformAxis(vt,ht,xt,_t,$t=.5){const wt=mixNumber$1(vt.min,vt.max,$t);applyAxisDelta(vt,ht,xt,wt,_t)}function transformBox(vt,ht){transformAxis(vt.x,ht.x,ht.scaleX,ht.scale,ht.originX),transformAxis(vt.y,ht.y,ht.scaleY,ht.scale,ht.originY)}function measureViewportBox(vt,ht){return convertBoundingBoxToBox(transformBoxPoints(vt.getBoundingClientRect(),ht))}function measurePageBox(vt,ht,xt){const _t=measureViewportBox(vt,xt),{scroll:$t}=ht;return $t&&(translateAxis(_t.x,$t.offset.x),translateAxis(_t.y,$t.offset.y)),_t}const getContextWindow=({current:vt})=>vt?vt.ownerDocument.defaultView:null,elementDragControls=new WeakMap;class VisualElementDragControls{constructor(ht){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=createBox(),this.visualElement=ht}start(ht,{snapToCursor:xt=!1}={}){const{presenceContext:_t}=this.visualElement;if(_t&&_t.isPresent===!1)return;const $t=Nt=>{const{dragSnapToOrigin:kt}=this.getProps();kt?this.pauseAnimation():this.stopAnimation(),xt&&this.snapToCursor(extractEventInfo(Nt,"page").point)},wt=(Nt,kt)=>{const{drag:Dt,dragPropagation:Ot,onDragStart:Lt}=this.getProps();if(Dt&&!Ot&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=getGlobalLock(Dt),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),eachAxis(Ut=>{let jt=this.getAxisMotionValue(Ut).get()||0;if(percent.test(jt)){const{projection:Vt}=this.visualElement;if(Vt&&Vt.layout){const Bt=Vt.layout.layoutBox[Ut];Bt&&(jt=calcLength(Bt)*(parseFloat(jt)/100))}}this.originPoint[Ut]=jt}),Lt&&frame.postRender(()=>Lt(Nt,kt)),addValueToWillChange(this.visualElement,"transform");const{animationState:Ft}=this.visualElement;Ft&&Ft.setActive("whileDrag",!0)},Ct=(Nt,kt)=>{const{dragPropagation:Dt,dragDirectionLock:Ot,onDirectionLock:Lt,onDrag:Ft}=this.getProps();if(!Dt&&!this.openGlobalLock)return;const{offset:Ut}=kt;if(Ot&&this.currentDirection===null){this.currentDirection=getCurrentDirection(Ut),this.currentDirection!==null&&Lt&&Lt(this.currentDirection);return}this.updateAxis("x",kt.point,Ut),this.updateAxis("y",kt.point,Ut),this.visualElement.render(),Ft&&Ft(Nt,kt)},Pt=(Nt,kt)=>this.stop(Nt,kt),bt=()=>eachAxis(Nt=>{var kt;return this.getAnimationState(Nt)==="paused"&&((kt=this.getAxisMotionValue(Nt).animation)===null||kt===void 0?void 0:kt.play())}),{dragSnapToOrigin:Rt}=this.getProps();this.panSession=new PanSession(ht,{onSessionStart:$t,onStart:wt,onMove:Ct,onSessionEnd:Pt,resumeAnimation:bt},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:Rt,contextWindow:getContextWindow(this.visualElement)})}stop(ht,xt){const _t=this.isDragging;if(this.cancel(),!_t)return;const{velocity:$t}=xt;this.startAnimation($t);const{onDragEnd:wt}=this.getProps();wt&&frame.postRender(()=>wt(ht,xt))}cancel(){this.isDragging=!1;const{projection:ht,animationState:xt}=this.visualElement;ht&&(ht.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:_t}=this.getProps();!_t&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),xt&&xt.setActive("whileDrag",!1)}updateAxis(ht,xt,_t){const{drag:$t}=this.getProps();if(!_t||!shouldDrag(ht,$t,this.currentDirection))return;const wt=this.getAxisMotionValue(ht);let Ct=this.originPoint[ht]+_t[ht];this.constraints&&this.constraints[ht]&&(Ct=applyConstraints(Ct,this.constraints[ht],this.elastic[ht])),wt.set(Ct)}resolveConstraints(){var ht;const{dragConstraints:xt,dragElastic:_t}=this.getProps(),$t=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(ht=this.visualElement.projection)===null||ht===void 0?void 0:ht.layout,wt=this.constraints;xt&&isRefObject(xt)?this.constraints||(this.constraints=this.resolveRefConstraints()):xt&&$t?this.constraints=calcRelativeConstraints($t.layoutBox,xt):this.constraints=!1,this.elastic=resolveDragElastic(_t),wt!==this.constraints&&$t&&this.constraints&&!this.hasMutatedConstraints&&eachAxis(Ct=>{this.constraints!==!1&&this.getAxisMotionValue(Ct)&&(this.constraints[Ct]=rebaseAxisConstraints($t.layoutBox[Ct],this.constraints[Ct]))})}resolveRefConstraints(){const{dragConstraints:ht,onMeasureDragConstraints:xt}=this.getProps();if(!ht||!isRefObject(ht))return!1;const _t=ht.current,{projection:$t}=this.visualElement;if(!$t||!$t.layout)return!1;const wt=measurePageBox(_t,$t.root,this.visualElement.getTransformPagePoint());let Ct=calcViewportConstraints($t.layout.layoutBox,wt);if(xt){const Pt=xt(convertBoxToBoundingBox(Ct));this.hasMutatedConstraints=!!Pt,Pt&&(Ct=convertBoundingBoxToBox(Pt))}return Ct}startAnimation(ht){const{drag:xt,dragMomentum:_t,dragElastic:$t,dragTransition:wt,dragSnapToOrigin:Ct,onDragTransitionEnd:Pt}=this.getProps(),bt=this.constraints||{},Rt=eachAxis(Nt=>{if(!shouldDrag(Nt,xt,this.currentDirection))return;let kt=bt&&bt[Nt]||{};Ct&&(kt={min:0,max:0});const Dt=$t?200:1e6,Ot=$t?40:1e7,Lt={type:"inertia",velocity:_t?ht[Nt]:0,bounceStiffness:Dt,bounceDamping:Ot,timeConstant:750,restDelta:1,restSpeed:10,...wt,...kt};return this.startAxisValueAnimation(Nt,Lt)});return Promise.all(Rt).then(Pt)}startAxisValueAnimation(ht,xt){const _t=this.getAxisMotionValue(ht);return addValueToWillChange(this.visualElement,ht),_t.start(animateMotionValue(ht,_t,0,xt,this.visualElement,!1))}stopAnimation(){eachAxis(ht=>this.getAxisMotionValue(ht).stop())}pauseAnimation(){eachAxis(ht=>{var xt;return(xt=this.getAxisMotionValue(ht).animation)===null||xt===void 0?void 0:xt.pause()})}getAnimationState(ht){var xt;return(xt=this.getAxisMotionValue(ht).animation)===null||xt===void 0?void 0:xt.state}getAxisMotionValue(ht){const xt=`_drag${ht.toUpperCase()}`,_t=this.visualElement.getProps(),$t=_t[xt];return $t||this.visualElement.getValue(ht,(_t.initial?_t.initial[ht]:void 0)||0)}snapToCursor(ht){eachAxis(xt=>{const{drag:_t}=this.getProps();if(!shouldDrag(xt,_t,this.currentDirection))return;const{projection:$t}=this.visualElement,wt=this.getAxisMotionValue(xt);if($t&&$t.layout){const{min:Ct,max:Pt}=$t.layout.layoutBox[xt];wt.set(ht[xt]-mixNumber$1(Ct,Pt,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:ht,dragConstraints:xt}=this.getProps(),{projection:_t}=this.visualElement;if(!isRefObject(xt)||!_t||!this.constraints)return;this.stopAnimation();const $t={x:0,y:0};eachAxis(Ct=>{const Pt=this.getAxisMotionValue(Ct);if(Pt&&this.constraints!==!1){const bt=Pt.get();$t[Ct]=calcOrigin$1({min:bt,max:bt},this.constraints[Ct])}});const{transformTemplate:wt}=this.visualElement.getProps();this.visualElement.current.style.transform=wt?wt({},""):"none",_t.root&&_t.root.updateScroll(),_t.updateLayout(),this.resolveConstraints(),eachAxis(Ct=>{if(!shouldDrag(Ct,ht,null))return;const Pt=this.getAxisMotionValue(Ct),{min:bt,max:Rt}=this.constraints[Ct];Pt.set(mixNumber$1(bt,Rt,$t[Ct]))})}addListeners(){if(!this.visualElement.current)return;elementDragControls.set(this.visualElement,this);const ht=this.visualElement.current,xt=addPointerEvent(ht,"pointerdown",bt=>{const{drag:Rt,dragListener:Nt=!0}=this.getProps();Rt&&Nt&&this.start(bt)}),_t=()=>{const{dragConstraints:bt}=this.getProps();isRefObject(bt)&&bt.current&&(this.constraints=this.resolveRefConstraints())},{projection:$t}=this.visualElement,wt=$t.addEventListener("measure",_t);$t&&!$t.layout&&($t.root&&$t.root.updateScroll(),$t.updateLayout()),frame.read(_t);const Ct=addDomEvent(window,"resize",()=>this.scalePositionWithinConstraints()),Pt=$t.addEventListener("didUpdate",({delta:bt,hasLayoutChanged:Rt})=>{this.isDragging&&Rt&&(eachAxis(Nt=>{const kt=this.getAxisMotionValue(Nt);kt&&(this.originPoint[Nt]+=bt[Nt].translate,kt.set(kt.get()+bt[Nt].translate))}),this.visualElement.render())});return()=>{Ct(),xt(),wt(),Pt&&Pt()}}getProps(){const ht=this.visualElement.getProps(),{drag:xt=!1,dragDirectionLock:_t=!1,dragPropagation:$t=!1,dragConstraints:wt=!1,dragElastic:Ct=defaultElastic,dragMomentum:Pt=!0}=ht;return{...ht,drag:xt,dragDirectionLock:_t,dragPropagation:$t,dragConstraints:wt,dragElastic:Ct,dragMomentum:Pt}}}function shouldDrag(vt,ht,xt){return(ht===!0||ht===vt)&&(xt===null||xt===vt)}function getCurrentDirection(vt,ht=10){let xt=null;return Math.abs(vt.y)>ht?xt="y":Math.abs(vt.x)>ht&&(xt="x"),xt}class DragGesture extends Feature{constructor(ht){super(ht),this.removeGroupControls=noop,this.removeListeners=noop,this.controls=new VisualElementDragControls(ht)}mount(){const{dragControls:ht}=this.node.getProps();ht&&(this.removeGroupControls=ht.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||noop}unmount(){this.removeGroupControls(),this.removeListeners()}}const asyncHandler=vt=>(ht,xt)=>{vt&&frame.postRender(()=>vt(ht,xt))};class PanGesture extends Feature{constructor(){super(...arguments),this.removePointerDownListener=noop}onPointerDown(ht){this.session=new PanSession(ht,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:getContextWindow(this.node)})}createPanHandlers(){const{onPanSessionStart:ht,onPanStart:xt,onPan:_t,onPanEnd:$t}=this.node.getProps();return{onSessionStart:asyncHandler(ht),onStart:asyncHandler(xt),onMove:_t,onEnd:(wt,Ct)=>{delete this.session,$t&&frame.postRender(()=>$t(wt,Ct))}}}mount(){this.removePointerDownListener=addPointerEvent(this.node.current,"pointerdown",ht=>this.onPointerDown(ht))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const PresenceContext=reactExports.createContext(null);function usePresence(){const vt=reactExports.useContext(PresenceContext);if(vt===null)return[!0,null];const{isPresent:ht,onExitComplete:xt,register:_t}=vt,$t=reactExports.useId();reactExports.useEffect(()=>_t($t),[]);const wt=reactExports.useCallback(()=>xt&&xt($t),[$t,xt]);return!ht&&xt?[!1,wt]:[!0]}const LayoutGroupContext=reactExports.createContext({}),SwitchLayoutGroupContext=reactExports.createContext({}),globalProjectionState={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function pixelsToPercent(vt,ht){return ht.max===ht.min?0:vt/(ht.max-ht.min)*100}const correctBorderRadius={correct:(vt,ht)=>{if(!ht.target)return vt;if(typeof vt=="string")if(px.test(vt))vt=parseFloat(vt);else return vt;const xt=pixelsToPercent(vt,ht.target.x),_t=pixelsToPercent(vt,ht.target.y);return`${xt}% ${_t}%`}},correctBoxShadow={correct:(vt,{treeScale:ht,projectionDelta:xt})=>{const _t=vt,$t=complex.parse(vt);if($t.length>5)return _t;const wt=complex.createTransformer(vt),Ct=typeof $t[0]!="number"?1:0,Pt=xt.x.scale*ht.x,bt=xt.y.scale*ht.y;$t[0+Ct]/=Pt,$t[1+Ct]/=bt;const Rt=mixNumber$1(Pt,bt,.5);return typeof $t[2+Ct]=="number"&&($t[2+Ct]/=Rt),typeof $t[3+Ct]=="number"&&($t[3+Ct]/=Rt),wt($t)}},scaleCorrectors={};function addScaleCorrector(vt){Object.assign(scaleCorrectors,vt)}const{schedule:microtask,cancel:cancelMicrotask}=createRenderBatcher(queueMicrotask,!1);class MeasureLayoutWithContext extends reactExports.Component{componentDidMount(){const{visualElement:ht,layoutGroup:xt,switchLayoutGroup:_t,layoutId:$t}=this.props,{projection:wt}=ht;addScaleCorrector(defaultScaleCorrectors),wt&&(xt.group&&xt.group.add(wt),_t&&_t.register&&$t&&_t.register(wt),wt.root.didUpdate(),wt.addEventListener("animationComplete",()=>{this.safeToRemove()}),wt.setOptions({...wt.options,onExitComplete:()=>this.safeToRemove()})),globalProjectionState.hasEverUpdated=!0}getSnapshotBeforeUpdate(ht){const{layoutDependency:xt,visualElement:_t,drag:$t,isPresent:wt}=this.props,Ct=_t.projection;return Ct&&(Ct.isPresent=wt,$t||ht.layoutDependency!==xt||xt===void 0?Ct.willUpdate():this.safeToRemove(),ht.isPresent!==wt&&(wt?Ct.promote():Ct.relegate()||frame.postRender(()=>{const Pt=Ct.getStack();(!Pt||!Pt.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:ht}=this.props.visualElement;ht&&(ht.root.didUpdate(),microtask.postRender(()=>{!ht.currentAnimation&&ht.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:ht,layoutGroup:xt,switchLayoutGroup:_t}=this.props,{projection:$t}=ht;$t&&($t.scheduleCheckAfterUnmount(),xt&&xt.group&&xt.group.remove($t),_t&&_t.deregister&&_t.deregister($t))}safeToRemove(){const{safeToRemove:ht}=this.props;ht&&ht()}render(){return null}}function MeasureLayout(vt){const[ht,xt]=usePresence(),_t=reactExports.useContext(LayoutGroupContext);return jsxRuntimeExports.jsx(MeasureLayoutWithContext,{...vt,layoutGroup:_t,switchLayoutGroup:reactExports.useContext(SwitchLayoutGroupContext),isPresent:ht,safeToRemove:xt})}const defaultScaleCorrectors={borderRadius:{...correctBorderRadius,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:correctBorderRadius,borderTopRightRadius:correctBorderRadius,borderBottomLeftRadius:correctBorderRadius,borderBottomRightRadius:correctBorderRadius,boxShadow:correctBoxShadow},borders=["TopLeft","TopRight","BottomLeft","BottomRight"],numBorders=borders.length,asNumber=vt=>typeof vt=="string"?parseFloat(vt):vt,isPx=vt=>typeof vt=="number"||px.test(vt);function mixValues(vt,ht,xt,_t,$t,wt){$t?(vt.opacity=mixNumber$1(0,xt.opacity!==void 0?xt.opacity:1,easeCrossfadeIn(_t)),vt.opacityExit=mixNumber$1(ht.opacity!==void 0?ht.opacity:1,0,easeCrossfadeOut(_t))):wt&&(vt.opacity=mixNumber$1(ht.opacity!==void 0?ht.opacity:1,xt.opacity!==void 0?xt.opacity:1,_t));for(let Ct=0;Ct<numBorders;Ct++){const Pt=`border${borders[Ct]}Radius`;let bt=getRadius(ht,Pt),Rt=getRadius(xt,Pt);if(bt===void 0&&Rt===void 0)continue;bt||(bt=0),Rt||(Rt=0),bt===0||Rt===0||isPx(bt)===isPx(Rt)?(vt[Pt]=Math.max(mixNumber$1(asNumber(bt),asNumber(Rt),_t),0),(percent.test(Rt)||percent.test(bt))&&(vt[Pt]+="%")):vt[Pt]=Rt}(ht.rotate||xt.rotate)&&(vt.rotate=mixNumber$1(ht.rotate||0,xt.rotate||0,_t))}function getRadius(vt,ht){return vt[ht]!==void 0?vt[ht]:vt.borderRadius}const easeCrossfadeIn=compress(0,.5,circOut),easeCrossfadeOut=compress(.5,.95,noop);function compress(vt,ht,xt){return _t=>_t<vt?0:_t>ht?1:xt(progress(vt,ht,_t))}function copyAxisInto(vt,ht){vt.min=ht.min,vt.max=ht.max}function copyBoxInto(vt,ht){copyAxisInto(vt.x,ht.x),copyAxisInto(vt.y,ht.y)}function copyAxisDeltaInto(vt,ht){vt.translate=ht.translate,vt.scale=ht.scale,vt.originPoint=ht.originPoint,vt.origin=ht.origin}function removePointDelta(vt,ht,xt,_t,$t){return vt-=ht,vt=scalePoint(vt,1/xt,_t),$t!==void 0&&(vt=scalePoint(vt,1/$t,_t)),vt}function removeAxisDelta(vt,ht=0,xt=1,_t=.5,$t,wt=vt,Ct=vt){if(percent.test(ht)&&(ht=parseFloat(ht),ht=mixNumber$1(Ct.min,Ct.max,ht/100)-Ct.min),typeof ht!="number")return;let Pt=mixNumber$1(wt.min,wt.max,_t);vt===wt&&(Pt-=ht),vt.min=removePointDelta(vt.min,ht,xt,Pt,$t),vt.max=removePointDelta(vt.max,ht,xt,Pt,$t)}function removeAxisTransforms(vt,ht,[xt,_t,$t],wt,Ct){removeAxisDelta(vt,ht[xt],ht[_t],ht[$t],ht.scale,wt,Ct)}const xKeys=["x","scaleX","originX"],yKeys=["y","scaleY","originY"];function removeBoxTransforms(vt,ht,xt,_t){removeAxisTransforms(vt.x,ht,xKeys,xt?xt.x:void 0,_t?_t.x:void 0),removeAxisTransforms(vt.y,ht,yKeys,xt?xt.y:void 0,_t?_t.y:void 0)}function isAxisDeltaZero(vt){return vt.translate===0&&vt.scale===1}function isDeltaZero(vt){return isAxisDeltaZero(vt.x)&&isAxisDeltaZero(vt.y)}function axisEquals(vt,ht){return vt.min===ht.min&&vt.max===ht.max}function boxEquals(vt,ht){return axisEquals(vt.x,ht.x)&&axisEquals(vt.y,ht.y)}function axisEqualsRounded(vt,ht){return Math.round(vt.min)===Math.round(ht.min)&&Math.round(vt.max)===Math.round(ht.max)}function boxEqualsRounded(vt,ht){return axisEqualsRounded(vt.x,ht.x)&&axisEqualsRounded(vt.y,ht.y)}function aspectRatio(vt){return calcLength(vt.x)/calcLength(vt.y)}function axisDeltaEquals(vt,ht){return vt.translate===ht.translate&&vt.scale===ht.scale&&vt.originPoint===ht.originPoint}class NodeStack{constructor(){this.members=[]}add(ht){addUniqueItem(this.members,ht),ht.scheduleRender()}remove(ht){if(removeItem(this.members,ht),ht===this.prevLead&&(this.prevLead=void 0),ht===this.lead){const xt=this.members[this.members.length-1];xt&&this.promote(xt)}}relegate(ht){const xt=this.members.findIndex($t=>ht===$t);if(xt===0)return!1;let _t;for(let $t=xt;$t>=0;$t--){const wt=this.members[$t];if(wt.isPresent!==!1){_t=wt;break}}return _t?(this.promote(_t),!0):!1}promote(ht,xt){const _t=this.lead;if(ht!==_t&&(this.prevLead=_t,this.lead=ht,ht.show(),_t)){_t.instance&&_t.scheduleRender(),ht.scheduleRender(),ht.resumeFrom=_t,xt&&(ht.resumeFrom.preserveOpacity=!0),_t.snapshot&&(ht.snapshot=_t.snapshot,ht.snapshot.latestValues=_t.animationValues||_t.latestValues),ht.root&&ht.root.isUpdating&&(ht.isLayoutDirty=!0);const{crossfade:$t}=ht.options;$t===!1&&_t.hide()}}exitAnimationComplete(){this.members.forEach(ht=>{const{options:xt,resumingFrom:_t}=ht;xt.onExitComplete&&xt.onExitComplete(),_t&&_t.options.onExitComplete&&_t.options.onExitComplete()})}scheduleRender(){this.members.forEach(ht=>{ht.instance&&ht.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function buildProjectionTransform(vt,ht,xt){let _t="";const $t=vt.x.translate/ht.x,wt=vt.y.translate/ht.y,Ct=(xt==null?void 0:xt.z)||0;if(($t||wt||Ct)&&(_t=`translate3d(${$t}px, ${wt}px, ${Ct}px) `),(ht.x!==1||ht.y!==1)&&(_t+=`scale(${1/ht.x}, ${1/ht.y}) `),xt){const{transformPerspective:Rt,rotate:Nt,rotateX:kt,rotateY:Dt,skewX:Ot,skewY:Lt}=xt;Rt&&(_t=`perspective(${Rt}px) ${_t}`),Nt&&(_t+=`rotate(${Nt}deg) `),kt&&(_t+=`rotateX(${kt}deg) `),Dt&&(_t+=`rotateY(${Dt}deg) `),Ot&&(_t+=`skewX(${Ot}deg) `),Lt&&(_t+=`skewY(${Lt}deg) `)}const Pt=vt.x.scale*ht.x,bt=vt.y.scale*ht.y;return(Pt!==1||bt!==1)&&(_t+=`scale(${Pt}, ${bt})`),_t||"none"}const compareByDepth=(vt,ht)=>vt.depth-ht.depth;class FlatTree{constructor(){this.children=[],this.isDirty=!1}add(ht){addUniqueItem(this.children,ht),this.isDirty=!0}remove(ht){removeItem(this.children,ht),this.isDirty=!0}forEach(ht){this.isDirty&&this.children.sort(compareByDepth),this.isDirty=!1,this.children.forEach(ht)}}function resolveMotionValue(vt){const ht=isMotionValue(vt)?vt.get():vt;return isCustomValue(ht)?ht.toValue():ht}function delay(vt,ht){const xt=time.now(),_t=({timestamp:$t})=>{const wt=$t-xt;wt>=ht&&(cancelFrame(_t),vt(wt-ht))};return frame.read(_t,!0),()=>cancelFrame(_t)}function isSVGElement(vt){return vt instanceof SVGElement&&vt.tagName!=="svg"}function animateSingleValue(vt,ht,xt){const _t=isMotionValue(vt)?vt:motionValue(vt);return _t.start(animateMotionValue("",_t,ht,xt)),_t.animation}const metrics={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},isDebug=typeof window<"u"&&window.MotionDebug!==void 0,transformAxes=["","X","Y","Z"],hiddenVisibility={visibility:"hidden"},animationTarget=1e3;let id=0;function resetDistortingTransform(vt,ht,xt,_t){const{latestValues:$t}=ht;$t[vt]&&(xt[vt]=$t[vt],ht.setStaticValue(vt,0),_t&&(_t[vt]=0))}function cancelTreeOptimisedTransformAnimations(vt){if(vt.hasCheckedOptimisedAppear=!0,vt.root===vt)return;const{visualElement:ht}=vt.options;if(!ht)return;const xt=getOptimisedAppearId(ht);if(window.MotionHasOptimisedAnimation(xt,"transform")){const{layout:$t,layoutId:wt}=vt.options;window.MotionCancelOptimisedAnimation(xt,"transform",frame,!($t||wt))}const{parent:_t}=vt;_t&&!_t.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations(_t)}function createProjectionNode$1({attachResizeListener:vt,defaultParent:ht,measureScroll:xt,checkIsScrollRoot:_t,resetTransform:$t}){return class{constructor(Ct={},Pt=ht==null?void 0:ht()){this.id=id++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,isDebug&&(metrics.totalNodes=metrics.resolvedTargetDeltas=metrics.recalculatedProjection=0),this.nodes.forEach(propagateDirtyNodes),this.nodes.forEach(resolveTargetDelta),this.nodes.forEach(calcProjection),this.nodes.forEach(cleanDirtyNodes),isDebug&&window.MotionDebug.record(metrics)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=Ct,this.root=Pt?Pt.root||Pt:this,this.path=Pt?[...Pt.path,Pt]:[],this.parent=Pt,this.depth=Pt?Pt.depth+1:0;for(let bt=0;bt<this.path.length;bt++)this.path[bt].shouldResetTransform=!0;this.root===this&&(this.nodes=new FlatTree)}addEventListener(Ct,Pt){return this.eventHandlers.has(Ct)||this.eventHandlers.set(Ct,new SubscriptionManager),this.eventHandlers.get(Ct).add(Pt)}notifyListeners(Ct,...Pt){const bt=this.eventHandlers.get(Ct);bt&&bt.notify(...Pt)}hasListeners(Ct){return this.eventHandlers.has(Ct)}mount(Ct,Pt=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=isSVGElement(Ct),this.instance=Ct;const{layoutId:bt,layout:Rt,visualElement:Nt}=this.options;if(Nt&&!Nt.current&&Nt.mount(Ct),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),Pt&&(Rt||bt)&&(this.isLayoutDirty=!0),vt){let kt;const Dt=()=>this.root.updateBlockedByResize=!1;vt(Ct,()=>{this.root.updateBlockedByResize=!0,kt&&kt(),kt=delay(Dt,250),globalProjectionState.hasAnimatedSinceResize&&(globalProjectionState.hasAnimatedSinceResize=!1,this.nodes.forEach(finishAnimation))})}bt&&this.root.registerSharedNode(bt,this),this.options.animate!==!1&&Nt&&(bt||Rt)&&this.addEventListener("didUpdate",({delta:kt,hasLayoutChanged:Dt,hasRelativeTargetChanged:Ot,layout:Lt})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const Ft=this.options.transition||Nt.getDefaultTransition()||defaultLayoutTransition,{onLayoutAnimationStart:Ut,onLayoutAnimationComplete:jt}=Nt.getProps(),Vt=!this.targetLayout||!boxEqualsRounded(this.targetLayout,Lt)||Ot,Bt=!Dt&&Ot;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||Bt||Dt&&(Vt||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(kt,Bt);const Wt={...getValueTransition(Ft,"layout"),onPlay:Ut,onComplete:jt};(Nt.shouldReduceMotion||this.options.layoutRoot)&&(Wt.delay=0,Wt.type=!1),this.startAnimation(Wt)}else Dt||finishAnimation(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=Lt})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const Ct=this.getStack();Ct&&Ct.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,cancelFrame(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(resetSkewAndRotation),this.animationId++)}getTransformTemplate(){const{visualElement:Ct}=this.options;return Ct&&Ct.getProps().transformTemplate}willUpdate(Ct=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let Nt=0;Nt<this.path.length;Nt++){const kt=this.path[Nt];kt.shouldResetTransform=!0,kt.updateScroll("snapshot"),kt.options.layoutRoot&&kt.willUpdate(!1)}const{layoutId:Pt,layout:bt}=this.options;if(Pt===void 0&&!bt)return;const Rt=this.getTransformTemplate();this.prevTransformTemplateValue=Rt?Rt(this.latestValues,""):void 0,this.updateSnapshot(),Ct&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(clearMeasurements);return}this.isUpdating||this.nodes.forEach(clearIsLayoutDirty),this.isUpdating=!1,this.nodes.forEach(resetTransformStyle),this.nodes.forEach(updateLayout),this.nodes.forEach(notifyLayoutUpdate),this.clearAllSnapshots();const Pt=time.now();frameData.delta=clamp(0,1e3/60,Pt-frameData.timestamp),frameData.timestamp=Pt,frameData.isProcessing=!0,frameSteps.update.process(frameData),frameSteps.preRender.process(frameData),frameSteps.render.process(frameData),frameData.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,microtask.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(clearSnapshot),this.sharedNodes.forEach(removeLeadSnapshots)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,frame.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){frame.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let bt=0;bt<this.path.length;bt++)this.path[bt].updateScroll();const Ct=this.layout;this.layout=this.measure(!1),this.layoutCorrected=createBox(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:Pt}=this.options;Pt&&Pt.notify("LayoutMeasure",this.layout.layoutBox,Ct?Ct.layoutBox:void 0)}updateScroll(Ct="measure"){let Pt=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===Ct&&(Pt=!1),Pt){const bt=_t(this.instance);this.scroll={animationId:this.root.animationId,phase:Ct,isRoot:bt,offset:xt(this.instance),wasRoot:this.scroll?this.scroll.isRoot:bt}}}resetTransform(){if(!$t)return;const Ct=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,Pt=this.projectionDelta&&!isDeltaZero(this.projectionDelta),bt=this.getTransformTemplate(),Rt=bt?bt(this.latestValues,""):void 0,Nt=Rt!==this.prevTransformTemplateValue;Ct&&(Pt||hasTransform(this.latestValues)||Nt)&&($t(this.instance,Rt),this.shouldResetTransform=!1,this.scheduleRender())}measure(Ct=!0){const Pt=this.measurePageBox();let bt=this.removeElementScroll(Pt);return Ct&&(bt=this.removeTransform(bt)),roundBox(bt),{animationId:this.root.animationId,measuredBox:Pt,layoutBox:bt,latestValues:{},source:this.id}}measurePageBox(){var Ct;const{visualElement:Pt}=this.options;if(!Pt)return createBox();const bt=Pt.measureViewportBox();if(!(((Ct=this.scroll)===null||Ct===void 0?void 0:Ct.wasRoot)||this.path.some(checkNodeWasScrollRoot))){const{scroll:Nt}=this.root;Nt&&(translateAxis(bt.x,Nt.offset.x),translateAxis(bt.y,Nt.offset.y))}return bt}removeElementScroll(Ct){var Pt;const bt=createBox();if(copyBoxInto(bt,Ct),!((Pt=this.scroll)===null||Pt===void 0)&&Pt.wasRoot)return bt;for(let Rt=0;Rt<this.path.length;Rt++){const Nt=this.path[Rt],{scroll:kt,options:Dt}=Nt;Nt!==this.root&&kt&&Dt.layoutScroll&&(kt.wasRoot&&copyBoxInto(bt,Ct),translateAxis(bt.x,kt.offset.x),translateAxis(bt.y,kt.offset.y))}return bt}applyTransform(Ct,Pt=!1){const bt=createBox();copyBoxInto(bt,Ct);for(let Rt=0;Rt<this.path.length;Rt++){const Nt=this.path[Rt];!Pt&&Nt.options.layoutScroll&&Nt.scroll&&Nt!==Nt.root&&transformBox(bt,{x:-Nt.scroll.offset.x,y:-Nt.scroll.offset.y}),hasTransform(Nt.latestValues)&&transformBox(bt,Nt.latestValues)}return hasTransform(this.latestValues)&&transformBox(bt,this.latestValues),bt}removeTransform(Ct){const Pt=createBox();copyBoxInto(Pt,Ct);for(let bt=0;bt<this.path.length;bt++){const Rt=this.path[bt];if(!Rt.instance||!hasTransform(Rt.latestValues))continue;hasScale(Rt.latestValues)&&Rt.updateSnapshot();const Nt=createBox(),kt=Rt.measurePageBox();copyBoxInto(Nt,kt),removeBoxTransforms(Pt,Rt.latestValues,Rt.snapshot?Rt.snapshot.layoutBox:void 0,Nt)}return hasTransform(this.latestValues)&&removeBoxTransforms(Pt,this.latestValues),Pt}setTargetDelta(Ct){this.targetDelta=Ct,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(Ct){this.options={...this.options,...Ct,crossfade:Ct.crossfade!==void 0?Ct.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==frameData.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(Ct=!1){var Pt;const bt=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=bt.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=bt.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=bt.isSharedProjectionDirty);const Rt=!!this.resumingFrom||this!==bt;if(!(Ct||Rt&&this.isSharedProjectionDirty||this.isProjectionDirty||!((Pt=this.parent)===null||Pt===void 0)&&Pt.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:kt,layoutId:Dt}=this.options;if(!(!this.layout||!(kt||Dt))){if(this.resolvedRelativeTargetAt=frameData.timestamp,!this.targetDelta&&!this.relativeTarget){const Ot=this.getClosestProjectingParent();Ot&&Ot.layout&&this.animationProgress!==1?(this.relativeParent=Ot,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.layout.layoutBox,Ot.layout.layoutBox),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=createBox(),this.targetWithTransforms=createBox()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),calcRelativeBox(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):copyBoxInto(this.target,this.layout.layoutBox),applyBoxDelta(this.target,this.targetDelta)):copyBoxInto(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const Ot=this.getClosestProjectingParent();Ot&&!!Ot.resumingFrom==!!this.resumingFrom&&!Ot.options.layoutScroll&&Ot.target&&this.animationProgress!==1?(this.relativeParent=Ot,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.target,Ot.target),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}isDebug&&metrics.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||hasScale(this.parent.latestValues)||has2DTranslate(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var Ct;const Pt=this.getLead(),bt=!!this.resumingFrom||this!==Pt;let Rt=!0;if((this.isProjectionDirty||!((Ct=this.parent)===null||Ct===void 0)&&Ct.isProjectionDirty)&&(Rt=!1),bt&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(Rt=!1),this.resolvedRelativeTargetAt===frameData.timestamp&&(Rt=!1),Rt)return;const{layout:Nt,layoutId:kt}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(Nt||kt))return;copyBoxInto(this.layoutCorrected,this.layout.layoutBox);const Dt=this.treeScale.x,Ot=this.treeScale.y;applyTreeDeltas(this.layoutCorrected,this.treeScale,this.path,bt),Pt.layout&&!Pt.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(Pt.target=Pt.layout.layoutBox,Pt.targetWithTransforms=createBox());const{target:Lt}=Pt;if(!Lt){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(copyAxisDeltaInto(this.prevProjectionDelta.x,this.projectionDelta.x),copyAxisDeltaInto(this.prevProjectionDelta.y,this.projectionDelta.y)),calcBoxDelta(this.projectionDelta,this.layoutCorrected,Lt,this.latestValues),(this.treeScale.x!==Dt||this.treeScale.y!==Ot||!axisDeltaEquals(this.projectionDelta.x,this.prevProjectionDelta.x)||!axisDeltaEquals(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",Lt)),isDebug&&metrics.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(Ct=!0){var Pt;if((Pt=this.options.visualElement)===null||Pt===void 0||Pt.scheduleRender(),Ct){const bt=this.getStack();bt&&bt.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=createDelta(),this.projectionDelta=createDelta(),this.projectionDeltaWithTransform=createDelta()}setAnimationOrigin(Ct,Pt=!1){const bt=this.snapshot,Rt=bt?bt.latestValues:{},Nt={...this.latestValues},kt=createDelta();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!Pt;const Dt=createBox(),Ot=bt?bt.source:void 0,Lt=this.layout?this.layout.source:void 0,Ft=Ot!==Lt,Ut=this.getStack(),jt=!Ut||Ut.members.length<=1,Vt=!!(Ft&&!jt&&this.options.crossfade===!0&&!this.path.some(hasOpacityCrossfade));this.animationProgress=0;let Bt;this.mixTargetDelta=Wt=>{const zt=Wt/1e3;mixAxisDelta(kt.x,Ct.x,zt),mixAxisDelta(kt.y,Ct.y,zt),this.setTargetDelta(kt),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(calcRelativePosition(Dt,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mixBox(this.relativeTarget,this.relativeTargetOrigin,Dt,zt),Bt&&boxEquals(this.relativeTarget,Bt)&&(this.isProjectionDirty=!1),Bt||(Bt=createBox()),copyBoxInto(Bt,this.relativeTarget)),Ft&&(this.animationValues=Nt,mixValues(Nt,Rt,this.latestValues,zt,Vt,jt)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=zt},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(Ct){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(cancelFrame(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=frame.update(()=>{globalProjectionState.hasAnimatedSinceResize=!0,this.currentAnimation=animateSingleValue(0,animationTarget,{...Ct,onUpdate:Pt=>{this.mixTargetDelta(Pt),Ct.onUpdate&&Ct.onUpdate(Pt)},onComplete:()=>{Ct.onComplete&&Ct.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const Ct=this.getStack();Ct&&Ct.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(animationTarget),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const Ct=this.getLead();let{targetWithTransforms:Pt,target:bt,layout:Rt,latestValues:Nt}=Ct;if(!(!Pt||!bt||!Rt)){if(this!==Ct&&this.layout&&Rt&&shouldAnimatePositionOnly(this.options.animationType,this.layout.layoutBox,Rt.layoutBox)){bt=this.target||createBox();const kt=calcLength(this.layout.layoutBox.x);bt.x.min=Ct.target.x.min,bt.x.max=bt.x.min+kt;const Dt=calcLength(this.layout.layoutBox.y);bt.y.min=Ct.target.y.min,bt.y.max=bt.y.min+Dt}copyBoxInto(Pt,bt),transformBox(Pt,Nt),calcBoxDelta(this.projectionDeltaWithTransform,this.layoutCorrected,Pt,Nt)}}registerSharedNode(Ct,Pt){this.sharedNodes.has(Ct)||this.sharedNodes.set(Ct,new NodeStack),this.sharedNodes.get(Ct).add(Pt);const Rt=Pt.options.initialPromotionConfig;Pt.promote({transition:Rt?Rt.transition:void 0,preserveFollowOpacity:Rt&&Rt.shouldPreserveFollowOpacity?Rt.shouldPreserveFollowOpacity(Pt):void 0})}isLead(){const Ct=this.getStack();return Ct?Ct.lead===this:!0}getLead(){var Ct;const{layoutId:Pt}=this.options;return Pt?((Ct=this.getStack())===null||Ct===void 0?void 0:Ct.lead)||this:this}getPrevLead(){var Ct;const{layoutId:Pt}=this.options;return Pt?(Ct=this.getStack())===null||Ct===void 0?void 0:Ct.prevLead:void 0}getStack(){const{layoutId:Ct}=this.options;if(Ct)return this.root.sharedNodes.get(Ct)}promote({needsReset:Ct,transition:Pt,preserveFollowOpacity:bt}={}){const Rt=this.getStack();Rt&&Rt.promote(this,bt),Ct&&(this.projectionDelta=void 0,this.needsReset=!0),Pt&&this.setOptions({transition:Pt})}relegate(){const Ct=this.getStack();return Ct?Ct.relegate(this):!1}resetSkewAndRotation(){const{visualElement:Ct}=this.options;if(!Ct)return;let Pt=!1;const{latestValues:bt}=Ct;if((bt.z||bt.rotate||bt.rotateX||bt.rotateY||bt.rotateZ||bt.skewX||bt.skewY)&&(Pt=!0),!Pt)return;const Rt={};bt.z&&resetDistortingTransform("z",Ct,Rt,this.animationValues);for(let Nt=0;Nt<transformAxes.length;Nt++)resetDistortingTransform(`rotate${transformAxes[Nt]}`,Ct,Rt,this.animationValues),resetDistortingTransform(`skew${transformAxes[Nt]}`,Ct,Rt,this.animationValues);Ct.render();for(const Nt in Rt)Ct.setStaticValue(Nt,Rt[Nt]),this.animationValues&&(this.animationValues[Nt]=Rt[Nt]);Ct.scheduleRender()}getProjectionStyles(Ct){var Pt,bt;if(!this.instance||this.isSVG)return;if(!this.isVisible)return hiddenVisibility;const Rt={visibility:""},Nt=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,Rt.opacity="",Rt.pointerEvents=resolveMotionValue(Ct==null?void 0:Ct.pointerEvents)||"",Rt.transform=Nt?Nt(this.latestValues,""):"none",Rt;const kt=this.getLead();if(!this.projectionDelta||!this.layout||!kt.target){const Ft={};return this.options.layoutId&&(Ft.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,Ft.pointerEvents=resolveMotionValue(Ct==null?void 0:Ct.pointerEvents)||""),this.hasProjected&&!hasTransform(this.latestValues)&&(Ft.transform=Nt?Nt({},""):"none",this.hasProjected=!1),Ft}const Dt=kt.animationValues||kt.latestValues;this.applyTransformsToTarget(),Rt.transform=buildProjectionTransform(this.projectionDeltaWithTransform,this.treeScale,Dt),Nt&&(Rt.transform=Nt(Dt,Rt.transform));const{x:Ot,y:Lt}=this.projectionDelta;Rt.transformOrigin=`${Ot.origin*100}% ${Lt.origin*100}% 0`,kt.animationValues?Rt.opacity=kt===this?(bt=(Pt=Dt.opacity)!==null&&Pt!==void 0?Pt:this.latestValues.opacity)!==null&&bt!==void 0?bt:1:this.preserveOpacity?this.latestValues.opacity:Dt.opacityExit:Rt.opacity=kt===this?Dt.opacity!==void 0?Dt.opacity:"":Dt.opacityExit!==void 0?Dt.opacityExit:0;for(const Ft in scaleCorrectors){if(Dt[Ft]===void 0)continue;const{correct:Ut,applyTo:jt}=scaleCorrectors[Ft],Vt=Rt.transform==="none"?Dt[Ft]:Ut(Dt[Ft],kt);if(jt){const Bt=jt.length;for(let Wt=0;Wt<Bt;Wt++)Rt[jt[Wt]]=Vt}else Rt[Ft]=Vt}return this.options.layoutId&&(Rt.pointerEvents=kt===this?resolveMotionValue(Ct==null?void 0:Ct.pointerEvents)||"":"none"),Rt}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(Ct=>{var Pt;return(Pt=Ct.currentAnimation)===null||Pt===void 0?void 0:Pt.stop()}),this.root.nodes.forEach(clearMeasurements),this.root.sharedNodes.clear()}}}function updateLayout(vt){vt.updateLayout()}function notifyLayoutUpdate(vt){var ht;const xt=((ht=vt.resumeFrom)===null||ht===void 0?void 0:ht.snapshot)||vt.snapshot;if(vt.isLead()&&vt.layout&&xt&&vt.hasListeners("didUpdate")){const{layoutBox:_t,measuredBox:$t}=vt.layout,{animationType:wt}=vt.options,Ct=xt.source!==vt.layout.source;wt==="size"?eachAxis(kt=>{const Dt=Ct?xt.measuredBox[kt]:xt.layoutBox[kt],Ot=calcLength(Dt);Dt.min=_t[kt].min,Dt.max=Dt.min+Ot}):shouldAnimatePositionOnly(wt,xt.layoutBox,_t)&&eachAxis(kt=>{const Dt=Ct?xt.measuredBox[kt]:xt.layoutBox[kt],Ot=calcLength(_t[kt]);Dt.max=Dt.min+Ot,vt.relativeTarget&&!vt.currentAnimation&&(vt.isProjectionDirty=!0,vt.relativeTarget[kt].max=vt.relativeTarget[kt].min+Ot)});const Pt=createDelta();calcBoxDelta(Pt,_t,xt.layoutBox);const bt=createDelta();Ct?calcBoxDelta(bt,vt.applyTransform($t,!0),xt.measuredBox):calcBoxDelta(bt,_t,xt.layoutBox);const Rt=!isDeltaZero(Pt);let Nt=!1;if(!vt.resumeFrom){const kt=vt.getClosestProjectingParent();if(kt&&!kt.resumeFrom){const{snapshot:Dt,layout:Ot}=kt;if(Dt&&Ot){const Lt=createBox();calcRelativePosition(Lt,xt.layoutBox,Dt.layoutBox);const Ft=createBox();calcRelativePosition(Ft,_t,Ot.layoutBox),boxEqualsRounded(Lt,Ft)||(Nt=!0),kt.options.layoutRoot&&(vt.relativeTarget=Ft,vt.relativeTargetOrigin=Lt,vt.relativeParent=kt)}}}vt.notifyListeners("didUpdate",{layout:_t,snapshot:xt,delta:bt,layoutDelta:Pt,hasLayoutChanged:Rt,hasRelativeTargetChanged:Nt})}else if(vt.isLead()){const{onExitComplete:_t}=vt.options;_t&&_t()}vt.options.transition=void 0}function propagateDirtyNodes(vt){isDebug&&metrics.totalNodes++,vt.parent&&(vt.isProjecting()||(vt.isProjectionDirty=vt.parent.isProjectionDirty),vt.isSharedProjectionDirty||(vt.isSharedProjectionDirty=!!(vt.isProjectionDirty||vt.parent.isProjectionDirty||vt.parent.isSharedProjectionDirty)),vt.isTransformDirty||(vt.isTransformDirty=vt.parent.isTransformDirty))}function cleanDirtyNodes(vt){vt.isProjectionDirty=vt.isSharedProjectionDirty=vt.isTransformDirty=!1}function clearSnapshot(vt){vt.clearSnapshot()}function clearMeasurements(vt){vt.clearMeasurements()}function clearIsLayoutDirty(vt){vt.isLayoutDirty=!1}function resetTransformStyle(vt){const{visualElement:ht}=vt.options;ht&&ht.getProps().onBeforeLayoutMeasure&&ht.notify("BeforeLayoutMeasure"),vt.resetTransform()}function finishAnimation(vt){vt.finishAnimation(),vt.targetDelta=vt.relativeTarget=vt.target=void 0,vt.isProjectionDirty=!0}function resolveTargetDelta(vt){vt.resolveTargetDelta()}function calcProjection(vt){vt.calcProjection()}function resetSkewAndRotation(vt){vt.resetSkewAndRotation()}function removeLeadSnapshots(vt){vt.removeLeadSnapshot()}function mixAxisDelta(vt,ht,xt){vt.translate=mixNumber$1(ht.translate,0,xt),vt.scale=mixNumber$1(ht.scale,1,xt),vt.origin=ht.origin,vt.originPoint=ht.originPoint}function mixAxis(vt,ht,xt,_t){vt.min=mixNumber$1(ht.min,xt.min,_t),vt.max=mixNumber$1(ht.max,xt.max,_t)}function mixBox(vt,ht,xt,_t){mixAxis(vt.x,ht.x,xt.x,_t),mixAxis(vt.y,ht.y,xt.y,_t)}function hasOpacityCrossfade(vt){return vt.animationValues&&vt.animationValues.opacityExit!==void 0}const defaultLayoutTransition={duration:.45,ease:[.4,0,.1,1]},userAgentContains=vt=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(vt),roundPoint=userAgentContains("applewebkit/")&&!userAgentContains("chrome/")?Math.round:noop;function roundAxis(vt){vt.min=roundPoint(vt.min),vt.max=roundPoint(vt.max)}function roundBox(vt){roundAxis(vt.x),roundAxis(vt.y)}function shouldAnimatePositionOnly(vt,ht,xt){return vt==="position"||vt==="preserve-aspect"&&!isNear(aspectRatio(ht),aspectRatio(xt),.2)}function checkNodeWasScrollRoot(vt){var ht;return vt!==vt.root&&((ht=vt.scroll)===null||ht===void 0?void 0:ht.wasRoot)}const DocumentProjectionNode=createProjectionNode$1({attachResizeListener:(vt,ht)=>addDomEvent(vt,"resize",ht),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rootProjectionNode={current:void 0},HTMLProjectionNode=createProjectionNode$1({measureScroll:vt=>({x:vt.scrollLeft,y:vt.scrollTop}),defaultParent:()=>{if(!rootProjectionNode.current){const vt=new DocumentProjectionNode({});vt.mount(window),vt.setOptions({layoutScroll:!0}),rootProjectionNode.current=vt}return rootProjectionNode.current},resetTransform:(vt,ht)=>{vt.style.transform=ht!==void 0?ht:"none"},checkIsScrollRoot:vt=>window.getComputedStyle(vt).position==="fixed"}),drag={pan:{Feature:PanGesture},drag:{Feature:DragGesture,ProjectionNode:HTMLProjectionNode,MeasureLayout}};function addHoverEvent(vt,ht){const xt=ht?"pointerenter":"pointerleave",_t=ht?"onHoverStart":"onHoverEnd",$t=(wt,Ct)=>{if(wt.pointerType==="touch"||isDragActive())return;const Pt=vt.getProps();vt.animationState&&Pt.whileHover&&vt.animationState.setActive("whileHover",ht);const bt=Pt[_t];bt&&frame.postRender(()=>bt(wt,Ct))};return addPointerEvent(vt.current,xt,$t,{passive:!vt.getProps()[_t]})}class HoverGesture extends Feature{mount(){this.unmount=pipe(addHoverEvent(this.node,!0),addHoverEvent(this.node,!1))}unmount(){}}class FocusGesture extends Feature{constructor(){super(...arguments),this.isActive=!1}onFocus(){let ht=!1;try{ht=this.node.current.matches(":focus-visible")}catch{ht=!0}!ht||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pipe(addDomEvent(this.node.current,"focus",()=>this.onFocus()),addDomEvent(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const isNodeOrChild=(vt,ht)=>ht?vt===ht?!0:isNodeOrChild(vt,ht.parentElement):!1;function fireSyntheticPointerEvent(vt,ht){if(!ht)return;const xt=new PointerEvent("pointer"+vt);ht(xt,extractEventInfo(xt))}class PressGesture extends Feature{constructor(){super(...arguments),this.removeStartListeners=noop,this.removeEndListeners=noop,this.removeAccessibleListeners=noop,this.startPointerPress=(ht,xt)=>{if(this.isPressing)return;this.removeEndListeners();const _t=this.node.getProps(),wt=addPointerEvent(window,"pointerup",(Pt,bt)=>{if(!this.checkPressEnd())return;const{onTap:Rt,onTapCancel:Nt,globalTapTarget:kt}=this.node.getProps(),Dt=!kt&&!isNodeOrChild(this.node.current,Pt.target)?Nt:Rt;Dt&&frame.update(()=>Dt(Pt,bt))},{passive:!(_t.onTap||_t.onPointerUp)}),Ct=addPointerEvent(window,"pointercancel",(Pt,bt)=>this.cancelPress(Pt,bt),{passive:!(_t.onTapCancel||_t.onPointerCancel)});this.removeEndListeners=pipe(wt,Ct),this.startPress(ht,xt)},this.startAccessiblePress=()=>{const ht=wt=>{if(wt.key!=="Enter"||this.isPressing)return;const Ct=Pt=>{Pt.key!=="Enter"||!this.checkPressEnd()||fireSyntheticPointerEvent("up",(bt,Rt)=>{const{onTap:Nt}=this.node.getProps();Nt&&frame.postRender(()=>Nt(bt,Rt))})};this.removeEndListeners(),this.removeEndListeners=addDomEvent(this.node.current,"keyup",Ct),fireSyntheticPointerEvent("down",(Pt,bt)=>{this.startPress(Pt,bt)})},xt=addDomEvent(this.node.current,"keydown",ht),_t=()=>{this.isPressing&&fireSyntheticPointerEvent("cancel",(wt,Ct)=>this.cancelPress(wt,Ct))},$t=addDomEvent(this.node.current,"blur",_t);this.removeAccessibleListeners=pipe(xt,$t)}}startPress(ht,xt){this.isPressing=!0;const{onTapStart:_t,whileTap:$t}=this.node.getProps();$t&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),_t&&frame.postRender(()=>_t(ht,xt))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!isDragActive()}cancelPress(ht,xt){if(!this.checkPressEnd())return;const{onTapCancel:_t}=this.node.getProps();_t&&frame.postRender(()=>_t(ht,xt))}mount(){const ht=this.node.getProps(),xt=addPointerEvent(ht.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(ht.onTapStart||ht.onPointerStart)}),_t=addDomEvent(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=pipe(xt,_t)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const observerCallbacks=new WeakMap,observers=new WeakMap,fireObserverCallback=vt=>{const ht=observerCallbacks.get(vt.target);ht&&ht(vt)},fireAllObserverCallbacks=vt=>{vt.forEach(fireObserverCallback)};function initIntersectionObserver({root:vt,...ht}){const xt=vt||document;observers.has(xt)||observers.set(xt,{});const _t=observers.get(xt),$t=JSON.stringify(ht);return _t[$t]||(_t[$t]=new IntersectionObserver(fireAllObserverCallbacks,{root:vt,...ht})),_t[$t]}function observeIntersection(vt,ht,xt){const _t=initIntersectionObserver(ht);return observerCallbacks.set(vt,xt),_t.observe(vt),()=>{observerCallbacks.delete(vt),_t.unobserve(vt)}}const thresholdNames={some:0,all:1};class InViewFeature extends Feature{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:ht={}}=this.node.getProps(),{root:xt,margin:_t,amount:$t="some",once:wt}=ht,Ct={root:xt?xt.current:void 0,rootMargin:_t,threshold:typeof $t=="number"?$t:thresholdNames[$t]},Pt=bt=>{const{isIntersecting:Rt}=bt;if(this.isInView===Rt||(this.isInView=Rt,wt&&!Rt&&this.hasEnteredView))return;Rt&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",Rt);const{onViewportEnter:Nt,onViewportLeave:kt}=this.node.getProps(),Dt=Rt?Nt:kt;Dt&&Dt(bt)};return observeIntersection(this.node.current,Ct,Pt)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:ht,prevProps:xt}=this.node;["amount","margin","root"].some(hasViewportOptionChanged(ht,xt))&&this.startObserver()}unmount(){}}function hasViewportOptionChanged({viewport:vt={}},{viewport:ht={}}={}){return xt=>vt[xt]!==ht[xt]}const gestureAnimations={inView:{Feature:InViewFeature},tap:{Feature:PressGesture},focus:{Feature:FocusGesture},hover:{Feature:HoverGesture}},layout={layout:{ProjectionNode:HTMLProjectionNode,MeasureLayout}},MotionConfigContext=reactExports.createContext({transformPagePoint:vt=>vt,isStatic:!1,reducedMotion:"never"}),MotionContext=reactExports.createContext({}),isBrowser=typeof window<"u",useIsomorphicLayoutEffect=isBrowser?reactExports.useLayoutEffect:reactExports.useEffect,LazyContext=reactExports.createContext({strict:!1});function useVisualElement(vt,ht,xt,_t,$t){var wt,Ct;const{visualElement:Pt}=reactExports.useContext(MotionContext),bt=reactExports.useContext(LazyContext),Rt=reactExports.useContext(PresenceContext),Nt=reactExports.useContext(MotionConfigContext).reducedMotion,kt=reactExports.useRef();_t=_t||bt.renderer,!kt.current&&_t&&(kt.current=_t(vt,{visualState:ht,parent:Pt,props:xt,presenceContext:Rt,blockInitialAnimation:Rt?Rt.initial===!1:!1,reducedMotionConfig:Nt}));const Dt=kt.current,Ot=reactExports.useContext(SwitchLayoutGroupContext);Dt&&!Dt.projection&&$t&&(Dt.type==="html"||Dt.type==="svg")&&createProjectionNode(kt.current,xt,$t,Ot);const Lt=reactExports.useRef(!1);reactExports.useInsertionEffect(()=>{Dt&&Lt.current&&Dt.update(xt,Rt)});const Ft=xt[optimizedAppearDataAttribute],Ut=reactExports.useRef(!!Ft&&!(!((wt=window.MotionHandoffIsComplete)===null||wt===void 0)&&wt.call(window,Ft))&&((Ct=window.MotionHasOptimisedAnimation)===null||Ct===void 0?void 0:Ct.call(window,Ft)));return useIsomorphicLayoutEffect(()=>{Dt&&(Lt.current=!0,window.MotionIsMounted=!0,Dt.updateFeatures(),microtask.render(Dt.render),Ut.current&&Dt.animationState&&Dt.animationState.animateChanges())}),reactExports.useEffect(()=>{Dt&&(!Ut.current&&Dt.animationState&&Dt.animationState.animateChanges(),Ut.current&&(queueMicrotask(()=>{var jt;(jt=window.MotionHandoffMarkAsComplete)===null||jt===void 0||jt.call(window,Ft)}),Ut.current=!1))}),Dt}function createProjectionNode(vt,ht,xt,_t){const{layoutId:$t,layout:wt,drag:Ct,dragConstraints:Pt,layoutScroll:bt,layoutRoot:Rt}=ht;vt.projection=new xt(vt.latestValues,ht["data-framer-portal-id"]?void 0:getClosestProjectingNode(vt.parent)),vt.projection.setOptions({layoutId:$t,layout:wt,alwaysMeasureLayout:!!Ct||Pt&&isRefObject(Pt),visualElement:vt,animationType:typeof wt=="string"?wt:"both",initialPromotionConfig:_t,layoutScroll:bt,layoutRoot:Rt})}function getClosestProjectingNode(vt){if(vt)return vt.options.allowProjection!==!1?vt.projection:getClosestProjectingNode(vt.parent)}function useMotionRef(vt,ht,xt){return reactExports.useCallback(_t=>{_t&&vt.mount&&vt.mount(_t),ht&&(_t?ht.mount(_t):ht.unmount()),xt&&(typeof xt=="function"?xt(_t):isRefObject(xt)&&(xt.current=_t))},[ht])}function isControllingVariants(vt){return isAnimationControls(vt.animate)||variantProps.some(ht=>isVariantLabel(vt[ht]))}function isVariantNode(vt){return!!(isControllingVariants(vt)||vt.variants)}function getCurrentTreeVariants(vt,ht){if(isControllingVariants(vt)){const{initial:xt,animate:_t}=vt;return{initial:xt===!1||isVariantLabel(xt)?xt:void 0,animate:isVariantLabel(_t)?_t:void 0}}return vt.inherit!==!1?ht:{}}function useCreateMotionContext(vt){const{initial:ht,animate:xt}=getCurrentTreeVariants(vt,reactExports.useContext(MotionContext));return reactExports.useMemo(()=>({initial:ht,animate:xt}),[variantLabelsAsDependency(ht),variantLabelsAsDependency(xt)])}function variantLabelsAsDependency(vt){return Array.isArray(vt)?vt.join(" "):vt}const featureProps={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},featureDefinitions={};for(const vt in featureProps)featureDefinitions[vt]={isEnabled:ht=>featureProps[vt].some(xt=>!!ht[xt])};function loadFeatures(vt){for(const ht in vt)featureDefinitions[ht]={...featureDefinitions[ht],...vt[ht]}}const motionComponentSymbol=Symbol.for("motionComponentSymbol");function createRendererMotionComponent({preloadedFeatures:vt,createVisualElement:ht,useRender:xt,useVisualState:_t,Component:$t}){vt&&loadFeatures(vt);function wt(Pt,bt){let Rt;const Nt={...reactExports.useContext(MotionConfigContext),...Pt,layoutId:useLayoutId(Pt)},{isStatic:kt}=Nt,Dt=useCreateMotionContext(Pt),Ot=_t(Pt,kt);if(!kt&&isBrowser){useStrictMode();const Lt=getProjectionFunctionality(Nt);Rt=Lt.MeasureLayout,Dt.visualElement=useVisualElement($t,Ot,Nt,ht,Lt.ProjectionNode)}return jsxRuntimeExports.jsxs(MotionContext.Provider,{value:Dt,children:[Rt&&Dt.visualElement?jsxRuntimeExports.jsx(Rt,{visualElement:Dt.visualElement,...Nt}):null,xt($t,Pt,useMotionRef(Ot,Dt.visualElement,bt),Ot,kt,Dt.visualElement)]})}const Ct=reactExports.forwardRef(wt);return Ct[motionComponentSymbol]=$t,Ct}function useLayoutId({layoutId:vt}){const ht=reactExports.useContext(LayoutGroupContext).id;return ht&&vt!==void 0?ht+"-"+vt:vt}function useStrictMode(vt,ht){reactExports.useContext(LazyContext).strict}function getProjectionFunctionality(vt){const{drag:ht,layout:xt}=featureDefinitions;if(!ht&&!xt)return{};const _t={...ht,...xt};return{MeasureLayout:ht!=null&&ht.isEnabled(vt)||xt!=null&&xt.isEnabled(vt)?_t.MeasureLayout:void 0,ProjectionNode:_t.ProjectionNode}}const lowercaseSVGElements=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function isSVGComponent(vt){return typeof vt!="string"||vt.includes("-")?!1:!!(lowercaseSVGElements.indexOf(vt)>-1||/[A-Z]/u.test(vt))}function renderHTML(vt,{style:ht,vars:xt},_t,$t){Object.assign(vt.style,ht,$t&&$t.getProjectionStyles(_t));for(const wt in xt)vt.style.setProperty(wt,xt[wt])}const camelCaseAttributes=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function renderSVG(vt,ht,xt,_t){renderHTML(vt,ht,void 0,_t);for(const $t in ht.attrs)vt.setAttribute(camelCaseAttributes.has($t)?$t:camelToDash($t),ht.attrs[$t])}function isForcedMotionValue(vt,{layout:ht,layoutId:xt}){return transformProps.has(vt)||vt.startsWith("origin")||(ht||xt!==void 0)&&(!!scaleCorrectors[vt]||vt==="opacity")}function scrapeMotionValuesFromProps$1(vt,ht,xt){var _t;const{style:$t}=vt,wt={};for(const Ct in $t)(isMotionValue($t[Ct])||ht.style&&isMotionValue(ht.style[Ct])||isForcedMotionValue(Ct,vt)||((_t=xt==null?void 0:xt.getValue(Ct))===null||_t===void 0?void 0:_t.liveStyle)!==void 0)&&(wt[Ct]=$t[Ct]);return wt}function scrapeMotionValuesFromProps(vt,ht,xt){const _t=scrapeMotionValuesFromProps$1(vt,ht,xt);for(const $t in vt)if(isMotionValue(vt[$t])||isMotionValue(ht[$t])){const wt=transformPropOrder.indexOf($t)!==-1?"attr"+$t.charAt(0).toUpperCase()+$t.substring(1):$t;_t[wt]=vt[$t]}return _t}function useConstant(vt){const ht=reactExports.useRef(null);return ht.current===null&&(ht.current=vt()),ht.current}function makeState({scrapeMotionValuesFromProps:vt,createRenderState:ht,onMount:xt},_t,$t,wt){const Ct={latestValues:makeLatestValues(_t,$t,wt,vt),renderState:ht()};return xt&&(Ct.mount=Pt=>xt(_t,Pt,Ct)),Ct}const makeUseVisualState=vt=>(ht,xt)=>{const _t=reactExports.useContext(MotionContext),$t=reactExports.useContext(PresenceContext),wt=()=>makeState(vt,ht,_t,$t);return xt?wt():useConstant(wt)};function makeLatestValues(vt,ht,xt,_t){const $t={},wt=_t(vt,{});for(const Dt in wt)$t[Dt]=resolveMotionValue(wt[Dt]);let{initial:Ct,animate:Pt}=vt;const bt=isControllingVariants(vt),Rt=isVariantNode(vt);ht&&Rt&&!bt&&vt.inherit!==!1&&(Ct===void 0&&(Ct=ht.initial),Pt===void 0&&(Pt=ht.animate));let Nt=xt?xt.initial===!1:!1;Nt=Nt||Ct===!1;const kt=Nt?Pt:Ct;if(kt&&typeof kt!="boolean"&&!isAnimationControls(kt)){const Dt=Array.isArray(kt)?kt:[kt];for(let Ot=0;Ot<Dt.length;Ot++){const Lt=resolveVariantFromProps(vt,Dt[Ot]);if(Lt){const{transitionEnd:Ft,transition:Ut,...jt}=Lt;for(const Vt in jt){let Bt=jt[Vt];if(Array.isArray(Bt)){const Wt=Nt?Bt.length-1:0;Bt=Bt[Wt]}Bt!==null&&($t[Vt]=Bt)}for(const Vt in Ft)$t[Vt]=Ft[Vt]}}}return $t}const createHtmlRenderState=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),createSvgRenderState=()=>({...createHtmlRenderState(),attrs:{}}),getValueAsType=(vt,ht)=>ht&&typeof vt=="number"?ht.transform(vt):vt,translateAlias={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},numTransforms=transformPropOrder.length;function buildTransform(vt,ht,xt){let _t="",$t=!0;for(let wt=0;wt<numTransforms;wt++){const Ct=transformPropOrder[wt],Pt=vt[Ct];if(Pt===void 0)continue;let bt=!0;if(typeof Pt=="number"?bt=Pt===(Ct.startsWith("scale")?1:0):bt=parseFloat(Pt)===0,!bt||xt){const Rt=getValueAsType(Pt,numberValueTypes[Ct]);if(!bt){$t=!1;const Nt=translateAlias[Ct]||Ct;_t+=`${Nt}(${Rt}) `}xt&&(ht[Ct]=Rt)}}return _t=_t.trim(),xt?_t=xt(ht,$t?"":_t):$t&&(_t="none"),_t}function buildHTMLStyles(vt,ht,xt){const{style:_t,vars:$t,transformOrigin:wt}=vt;let Ct=!1,Pt=!1;for(const bt in ht){const Rt=ht[bt];if(transformProps.has(bt)){Ct=!0;continue}else if(isCSSVariableName(bt)){$t[bt]=Rt;continue}else{const Nt=getValueAsType(Rt,numberValueTypes[bt]);bt.startsWith("origin")?(Pt=!0,wt[bt]=Nt):_t[bt]=Nt}}if(ht.transform||(Ct||xt?_t.transform=buildTransform(ht,vt.transform,xt):_t.transform&&(_t.transform="none")),Pt){const{originX:bt="50%",originY:Rt="50%",originZ:Nt=0}=wt;_t.transformOrigin=`${bt} ${Rt} ${Nt}`}}function calcOrigin(vt,ht,xt){return typeof vt=="string"?vt:px.transform(ht+xt*vt)}function calcSVGTransformOrigin(vt,ht,xt){const _t=calcOrigin(ht,vt.x,vt.width),$t=calcOrigin(xt,vt.y,vt.height);return`${_t} ${$t}`}const dashKeys={offset:"stroke-dashoffset",array:"stroke-dasharray"},camelKeys={offset:"strokeDashoffset",array:"strokeDasharray"};function buildSVGPath(vt,ht,xt=1,_t=0,$t=!0){vt.pathLength=1;const wt=$t?dashKeys:camelKeys;vt[wt.offset]=px.transform(-_t);const Ct=px.transform(ht),Pt=px.transform(xt);vt[wt.array]=`${Ct} ${Pt}`}function buildSVGAttrs(vt,{attrX:ht,attrY:xt,attrScale:_t,originX:$t,originY:wt,pathLength:Ct,pathSpacing:Pt=1,pathOffset:bt=0,...Rt},Nt,kt){if(buildHTMLStyles(vt,Rt,kt),Nt){vt.style.viewBox&&(vt.attrs.viewBox=vt.style.viewBox);return}vt.attrs=vt.style,vt.style={};const{attrs:Dt,style:Ot,dimensions:Lt}=vt;Dt.transform&&(Lt&&(Ot.transform=Dt.transform),delete Dt.transform),Lt&&($t!==void 0||wt!==void 0||Ot.transform)&&(Ot.transformOrigin=calcSVGTransformOrigin(Lt,$t!==void 0?$t:.5,wt!==void 0?wt:.5)),ht!==void 0&&(Dt.x=ht),xt!==void 0&&(Dt.y=xt),_t!==void 0&&(Dt.scale=_t),Ct!==void 0&&buildSVGPath(Dt,Ct,Pt,bt,!1)}const isSVGTag=vt=>typeof vt=="string"&&vt.toLowerCase()==="svg",svgMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps,createRenderState:createSvgRenderState,onMount:(vt,ht,{renderState:xt,latestValues:_t})=>{frame.read(()=>{try{xt.dimensions=typeof ht.getBBox=="function"?ht.getBBox():ht.getBoundingClientRect()}catch{xt.dimensions={x:0,y:0,width:0,height:0}}}),frame.render(()=>{buildSVGAttrs(xt,_t,isSVGTag(ht.tagName),vt.transformTemplate),renderSVG(ht,xt)})}})},htmlMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps:scrapeMotionValuesFromProps$1,createRenderState:createHtmlRenderState})};function copyRawValuesOnly(vt,ht,xt){for(const _t in ht)!isMotionValue(ht[_t])&&!isForcedMotionValue(_t,xt)&&(vt[_t]=ht[_t])}function useInitialMotionValues({transformTemplate:vt},ht){return reactExports.useMemo(()=>{const xt=createHtmlRenderState();return buildHTMLStyles(xt,ht,vt),Object.assign({},xt.vars,xt.style)},[ht])}function useStyle(vt,ht){const xt=vt.style||{},_t={};return copyRawValuesOnly(_t,xt,vt),Object.assign(_t,useInitialMotionValues(vt,ht)),_t}function useHTMLProps(vt,ht){const xt={},_t=useStyle(vt,ht);return vt.drag&&vt.dragListener!==!1&&(xt.draggable=!1,_t.userSelect=_t.WebkitUserSelect=_t.WebkitTouchCallout="none",_t.touchAction=vt.drag===!0?"none":`pan-${vt.drag==="x"?"y":"x"}`),vt.tabIndex===void 0&&(vt.onTap||vt.onTapStart||vt.whileTap)&&(xt.tabIndex=0),xt.style=_t,xt}const validMotionProps=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function isValidMotionProp(vt){return vt.startsWith("while")||vt.startsWith("drag")&&vt!=="draggable"||vt.startsWith("layout")||vt.startsWith("onTap")||vt.startsWith("onPan")||vt.startsWith("onLayout")||validMotionProps.has(vt)}let shouldForward=vt=>!isValidMotionProp(vt);function loadExternalIsValidProp(vt){vt&&(shouldForward=ht=>ht.startsWith("on")?!isValidMotionProp(ht):vt(ht))}try{loadExternalIsValidProp(require("@emotion/is-prop-valid").default)}catch{}function filterProps(vt,ht,xt){const _t={};for(const $t in vt)$t==="values"&&typeof vt.values=="object"||(shouldForward($t)||xt===!0&&isValidMotionProp($t)||!ht&&!isValidMotionProp($t)||vt.draggable&&$t.startsWith("onDrag"))&&(_t[$t]=vt[$t]);return _t}function useSVGProps(vt,ht,xt,_t){const $t=reactExports.useMemo(()=>{const wt=createSvgRenderState();return buildSVGAttrs(wt,ht,isSVGTag(_t),vt.transformTemplate),{...wt.attrs,style:{...wt.style}}},[ht]);if(vt.style){const wt={};copyRawValuesOnly(wt,vt.style,vt),$t.style={...wt,...$t.style}}return $t}function createUseRender(vt=!1){return(xt,_t,$t,{latestValues:wt},Ct)=>{const bt=(isSVGComponent(xt)?useSVGProps:useHTMLProps)(_t,wt,Ct,xt),Rt=filterProps(_t,typeof xt=="string",vt),Nt=xt!==reactExports.Fragment?{...Rt,...bt,ref:$t}:{},{children:kt}=_t,Dt=reactExports.useMemo(()=>isMotionValue(kt)?kt.get():kt,[kt]);return reactExports.createElement(xt,{...Nt,children:Dt})}}function createMotionComponentFactory(vt,ht){return function(_t,{forwardMotionProps:$t}={forwardMotionProps:!1}){const Ct={...isSVGComponent(_t)?svgMotionConfig:htmlMotionConfig,preloadedFeatures:vt,useRender:createUseRender($t),createVisualElement:ht,Component:_t};return createRendererMotionComponent(Ct)}}const prefersReducedMotion={current:null},hasReducedMotionListener={current:!1};function initPrefersReducedMotion(){if(hasReducedMotionListener.current=!0,!!isBrowser)if(window.matchMedia){const vt=window.matchMedia("(prefers-reduced-motion)"),ht=()=>prefersReducedMotion.current=vt.matches;vt.addListener(ht),ht()}else prefersReducedMotion.current=!1}function updateMotionValuesFromProps(vt,ht,xt){for(const _t in ht){const $t=ht[_t],wt=xt[_t];if(isMotionValue($t))vt.addValue(_t,$t);else if(isMotionValue(wt))vt.addValue(_t,motionValue($t,{owner:vt}));else if(wt!==$t)if(vt.hasValue(_t)){const Ct=vt.getValue(_t);Ct.liveStyle===!0?Ct.jump($t):Ct.hasAnimated||Ct.set($t)}else{const Ct=vt.getStaticValue(_t);vt.addValue(_t,motionValue(Ct!==void 0?Ct:$t,{owner:vt}))}}for(const _t in xt)ht[_t]===void 0&&vt.removeValue(_t);return ht}const visualElementStore=new WeakMap,valueTypes=[...dimensionValueTypes,color,complex],findValueType=vt=>valueTypes.find(testValueType(vt)),propEventHandlers=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class VisualElement{scrapeMotionValuesFromProps(ht,xt,_t){return{}}constructor({parent:ht,props:xt,presenceContext:_t,reducedMotionConfig:$t,blockInitialAnimation:wt,visualState:Ct},Pt={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=KeyframeResolver,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const Dt=time.now();this.renderScheduledAt<Dt&&(this.renderScheduledAt=Dt,frame.render(this.render,!1,!0))};const{latestValues:bt,renderState:Rt}=Ct;this.latestValues=bt,this.baseTarget={...bt},this.initialValues=xt.initial?{...bt}:{},this.renderState=Rt,this.parent=ht,this.props=xt,this.presenceContext=_t,this.depth=ht?ht.depth+1:0,this.reducedMotionConfig=$t,this.options=Pt,this.blockInitialAnimation=!!wt,this.isControllingVariants=isControllingVariants(xt),this.isVariantNode=isVariantNode(xt),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(ht&&ht.current);const{willChange:Nt,...kt}=this.scrapeMotionValuesFromProps(xt,{},this);for(const Dt in kt){const Ot=kt[Dt];bt[Dt]!==void 0&&isMotionValue(Ot)&&Ot.set(bt[Dt],!1)}}mount(ht){this.current=ht,visualElementStore.set(ht,this),this.projection&&!this.projection.instance&&this.projection.mount(ht),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((xt,_t)=>this.bindToMotionValue(_t,xt)),hasReducedMotionListener.current||initPrefersReducedMotion(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:prefersReducedMotion.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){visualElementStore.delete(this.current),this.projection&&this.projection.unmount(),cancelFrame(this.notifyUpdate),cancelFrame(this.render),this.valueSubscriptions.forEach(ht=>ht()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const ht in this.events)this.events[ht].clear();for(const ht in this.features){const xt=this.features[ht];xt&&(xt.unmount(),xt.isMounted=!1)}this.current=null}bindToMotionValue(ht,xt){this.valueSubscriptions.has(ht)&&this.valueSubscriptions.get(ht)();const _t=transformProps.has(ht),$t=xt.on("change",Pt=>{this.latestValues[ht]=Pt,this.props.onUpdate&&frame.preRender(this.notifyUpdate),_t&&this.projection&&(this.projection.isTransformDirty=!0)}),wt=xt.on("renderRequest",this.scheduleRender);let Ct;window.MotionCheckAppearSync&&(Ct=window.MotionCheckAppearSync(this,ht,xt)),this.valueSubscriptions.set(ht,()=>{$t(),wt(),Ct&&Ct(),xt.owner&&xt.stop()})}sortNodePosition(ht){return!this.current||!this.sortInstanceNodePosition||this.type!==ht.type?0:this.sortInstanceNodePosition(this.current,ht.current)}updateFeatures(){let ht="animation";for(ht in featureDefinitions){const xt=featureDefinitions[ht];if(!xt)continue;const{isEnabled:_t,Feature:$t}=xt;if(!this.features[ht]&&$t&&_t(this.props)&&(this.features[ht]=new $t(this)),this.features[ht]){const wt=this.features[ht];wt.isMounted?wt.update():(wt.mount(),wt.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):createBox()}getStaticValue(ht){return this.latestValues[ht]}setStaticValue(ht,xt){this.latestValues[ht]=xt}update(ht,xt){(ht.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=ht,this.prevPresenceContext=this.presenceContext,this.presenceContext=xt;for(let _t=0;_t<propEventHandlers.length;_t++){const $t=propEventHandlers[_t];this.propEventSubscriptions[$t]&&(this.propEventSubscriptions[$t](),delete this.propEventSubscriptions[$t]);const wt="on"+$t,Ct=ht[wt];Ct&&(this.propEventSubscriptions[$t]=this.on($t,Ct))}this.prevMotionValues=updateMotionValuesFromProps(this,this.scrapeMotionValuesFromProps(ht,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(ht){return this.props.variants?this.props.variants[ht]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(ht){const xt=this.getClosestVariantNode();if(xt)return xt.variantChildren&&xt.variantChildren.add(ht),()=>xt.variantChildren.delete(ht)}addValue(ht,xt){const _t=this.values.get(ht);xt!==_t&&(_t&&this.removeValue(ht),this.bindToMotionValue(ht,xt),this.values.set(ht,xt),this.latestValues[ht]=xt.get())}removeValue(ht){this.values.delete(ht);const xt=this.valueSubscriptions.get(ht);xt&&(xt(),this.valueSubscriptions.delete(ht)),delete this.latestValues[ht],this.removeValueFromRenderState(ht,this.renderState)}hasValue(ht){return this.values.has(ht)}getValue(ht,xt){if(this.props.values&&this.props.values[ht])return this.props.values[ht];let _t=this.values.get(ht);return _t===void 0&&xt!==void 0&&(_t=motionValue(xt===null?void 0:xt,{owner:this}),this.addValue(ht,_t)),_t}readValue(ht,xt){var _t;let $t=this.latestValues[ht]!==void 0||!this.current?this.latestValues[ht]:(_t=this.getBaseTargetFromProps(this.props,ht))!==null&&_t!==void 0?_t:this.readValueFromInstance(this.current,ht,this.options);return $t!=null&&(typeof $t=="string"&&(isNumericalString($t)||isZeroValueString($t))?$t=parseFloat($t):!findValueType($t)&&complex.test(xt)&&($t=getAnimatableNone(ht,xt)),this.setBaseTarget(ht,isMotionValue($t)?$t.get():$t)),isMotionValue($t)?$t.get():$t}setBaseTarget(ht,xt){this.baseTarget[ht]=xt}getBaseTarget(ht){var xt;const{initial:_t}=this.props;let $t;if(typeof _t=="string"||typeof _t=="object"){const Ct=resolveVariantFromProps(this.props,_t,(xt=this.presenceContext)===null||xt===void 0?void 0:xt.custom);Ct&&($t=Ct[ht])}if(_t&&$t!==void 0)return $t;const wt=this.getBaseTargetFromProps(this.props,ht);return wt!==void 0&&!isMotionValue(wt)?wt:this.initialValues[ht]!==void 0&&$t===void 0?void 0:this.baseTarget[ht]}on(ht,xt){return this.events[ht]||(this.events[ht]=new SubscriptionManager),this.events[ht].add(xt)}notify(ht,...xt){this.events[ht]&&this.events[ht].notify(...xt)}}class DOMVisualElement extends VisualElement{constructor(){super(...arguments),this.KeyframeResolver=DOMKeyframesResolver}sortInstanceNodePosition(ht,xt){return ht.compareDocumentPosition(xt)&2?1:-1}getBaseTargetFromProps(ht,xt){return ht.style?ht.style[xt]:void 0}removeValueFromRenderState(ht,{vars:xt,style:_t}){delete xt[ht],delete _t[ht]}}function getComputedStyle$1(vt){return window.getComputedStyle(vt)}class HTMLVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="html",this.renderInstance=renderHTML}readValueFromInstance(ht,xt){if(transformProps.has(xt)){const _t=getDefaultValueType(xt);return _t&&_t.default||0}else{const _t=getComputedStyle$1(ht),$t=(isCSSVariableName(xt)?_t.getPropertyValue(xt):_t[xt])||0;return typeof $t=="string"?$t.trim():$t}}measureInstanceViewportBox(ht,{transformPagePoint:xt}){return measureViewportBox(ht,xt)}build(ht,xt,_t){buildHTMLStyles(ht,xt,_t.transformTemplate)}scrapeMotionValuesFromProps(ht,xt,_t){return scrapeMotionValuesFromProps$1(ht,xt,_t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:ht}=this.props;isMotionValue(ht)&&(this.childSubscription=ht.on("change",xt=>{this.current&&(this.current.textContent=`${xt}`)}))}}class SVGVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=createBox}getBaseTargetFromProps(ht,xt){return ht[xt]}readValueFromInstance(ht,xt){if(transformProps.has(xt)){const _t=getDefaultValueType(xt);return _t&&_t.default||0}return xt=camelCaseAttributes.has(xt)?xt:camelToDash(xt),ht.getAttribute(xt)}scrapeMotionValuesFromProps(ht,xt,_t){return scrapeMotionValuesFromProps(ht,xt,_t)}build(ht,xt,_t){buildSVGAttrs(ht,xt,this.isSVGTag,_t.transformTemplate)}renderInstance(ht,xt,_t,$t){renderSVG(ht,xt,_t,$t)}mount(ht){this.isSVGTag=isSVGTag(ht.tagName),super.mount(ht)}}const createDomVisualElement=(vt,ht)=>isSVGComponent(vt)?new SVGVisualElement(ht):new HTMLVisualElement(ht,{allowProjection:vt!==reactExports.Fragment}),createMotionComponent=createMotionComponentFactory({...animations,...gestureAnimations,...drag,...layout},createDomVisualElement),motion=createDOMMotionComponentProxy(createMotionComponent);function UserProfile({userId:vt,onClose:ht}){const[xt,_t]=reactExports.useState(null),[$t,wt]=reactExports.useState(!1),[Ct,Pt]=reactExports.useState(""),[bt,Rt]=reactExports.useState("");UserProfile.propTypes={userId:PropTypes.string.isRequired,onClose:PropTypes.func.isRequired},reactExports.useEffect(()=>((async()=>{try{const Ft=ref(getDatabase(app)),Ut=child(Ft,`users/${vt}`),jt=await get(Ut);jt.exists()?(_t(jt.val()),Pt(jt.val().username)):console.error("User not found in database")}catch(Ft){console.error("Error fetching user profile:",Ft)}})(),()=>{_t(null)}),[vt]);const Nt=()=>{wt(!0)},kt=async()=>{try{const Lt=ref(getDatabase(app));if(Ct.toLowerCase()!==xt.username.toLowerCase()&&await Dt(Ct)){Rt("*Username already exists");return}await update(child(Lt,`users/${vt}`),{username:Ct}),_t(Ft=>({...Ft,username:Ct})),localStorage.setItem("userName",Ct),wt(!1)}catch(Lt){console.error("Error saving profile:",Lt)}},Dt=async Lt=>{const Ft=ref(getDatabase(app)),Ut=child(Ft,"users"),jt=await get(Ut);if(jt.exists()){const Vt=jt.val();return Object.values(Vt).map(Wt=>Wt.username.toLowerCase()).includes(Lt.toLowerCase())}else return!1},Ot=()=>{Pt(xt.username),wt(!1)};return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:jsxRuntimeExports.jsx(motion.div,{className:"",initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.1,ease:[0,.71,.2,1.01]},children:jsxRuntimeExports.jsxs("div",{className:"bg-white p-4 rounded-lg relative w-fit h-3/6",children:[jsxRuntimeExports.jsx("button",{className:"absolute top-4 right-4 m-2",onClick:ht,children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),xt&&jsxRuntimeExports.jsxs("div",{className:"font-itim text-3xl bg-amber-100 p-2 rounded-md",children:[jsxRuntimeExports.jsx("u",{children:jsxRuntimeExports.jsx("h2",{className:"text-4xl font-bold mb-2 text-center",children:"User Profile"})}),jsxRuntimeExports.jsxs("div",{children:["Username:"," ",$t?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("img",{src:"Profile.png",alt:"",className:"select-none absolute bottom-4 -right-5 w-60  "}),jsxRuntimeExports.jsx("input",{type:"text",value:Ct,onChange:Lt=>{Pt(Lt.target.value),Rt("")},className:"border rounded-md p-1 mb-2 shadow-md border-solid border-gray-300 bg-red-300"}),bt&&jsxRuntimeExports.jsx("div",{className:"text-red-500 text-lg text-center",children:bt})]}):xt.username]}),jsxRuntimeExports.jsxs("p",{children:["Email: ",xt.email]}),jsxRuntimeExports.jsxs("div",{className:"select-none",children:[jsxRuntimeExports.jsx("h3",{className:"text-3xl font-bold mt-4",children:"Your Best Scores:"}),jsxRuntimeExports.jsxs("p",{className:"inline-flex justify-center items-center",children:[jsxRuntimeExports.jsx("img",{src:"/Bash.png",alt:"Bullet Point Image",className:"w-7 h-7 mr-2"}),"Banana Bash: ",xt.easy]}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsxs("p",{className:"inline-flex justify-center items-center",children:[jsxRuntimeExports.jsx("img",{src:"/Blitz.png",alt:"Bullet Point Image",className:"w-7 h-8 mr-2"}),"Banana Blitz: ",xt.medium]}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsxs("p",{className:"inline-flex justify-center items-center",children:[jsxRuntimeExports.jsx("img",{src:"/Frenzy.png",alt:"Bullet Point Image",className:"w-7 h-7 mr-2"}),"Banana Frenzy: ",xt.hard]}),jsxRuntimeExports.jsx("br",{})]}),!$t&&jsxRuntimeExports.jsx("div",{className:"w-full flex flex-row justify-center",children:jsxRuntimeExports.jsx(motion.div,{className:"box",whileHover:{scale:1.1},whileTap:{scale:.9},transition:{type:"spring",stiffness:400,damping:17},children:jsxRuntimeExports.jsx("button",{onClick:Nt,className:"bg-emerald-600 text-white px-4 py-2 rounded-md my-4 w-fit",children:"Edit Profile"})})}),$t&&jsxRuntimeExports.jsxs("div",{className:"inline-flex",children:[jsxRuntimeExports.jsx(motion.div,{className:"box",whileHover:{scale:1.2},whileTap:{scale:.9},transition:{type:"spring",stiffness:400,damping:17},children:jsxRuntimeExports.jsx("button",{onClick:kt,className:"bg-emerald-600 text-white px-4 py-2 rounded-md mt-4 mr-4",children:"Save"})}),jsxRuntimeExports.jsx(motion.div,{className:"box",whileHover:{scale:1.1},whileTap:{scale:.9},transition:{type:"spring",stiffness:400,damping:17},children:jsxRuntimeExports.jsx("button",{onClick:Ot,className:"bg-red-600 text-white px-4 py-2 rounded-md mt-4",children:"Cancel"})})]})]})]})})})}function Profile_btn(){const[vt,ht]=reactExports.useState(!1),xt=localStorage.getItem("userId"),_t=useNavigate();var $t=localStorage.getItem("userName");$t||($t="Guest");const wt=()=>{ht(!vt)},Ct=()=>{localStorage.removeItem("userId"),localStorage.removeItem("userName"),_t("/")};return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs(rn,{as:"div",className:"w-fit mr-28 flex-col relative",children:[jsxRuntimeExports.jsx(motion$1.div,{className:"box",whileHover:{scale:1.1},whileTap:{scale:1},transition:{type:"spring",stiffness:400,damping:17},children:jsxRuntimeExports.jsxs(rn.Button,{className:"cursor-pointer w-fit bg-white inline-flex justify-center items-center rounded-full p-2 shadow-lg",children:[jsxRuntimeExports.jsx("img",{src:"",alt:"",srcSet:"/profile_icon.png",className:"pr-1 select-none w-12"}),jsxRuntimeExports.jsx("p",{className:"text-3xl font-itim select-none font-bold p-1",children:$t})]})}),jsxRuntimeExports.jsx(ze$1,{as:reactExports.Fragment,enter:"transition ease-out duration-200",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:jsxRuntimeExports.jsx(rn.Items,{as:"div",className:"absolute w-full mt-2 origin-top-right divide-y divide-gray-100 rounded-md p-1 bg-white shadow-lg ring-1 ring-black/5 focus:outline-none",children:xt?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(rn.Item,{children:({active:Pt})=>jsxRuntimeExports.jsx("button",{onClick:wt,className:`${Pt?"bg-emerald-600 text-white":"text-gray-900"} group flex w-full items-center rounded-md px-2 py-2 text-xl font-bold font-itim`,children:"Profile"})}),jsxRuntimeExports.jsx(rn.Item,{children:({active:Pt})=>jsxRuntimeExports.jsx("button",{onClick:Ct,className:`${Pt?"bg-red-500 text-white":"text-red-600"} group flex w-full items-center rounded-md px-2 py-2 text-xl font-bold font-itim`,children:"Logout"})})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(rn.Item,{children:({active:Pt})=>jsxRuntimeExports.jsx(Link,{to:"/login",className:`${Pt?"bg-emerald-600 text-white":"text-gray-900"} group flex w-full items-center rounded-md px-2 py-2 text-xl font-bold font-itim`,children:"Log In"})}),jsxRuntimeExports.jsx(rn.Item,{children:({active:Pt})=>jsxRuntimeExports.jsx(Link,{to:"/SignUp",className:`${Pt?"bg-emerald-600 text-white":"text-gray-900"} group flex w-full items-center rounded-md px-2 py-2 text-xl font-bold font-itim`,children:"Register"})})]})})})]}),vt&&jsxRuntimeExports.jsx(UserProfile,{onClose:wt,userId:xt})]})}const Home=()=>{const vt=localStorage.getItem("userId"),[ht,xt]=reactExports.useState(!1);return reactExports.useEffect(()=>{xt(!vt)},[vt]),jsxRuntimeExports.jsxs("div",{className:"flex justify-center items-center h-screen w-screen text-black",children:[jsxRuntimeExports.jsx("div",{className:"relative bg-[#A8A8A87A] bg-opacity-45 rounded-3xl w-7/12 h-4/6 flex justify-center items-center",children:jsxRuntimeExports.jsxs("ul",{className:"list-disc text-6xl font-itim font-bold text-black ml-10 inline-block select-none z-20",children:[jsxRuntimeExports.jsx("li",{className:"transition-all hover:scale-125 m-7 w-fit ",children:jsxRuntimeExports.jsx(motion$1.div,{className:"box text-4xl underline",whileHover:{scale:1.1},transition:{type:"spring",stiffness:400,damping:10},children:jsxRuntimeExports.jsx(Link,{to:"/difficulty",children:"Play Now"})})}),jsxRuntimeExports.jsx("li",{className:"transition-all hover:scale-125 m-7 w-fit",children:jsxRuntimeExports.jsx(motion$1.div,{className:"box text-4xl underline",whileHover:{scale:1.1},transition:{type:"spring",stiffness:400,damping:10},children:jsxRuntimeExports.jsx(Link,{to:"/ScoreBoard",children:"Score Board"})})}),jsxRuntimeExports.jsx("li",{className:"transition-all hover:scale-125 m-7 w-fit",children:jsxRuntimeExports.jsx(motion$1.div,{className:"box text-4xl underline",whileHover:{scale:1.1},transition:{type:"spring",stiffness:400,damping:10},children:jsxRuntimeExports.jsx(Link,{to:"/Instructions",children:"Instructions"})})})]})}),jsxRuntimeExports.jsx("div",{className:"absolute top-40 right-96 mt-6 mr-5",children:jsxRuntimeExports.jsx(Profile_btn,{})}),ht&&jsxRuntimeExports.jsx("div",{className:"absolute top-44 left-28 mt-6 ml-80",children:jsxRuntimeExports.jsx(Link,{to:"/",children:jsxRuntimeExports.jsx("img",{src:"back.png",alt:""})})}),jsxRuntimeExports.jsx("img",{src:"pic3.png",alt:"",className:"select-none absolute -bottom-32 -left-12 z-0"}),jsxRuntimeExports.jsx("div",{})]})},Difficulty=()=>jsxRuntimeExports.jsxs("div",{className:"flex justify-center items-center h-screen w-screen text-black",children:[jsxRuntimeExports.jsx("div",{className:"relative bg-[#A8A8A87A] bg-opacity-45 rounded-3xl w-7/12 h-4/6 flex justify-center items-center",children:jsxRuntimeExports.jsxs("ul",{className:"list-disc text-6xl font-itim font-bold text-black ml-10 inline-block select-none z-10",children:[jsxRuntimeExports.jsx("li",{className:"transition-all hover:scale-125 m-7 w-fit",children:jsxRuntimeExports.jsx(motion$1.div,{className:"box text-4xl underline",whileHover:{scale:1.1},transition:{type:"spring",stiffness:400,damping:10},children:jsxRuntimeExports.jsx(Link,{to:"/GameModule?difficulty=Bash",children:"Banana Bash"})})}),jsxRuntimeExports.jsx("li",{className:"transition-all hover:scale-125 m-7 w-fit",children:jsxRuntimeExports.jsx(motion$1.div,{className:"box text-4xl underline",whileHover:{scale:1.1},transition:{type:"spring",stiffness:400,damping:10},children:jsxRuntimeExports.jsx(Link,{to:"/GameModule?difficulty=Blitz",children:"Banana Blitz"})})}),jsxRuntimeExports.jsx("li",{className:"transition-all hover:scale-125 m-7 w-fit",children:jsxRuntimeExports.jsx(motion$1.div,{className:"box text-4xl underline",whileHover:{scale:1.1},transition:{type:"spring",stiffness:400,damping:10},children:jsxRuntimeExports.jsx(Link,{to:"/GameModule?difficulty=Frenzy",children:"Banana Frenzy"})})})]})}),jsxRuntimeExports.jsx("div",{className:"absolute top-40 left-28 mt-6 ml-80",children:jsxRuntimeExports.jsx(Link,{to:"/Home",children:jsxRuntimeExports.jsx("img",{src:"back.png",alt:"Back"})})}),jsxRuntimeExports.jsx("img",{src:"pic3.png",alt:"Decorative",className:"select-none absolute -bottom-32 -left-12 z-0"})]}),SignUp=()=>jsxRuntimeExports.jsxs("div",{className:"flex justify-center items-center h-screen w-screen text-black relative",children:[jsxRuntimeExports.jsx("img",{src:"bottom-right.png",alt:"",className:"select-none absolute bottom-0 right-0"}),jsxRuntimeExports.jsxs("div",{className:"relative bg-[#A8A8A87A] bg-opacity-45 rounded-3xl w-7/12 h-4/6 flex flex-col items-center",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-extrabold text-black absolute top-8 text-center underline",children:"User Profile"}),jsxRuntimeExports.jsx("img",{src:"top-right.png",alt:"",className:"select-none absolute -top-20 -right-16"}),jsxRuntimeExports.jsx("img",{src:"top-left.png",alt:"",className:"select-none absolute -top-28 -left-60"}),jsxRuntimeExports.jsx("div",{className:"absolute top-14 left-28 mt-4 ml-4",children:jsxRuntimeExports.jsx(Link,{to:"/Home",children:jsxRuntimeExports.jsx("img",{src:"back.png",alt:"Back"})})}),jsxRuntimeExports.jsx("div",{className:"w-full mt-20 text-center",children:jsxRuntimeExports.jsxs("form",{className:"flex flex-col items-center",children:[jsxRuntimeExports.jsx("div",{className:"flex w-3/6",children:jsxRuntimeExports.jsx("input",{type:"text",id:"username",placeholder:"Username",className:"border rounded-3xl p-2 mb-2 shadow-md border-solid border-[#777777] w-full opacity-50 h-12",required:!0})}),jsxRuntimeExports.jsx("div",{className:"flex w-3/6",children:jsxRuntimeExports.jsx("input",{type:"email",id:"email",placeholder:"Email",className:"border rounded-3xl p-2 mb-2 shadow-md border-solid border-[#777777] w-full opacity-50 h-12",required:!0})}),jsxRuntimeExports.jsx("div",{className:"flex w-3/6",children:jsxRuntimeExports.jsx("input",{type:"text",id:"dateofbirth",placeholder:"Date Of Birth",className:"border rounded-3xl p-2 mb-2 shadow-md border-solid border-[#777777] w-full opacity-50 h-12",required:!0})}),jsxRuntimeExports.jsx("div",{className:"flex w-3/6",children:jsxRuntimeExports.jsx("input",{type:"tel",id:"phonenumber",placeholder:"Phone Number",className:"border rounded-3xl p-2 mb-2 shadow-md border-solid border-[#777777] w-full opacity-50 h-12",required:!0})}),jsxRuntimeExports.jsx("div",{className:"flex w-3/6",children:jsxRuntimeExports.jsx("input",{type:"password",id:"password",placeholder:"Password",className:"border rounded-3xl p-2 mb-2 shadow-md border-solid border-[#777777] w-full opacity-50 h-12",required:!0})}),jsxRuntimeExports.jsx("div",{className:"flex w-3/6",children:jsxRuntimeExports.jsx("input",{type:"password",id:"confirm-password",placeholder:"Confirm Password",className:"border rounded-3xl p-2 mb-2 shadow-md border-solid border-[#777777] w-full opacity-50 h-12",required:!0})}),jsxRuntimeExports.jsx("button",{type:"submit",className:"rounded-full w-24 h-10 m-4 bg-emerald-600 text-white text-xl hover:bg-white hover:text-emerald-600 py-2 transition-colors duration-300",children:"Edit"})]})})]})]});var module={};(function vt(ht,xt,_t,$t){var wt=!!(ht.Worker&&ht.Blob&&ht.Promise&&ht.OffscreenCanvas&&ht.OffscreenCanvasRenderingContext2D&&ht.HTMLCanvasElement&&ht.HTMLCanvasElement.prototype.transferControlToOffscreen&&ht.URL&&ht.URL.createObjectURL),Ct=typeof Path2D=="function"&&typeof DOMMatrix=="function",Pt=function(){if(!ht.OffscreenCanvas)return!1;var Gt=new OffscreenCanvas(1,1),Ht=Gt.getContext("2d");Ht.fillRect(0,0,1,1);var Zt=Gt.transferToImageBitmap();try{Ht.createPattern(Zt,"no-repeat")}catch{return!1}return!0}();function bt(){}function Rt(Gt){var Ht=xt.exports.Promise,Zt=Ht!==void 0?Ht:ht.Promise;return typeof Zt=="function"?new Zt(Gt):(Gt(bt,bt),null)}var Nt=function(Gt,Ht){return{transform:function(Zt){if(Gt)return Zt;if(Ht.has(Zt))return Ht.get(Zt);var sn=new OffscreenCanvas(Zt.width,Zt.height),cn=sn.getContext("2d");return cn.drawImage(Zt,0,0),Ht.set(Zt,sn),sn},clear:function(){Ht.clear()}}}(Pt,new Map),kt=function(){var Gt=Math.floor(16.666666666666668),Ht,Zt,sn={},cn=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(Ht=function(un){var hn=Math.random();return sn[hn]=requestAnimationFrame(function tn(on){cn===on||cn+Gt-1<on?(cn=on,delete sn[hn],un()):sn[hn]=requestAnimationFrame(tn)}),hn},Zt=function(un){sn[un]&&cancelAnimationFrame(sn[un])}):(Ht=function(un){return setTimeout(un,Gt)},Zt=function(un){return clearTimeout(un)}),{frame:Ht,cancel:Zt}}(),Dt=function(){var Gt,Ht,Zt={};function sn(cn){function un(hn,tn){cn.postMessage({options:hn||{},callback:tn})}cn.init=function(tn){var on=tn.transferControlToOffscreen();cn.postMessage({canvas:on},[on])},cn.fire=function(tn,on,vn){if(Ht)return un(tn,null),Ht;var xn=Math.random().toString(36).slice(2);return Ht=Rt(function(yn){function En(_n){_n.data.callback===xn&&(delete Zt[xn],cn.removeEventListener("message",En),Ht=null,Nt.clear(),vn(),yn())}cn.addEventListener("message",En),un(tn,xn),Zt[xn]=En.bind(null,{data:{callback:xn}})}),Ht},cn.reset=function(){cn.postMessage({reset:!0});for(var tn in Zt)Zt[tn](),delete Zt[tn]}}return function(){if(Gt)return Gt;if(!_t&&wt){var cn=["var CONFETTI, SIZE = {}, module = {};","("+vt.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{Gt=new Worker(URL.createObjectURL(new Blob([cn])))}catch(un){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn(" Could not load worker",un),null}sn(Gt)}return Gt}}(),Ot={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function Lt(Gt,Ht){return Ht?Ht(Gt):Gt}function Ft(Gt){return Gt!=null}function Ut(Gt,Ht,Zt){return Lt(Gt&&Ft(Gt[Ht])?Gt[Ht]:Ot[Ht],Zt)}function jt(Gt){return Gt<0?0:Math.floor(Gt)}function Vt(Gt,Ht){return Math.floor(Math.random()*(Ht-Gt))+Gt}function Bt(Gt){return parseInt(Gt,16)}function Wt(Gt){return Gt.map(zt)}function zt(Gt){var Ht=String(Gt).replace(/[^0-9a-f]/gi,"");return Ht.length<6&&(Ht=Ht[0]+Ht[0]+Ht[1]+Ht[1]+Ht[2]+Ht[2]),{r:Bt(Ht.substring(0,2)),g:Bt(Ht.substring(2,4)),b:Bt(Ht.substring(4,6))}}function qt(Gt){var Ht=Ut(Gt,"origin",Object);return Ht.x=Ut(Ht,"x",Number),Ht.y=Ut(Ht,"y",Number),Ht}function Xt(Gt){Gt.width=document.documentElement.clientWidth,Gt.height=document.documentElement.clientHeight}function Yt(Gt){var Ht=Gt.getBoundingClientRect();Gt.width=Ht.width,Gt.height=Ht.height}function en(Gt){var Ht=document.createElement("canvas");return Ht.style.position="fixed",Ht.style.top="0px",Ht.style.left="0px",Ht.style.pointerEvents="none",Ht.style.zIndex=Gt,Ht}function Qt(Gt,Ht,Zt,sn,cn,un,hn,tn,on){Gt.save(),Gt.translate(Ht,Zt),Gt.rotate(un),Gt.scale(sn,cn),Gt.arc(0,0,1,hn,tn,on),Gt.restore()}function nn(Gt){var Ht=Gt.angle*(Math.PI/180),Zt=Gt.spread*(Math.PI/180);return{x:Gt.x,y:Gt.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:Gt.startVelocity*.5+Math.random()*Gt.startVelocity,angle2D:-Ht+(.5*Zt-Math.random()*Zt),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:Gt.color,shape:Gt.shape,tick:0,totalTicks:Gt.ticks,decay:Gt.decay,drift:Gt.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:Gt.gravity*3,ovalScalar:.6,scalar:Gt.scalar,flat:Gt.flat}}function ln(Gt,Ht){Ht.x+=Math.cos(Ht.angle2D)*Ht.velocity+Ht.drift,Ht.y+=Math.sin(Ht.angle2D)*Ht.velocity+Ht.gravity,Ht.velocity*=Ht.decay,Ht.flat?(Ht.wobble=0,Ht.wobbleX=Ht.x+10*Ht.scalar,Ht.wobbleY=Ht.y+10*Ht.scalar,Ht.tiltSin=0,Ht.tiltCos=0,Ht.random=1):(Ht.wobble+=Ht.wobbleSpeed,Ht.wobbleX=Ht.x+10*Ht.scalar*Math.cos(Ht.wobble),Ht.wobbleY=Ht.y+10*Ht.scalar*Math.sin(Ht.wobble),Ht.tiltAngle+=.1,Ht.tiltSin=Math.sin(Ht.tiltAngle),Ht.tiltCos=Math.cos(Ht.tiltAngle),Ht.random=Math.random()+2);var Zt=Ht.tick++/Ht.totalTicks,sn=Ht.x+Ht.random*Ht.tiltCos,cn=Ht.y+Ht.random*Ht.tiltSin,un=Ht.wobbleX+Ht.random*Ht.tiltCos,hn=Ht.wobbleY+Ht.random*Ht.tiltSin;if(Gt.fillStyle="rgba("+Ht.color.r+", "+Ht.color.g+", "+Ht.color.b+", "+(1-Zt)+")",Gt.beginPath(),Ct&&Ht.shape.type==="path"&&typeof Ht.shape.path=="string"&&Array.isArray(Ht.shape.matrix))Gt.fill(an(Ht.shape.path,Ht.shape.matrix,Ht.x,Ht.y,Math.abs(un-sn)*.1,Math.abs(hn-cn)*.1,Math.PI/10*Ht.wobble));else if(Ht.shape.type==="bitmap"){var tn=Math.PI/10*Ht.wobble,on=Math.abs(un-sn)*.1,vn=Math.abs(hn-cn)*.1,xn=Ht.shape.bitmap.width*Ht.scalar,yn=Ht.shape.bitmap.height*Ht.scalar,En=new DOMMatrix([Math.cos(tn)*on,Math.sin(tn)*on,-Math.sin(tn)*vn,Math.cos(tn)*vn,Ht.x,Ht.y]);En.multiplySelf(new DOMMatrix(Ht.shape.matrix));var _n=Gt.createPattern(Nt.transform(Ht.shape.bitmap),"no-repeat");_n.setTransform(En),Gt.globalAlpha=1-Zt,Gt.fillStyle=_n,Gt.fillRect(Ht.x-xn/2,Ht.y-yn/2,xn,yn),Gt.globalAlpha=1}else if(Ht.shape==="circle")Gt.ellipse?Gt.ellipse(Ht.x,Ht.y,Math.abs(un-sn)*Ht.ovalScalar,Math.abs(hn-cn)*Ht.ovalScalar,Math.PI/10*Ht.wobble,0,2*Math.PI):Qt(Gt,Ht.x,Ht.y,Math.abs(un-sn)*Ht.ovalScalar,Math.abs(hn-cn)*Ht.ovalScalar,Math.PI/10*Ht.wobble,0,2*Math.PI);else if(Ht.shape==="star")for(var gn=Math.PI/2*3,$n=4*Ht.scalar,wn=8*Ht.scalar,Sn=Ht.x,Cn=Ht.y,Pn=5,Tn=Math.PI/Pn;Pn--;)Sn=Ht.x+Math.cos(gn)*wn,Cn=Ht.y+Math.sin(gn)*wn,Gt.lineTo(Sn,Cn),gn+=Tn,Sn=Ht.x+Math.cos(gn)*$n,Cn=Ht.y+Math.sin(gn)*$n,Gt.lineTo(Sn,Cn),gn+=Tn;else Gt.moveTo(Math.floor(Ht.x),Math.floor(Ht.y)),Gt.lineTo(Math.floor(Ht.wobbleX),Math.floor(cn)),Gt.lineTo(Math.floor(un),Math.floor(hn)),Gt.lineTo(Math.floor(sn),Math.floor(Ht.wobbleY));return Gt.closePath(),Gt.fill(),Ht.tick<Ht.totalTicks}function dn(Gt,Ht,Zt,sn,cn){var un=Ht.slice(),hn=Gt.getContext("2d"),tn,on,vn=Rt(function(xn){function yn(){tn=on=null,hn.clearRect(0,0,sn.width,sn.height),Nt.clear(),cn(),xn()}function En(){_t&&!(sn.width===$t.width&&sn.height===$t.height)&&(sn.width=Gt.width=$t.width,sn.height=Gt.height=$t.height),!sn.width&&!sn.height&&(Zt(Gt),sn.width=Gt.width,sn.height=Gt.height),hn.clearRect(0,0,sn.width,sn.height),un=un.filter(function(_n){return ln(hn,_n)}),un.length?tn=kt.frame(En):yn()}tn=kt.frame(En),on=yn});return{addFettis:function(xn){return un=un.concat(xn),vn},canvas:Gt,promise:vn,reset:function(){tn&&kt.cancel(tn),on&&on()}}}function fn(Gt,Ht){var Zt=!Gt,sn=!!Ut(Ht||{},"resize"),cn=!1,un=Ut(Ht,"disableForReducedMotion",Boolean),hn=wt&&!!Ut(Ht||{},"useWorker"),tn=hn?Dt():null,on=Zt?Xt:Yt,vn=Gt&&tn?!!Gt.__confetti_initialized:!1,xn=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,yn;function En(gn,$n,wn){for(var Sn=Ut(gn,"particleCount",jt),Cn=Ut(gn,"angle",Number),Pn=Ut(gn,"spread",Number),Tn=Ut(gn,"startVelocity",Number),kn=Ut(gn,"decay",Number),Mn=Ut(gn,"gravity",Number),Dn=Ut(gn,"drift",Number),Rn=Ut(gn,"colors",Wt),On=Ut(gn,"ticks",Number),An=Ut(gn,"shapes"),Ln=Ut(gn,"scalar"),jn=!!Ut(gn,"flat"),In=qt(gn),Nn=Sn,bn=[],Fn=Gt.width*In.x,Vn=Gt.height*In.y;Nn--;)bn.push(nn({x:Fn,y:Vn,angle:Cn,spread:Pn,startVelocity:Tn,color:Rn[Nn%Rn.length],shape:An[Vt(0,An.length)],ticks:On,decay:kn,gravity:Mn,drift:Dn,scalar:Ln,flat:jn}));return yn?yn.addFettis(bn):(yn=dn(Gt,bn,on,$n,wn),yn.promise)}function _n(gn){var $n=un||Ut(gn,"disableForReducedMotion",Boolean),wn=Ut(gn,"zIndex",Number);if($n&&xn)return Rt(function(Tn){Tn()});Zt&&yn?Gt=yn.canvas:Zt&&!Gt&&(Gt=en(wn),document.body.appendChild(Gt)),sn&&!vn&&on(Gt);var Sn={width:Gt.width,height:Gt.height};tn&&!vn&&tn.init(Gt),vn=!0,tn&&(Gt.__confetti_initialized=!0);function Cn(){if(tn){var Tn={getBoundingClientRect:function(){if(!Zt)return Gt.getBoundingClientRect()}};on(Tn),tn.postMessage({resize:{width:Tn.width,height:Tn.height}});return}Sn.width=Sn.height=null}function Pn(){yn=null,sn&&(cn=!1,ht.removeEventListener("resize",Cn)),Zt&&Gt&&(document.body.contains(Gt)&&document.body.removeChild(Gt),Gt=null,vn=!1)}return sn&&!cn&&(cn=!0,ht.addEventListener("resize",Cn,!1)),tn?tn.fire(gn,Sn,Pn):En(gn,Sn,Pn)}return _n.reset=function(){tn&&tn.reset(),yn&&yn.reset()},_n}var mn;function pn(){return mn||(mn=fn(null,{useWorker:!0,resize:!0})),mn}function an(Gt,Ht,Zt,sn,cn,un,hn){var tn=new Path2D(Gt),on=new Path2D;on.addPath(tn,new DOMMatrix(Ht));var vn=new Path2D;return vn.addPath(on,new DOMMatrix([Math.cos(hn)*cn,Math.sin(hn)*cn,-Math.sin(hn)*un,Math.cos(hn)*un,Zt,sn])),vn}function Kt(Gt){if(!Ct)throw new Error("path confetti are not supported in this browser");var Ht,Zt;typeof Gt=="string"?Ht=Gt:(Ht=Gt.path,Zt=Gt.matrix);var sn=new Path2D(Ht),cn=document.createElement("canvas"),un=cn.getContext("2d");if(!Zt){for(var hn=1e3,tn=hn,on=hn,vn=0,xn=0,yn,En,_n=0;_n<hn;_n+=2)for(var gn=0;gn<hn;gn+=2)un.isPointInPath(sn,_n,gn,"nonzero")&&(tn=Math.min(tn,_n),on=Math.min(on,gn),vn=Math.max(vn,_n),xn=Math.max(xn,gn));yn=vn-tn,En=xn-on;var $n=10,wn=Math.min($n/yn,$n/En);Zt=[wn,0,0,wn,-Math.round(yn/2+tn)*wn,-Math.round(En/2+on)*wn]}return{type:"path",path:Ht,matrix:Zt}}function Jt(Gt){var Ht,Zt=1,sn="#000000",cn='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof Gt=="string"?Ht=Gt:(Ht=Gt.text,Zt="scalar"in Gt?Gt.scalar:Zt,cn="fontFamily"in Gt?Gt.fontFamily:cn,sn="color"in Gt?Gt.color:sn);var un=10*Zt,hn=""+un+"px "+cn,tn=new OffscreenCanvas(un,un),on=tn.getContext("2d");on.font=hn;var vn=on.measureText(Ht),xn=Math.ceil(vn.actualBoundingBoxRight+vn.actualBoundingBoxLeft),yn=Math.ceil(vn.actualBoundingBoxAscent+vn.actualBoundingBoxDescent),En=2,_n=vn.actualBoundingBoxLeft+En,gn=vn.actualBoundingBoxAscent+En;xn+=En+En,yn+=En+En,tn=new OffscreenCanvas(xn,yn),on=tn.getContext("2d"),on.font=hn,on.fillStyle=sn,on.fillText(Ht,_n,gn);var $n=1/Zt;return{type:"bitmap",bitmap:tn.transferToImageBitmap(),matrix:[$n,0,0,$n,-xn*$n/2,-yn*$n/2]}}xt.exports=function(){return pn().apply(this,arguments)},xt.exports.reset=function(){pn().reset()},xt.exports.create=fn,xt.exports.shapeFromPath=Kt,xt.exports.shapeFromText=Jt})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),module,!1);const confetti=module.exports;module.exports.create;const ScoreBoard=()=>{const[vt,ht]=reactExports.useState(1),[xt,_t]=reactExports.useState("easy"),[$t,wt]=reactExports.useState([]),[Ct,Pt]=reactExports.useState(null);var bt=localStorage.getItem("userName");const Rt=async()=>{var Lt,Ft,Ut;const kt=getDatabase(),Dt=query(ref(kt,"users"),orderByChild(xt),limitToLast(10)),Ot=await get(Dt);if(Ot.exists()){const jt=[];Ot.forEach(Vt=>{const Bt=Vt.val();jt.push({username:Bt.username,score:Bt[xt]})}),jt.sort((Vt,Bt)=>Bt.score-Vt.score),((Lt=jt[0])==null?void 0:Lt.score)!==Ct&&((Ft=jt[0])==null?void 0:Ft.score)>(Ct||0)&&Nt(),wt(jt),Pt(((Ut=jt[0])==null?void 0:Ut.score)||0)}},Nt=()=>{confetti({particleCount:500,spread:200,origin:{y:.6}})};return reactExports.useEffect(()=>{switch(vt){case 1:_t("easy");break;case 2:_t("medium");break;case 3:_t("hard");break}},[vt]),reactExports.useEffect(()=>{Rt()},[xt]),jsxRuntimeExports.jsxs("div",{className:"flex justify-center items-center h-screen w-screen text-black relative bg-center",style:{backgroundImage:"url('bg.png')",backgroundSize:"80%",backgroundRepeat:"no-repeat"},children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40 z-10"}),jsxRuntimeExports.jsxs("div",{className:"relative z-30 bg-[#A8A8A87A] bg-opacity-45 rounded-3xl w-7/12 h-5/6 flex flex-col justify-start items-center pt-8",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mt-8",children:[jsxRuntimeExports.jsx("h1",{className:"text-4xl font-bold text-black mb-2 underline",children:"Score Table"}),jsxRuntimeExports.jsx("div",{className:"absolute top-40 left-2 -mt-20 ml-8",children:jsxRuntimeExports.jsx(Link,{to:"/Home",children:jsxRuntimeExports.jsx("img",{src:"back.png",alt:"Back Button"})})})]}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-8 mb-8",children:[jsxRuntimeExports.jsx("button",{onClick:()=>ht(1),className:`py-2 px-4 rounded-3xl ${vt===1?"bg-emerald-600 text-white text-xl py-2 transition-colors duration-300":"bg-gray-200 text-gray-700 hover:bg-emerald-300 transition-colors duration-300"}`,children:"Banana Bash"}),jsxRuntimeExports.jsx("button",{onClick:()=>ht(2),className:`py-2 px-4 rounded-3xl ${vt===2?"bg-emerald-600 text-white  text-xl py-2 transition-colors duration-300":"bg-gray-200 text-gray-700 hover:bg-emerald-300 transition-colors duration-300"}`,children:"Banana Blitz"}),jsxRuntimeExports.jsx("button",{onClick:()=>ht(3),className:`py-2 px-4 rounded-3xl ${vt===3?"bg-emerald-600 text-white  text-xl  py-2 transition-colors duration-300":"bg-gray-200 text-gray-700 hover:bg-emerald-300 transition-colors duration-300"}`,children:"Banana Frenzy"})]}),jsxRuntimeExports.jsxs("div",{className:"relative w-full h-1/2 flex justify-between items-center",children:[$t[1]&&jsxRuntimeExports.jsxs("div",{className:"absolute left-1/4 top-20 flex flex-col items-center",children:[jsxRuntimeExports.jsx("div",{className:`bg-gray-200 text-gray-800 text-center py-2 px-4 rounded-full shadow-lg mb-2 ${$t[1].username===bt?"bg-blue-400":"bg-gray-200"}`,children:$t[1].username}),jsxRuntimeExports.jsx("img",{src:"second.png",alt:"2nd Place",className:"select-none w-36 h-36"})]}),$t[0]&&jsxRuntimeExports.jsxs("div",{className:"absolute top-7 left-1/2 transform -translate-x-1/2 flex flex-col items-center",children:[jsxRuntimeExports.jsx("div",{className:`bg-gray-200 text-gray-800 text-center py-2 px-4 rounded-full shadow-lg mb-2${$t[0].username===bt?"bg-blue-400":"bg-gray-200"}`,children:$t[0].username}),jsxRuntimeExports.jsx("img",{src:"first.png",alt:"1st Place",className:"select-none w-40 h-40"})]}),$t[2]&&jsxRuntimeExports.jsxs("div",{className:"absolute right-1/4 top-20 flex flex-col items-center",children:[jsxRuntimeExports.jsx("div",{className:`text-gray-800 text-center py-2 px-4 rounded-full shadow-lg mb-2 ${$t[2].username===bt?"bg-blue-400":"bg-gray-200"}`,children:$t[2].username}),jsxRuntimeExports.jsx("img",{src:"third.png",alt:"3rd Place",className:"select-none w-36 h-36"})]})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-3 gap-4 mt-16 w-full px-8 mb-5",children:$t.slice(3,9).map((kt,Dt)=>jsxRuntimeExports.jsxs("div",{className:`flex flex-col items-center bg-gray-200 text-gray-800 py-4 px-6 rounded-lg shadow-md ${kt.username===bt?"bg-blue-400":"bg-gray-200"}`,children:[jsxRuntimeExports.jsxs("div",{className:"text-lg font-bold",children:["#",Dt+4]}),jsxRuntimeExports.jsx("div",{className:"text-center mt-2",children:kt.username})]},Dt))})]})]})};function Game_summary({restartGame:vt,onClose:ht,score:xt,difficulty:_t}){const $t=localStorage.getItem("userId"),[wt,Ct]=reactExports.useState(null),[Pt,bt]=reactExports.useState(!1),[Rt,Nt]=reactExports.useState(!1),kt=ref(getDatabase(app)),Dt=()=>{vt(),ht()};reactExports.useEffect(()=>{Ot(),$t&&Nt(!0)},[]);const Ot=async()=>{if($t){const Ft=await get(child(kt,`users/${$t}`));Ft.exists()?Ct(Ft.val()):console.log("No data available")}},Lt=async()=>{if($t){let Ft={};_t==="easy"?Ft.easy=xt:_t==="medium"?Ft.medium=xt:Ft.hard=xt,await update(child(kt,`users/${$t}`),Ft),bt(!0),console.log("User data updated successfully")}};return reactExports.useEffect(()=>{if(wt!==null){let Ft;switch(_t){case"easy":Ft=wt.easy;break;case"medium":Ft=wt.medium;break;case"hard":Ft=wt.hard;break}Ft<xt&&Lt()}},[wt]),jsxRuntimeExports.jsx("div",{className:"bg-black fixed flex justify-center items-center w-screen h-screen bg-opacity-45 select-none z-50",children:jsxRuntimeExports.jsxs(motion.div,{className:"bg-yellow-100 p-8 rounded-lg shadow-lg z-50 w-2/5 h-3/5",initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},transition:{duration:.8,delay:.5,ease:[0,.71,.2,1.01]},children:[jsxRuntimeExports.jsx("img",{src:"summary.gif",alt:"Summary GIF",className:"absolute bottom-64 w-100 h-100 left-1/2 transform -translate-x-1/2 opacity-90"}),jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-4xl font-bold text-red-600",children:"Game Over!"}),jsxRuntimeExports.jsxs("p",{className:"text-2xl mt-4",children:["Your Score: ",xt]}),Pt&&jsxRuntimeExports.jsx("p",{className:"text-xl text-green-600 font-bold mt-2",children:"Congratulations! New high score."}),!Rt&&jsxRuntimeExports.jsx("p",{className:"text-xl text-black-600 font-bold mt-2",children:"Login to Save your Score!"})]}),jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-between w-2/4",children:[jsxRuntimeExports.jsx("button",{className:"mt-4 px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-600",onClick:Dt,children:"Play Again"}),jsxRuntimeExports.jsx("button",{className:"mt-4 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-red-600",children:jsxRuntimeExports.jsx(Link,{to:"/home",children:"Go to Home"})})]})})]})})}Game_summary.propTypes={restartGame:PropTypes.func.isRequired,onClose:PropTypes.func.isRequired,score:PropTypes.number.isRequired,difficulty:PropTypes.string.isRequired};const MathChallengePopup=({onClose,onSuccess})=>{const[timeLeft,setTimeLeft]=reactExports.useState(100),[solution,setSolution]=reactExports.useState(null),[displayQuestion,setDisplayQuestion]=reactExports.useState(""),[options,setOptions]=reactExports.useState([]),[errorMessage,setErrorMessage]=reactExports.useState(""),[selectedOption,setSelectedOption]=reactExports.useState(null),[showFeedback,setShowFeedback]=reactExports.useState(!1);reactExports.useEffect(()=>{const generateMathEquation=()=>{const operators=["+","-","*","/"],randomOperator=()=>operators[Math.floor(Math.random()*operators.length)],num1=Math.floor(Math.random()*10)+1,num2=Math.floor(Math.random()*10)+1,num3=Math.floor(Math.random()*10)+1,num4=Math.floor(Math.random()*10)+1,equation=`${num1} ${randomOperator()} ${num2} ${randomOperator()} ${num3} ${randomOperator()} ${num4}`,calculatedSolution=eval(equation).toFixed(2),displayEquation=equation.replace(/\*/g,"x");setDisplayQuestion(displayEquation),setSolution(parseFloat(calculatedSolution));const generatedOptions=[parseFloat(calculatedSolution)];for(;generatedOptions.length<4;){const vt=parseFloat((Math.random()*20-10).toFixed(2));generatedOptions.includes(vt)||generatedOptions.push(vt)}setOptions(generatedOptions.sort(()=>Math.random()-.5))};generateMathEquation();const timer=setInterval(()=>{setTimeLeft(vt=>vt-1)},1e3);return()=>clearInterval(timer)},[onClose]),reactExports.useEffect(()=>{timeLeft===0&&onClose()},[timeLeft,onClose]);const handleOptionClick=vt=>{setSelectedOption(vt),setShowFeedback(!0),setTimeout(()=>{vt===solution?onSuccess():setErrorMessage("Incorrect answer! No points awarded."),onClose()},1e3)};return jsxRuntimeExports.jsx("div",{className:"absolute inset-0 flex justify-center items-center bg-black bg-opacity-50 z-50",children:jsxRuntimeExports.jsxs("div",{className:"bg-white p-6 rounded-lg text-center shadow-lg",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold",children:"Solve This Equation to Get Extra 5 Points!"}),jsxRuntimeExports.jsx("p",{className:"text-lg mt-2",children:displayQuestion}),jsxRuntimeExports.jsxs("p",{className:"text-gray-600",children:["Time Left: ",timeLeft,"s"]}),jsxRuntimeExports.jsx("div",{className:"mt-4 grid grid-cols-2 gap-4",children:options.map((vt,ht)=>jsxRuntimeExports.jsx("button",{onClick:()=>handleOptionClick(vt),className:`py-2 px-4 rounded-lg text-white 
                ${showFeedback?vt===solution?"bg-green-500":selectedOption===vt?"bg-red-500":"bg-gray-400":"bg-emerald-600 hover:bg-yellow-600"}`,disabled:showFeedback,children:vt},ht))}),errorMessage&&jsxRuntimeExports.jsx("p",{className:"text-red-500 mt-4",children:errorMessage})]})})};MathChallengePopup.propTypes={onSuccess:PropTypes.func.isRequired,onClose:PropTypes.func.isRequired};const GameModule$1=()=>{const[vt,ht]=reactExports.useState(null),[xt,_t]=reactExports.useState(""),[$t,wt]=reactExports.useState(""),[Ct,Pt]=reactExports.useState(5),[bt,Rt]=reactExports.useState("Bash"),[Nt,kt]=reactExports.useState("easy"),[Dt,Ot]=reactExports.useState(""),[Lt,Ft]=reactExports.useState(0),[Ut,jt]=reactExports.useState(30),[Vt,Bt]=reactExports.useState(0),[Wt,zt]=reactExports.useState(!1),[qt,Xt]=reactExports.useState(!1),[Yt,en]=reactExports.useState(0),[Qt,nn]=reactExports.useState(!1),[ln,dn]=reactExports.useState(1),[fn,mn]=reactExports.useState(),pn=useLocation();reactExports.useEffect(()=>{const on=new URLSearchParams(pn.search).get("difficulty")||"Bash";switch(Rt(on),on){case"Bash":Pt(5),kt("easy"),jt(30),mn(30);break;case"Blitz":Pt(4),kt("medium"),jt(20),mn(20);break;case"Frenzy":Pt(3),kt("hard"),jt(10),mn(10);break;default:Pt(5),jt(30),mn(30)}},[pn.search]);const an=async()=>{Xt(!0);try{const tn=await fetch("https://marcconrad.com/uob/banana/api.php?out=json&base64=no");if(!tn.ok)throw new Error("Failed to fetch data");const on=await tn.json();if(!on.question||!on.solution)throw new Error("Invalid data received from API");_t(on.question),wt(on.solution),console.log("Correct Answer:",on.solution)}catch(tn){console.error("Error fetching banana data:",tn)}finally{Xt(!1)}},Kt=async()=>{if(Ct===0){zt(!0);return}await an(),Ot(""),Jt()};reactExports.useEffect(()=>{Ct>0&&Kt()},[Ct]),reactExports.useEffect(()=>{if(!(Wt||Qt))if(Ut===0)Gt();else{const tn=setInterval(()=>{jt(on=>on-1)},1e3);return()=>clearInterval(tn)}},[Ut,Wt,Qt]);const Jt=()=>{if(!Wt)switch(bt){case"Bash":jt(30);break;case"Blitz":jt(20);break;case"Frenzy":jt(10);break;default:jt(30)}},Gt=()=>{Ct>0&&(Pt(tn=>tn-1),Ft(0),Ct===1&&zt(!0))},Ht=async tn=>{if(!Wt){if(!xt||!$t){console.error("Banana data or answer is missing",xt),Ot("Error! Unable to process answer.");return}tn.toString()===$t.toString()?(Bt(on=>on+1),Ot("Correct! "),Ft(0),en(on=>on+1)):(Ot("Incorrect! "),Ft(on=>on+1),Lt+1>=2&&(Pt(Ct-1),Ft(0))),Ct===1?zt(!0):(Yt+1)%5===0?nn(!0):setTimeout(()=>{Kt()},1e3)}},Zt=()=>{zt(!1),Bt(0),ht(null),Ot(""),Pt(bt==="Bash"?5:bt==="Blitz"?4:3),Ft(0),Jt(),Kt()},sn=()=>{switch(bt){case"Bash":return"/Bash.png";case"Blitz":return"/Blitz.png";case"Frenzy":return"/Frenzy.png";default:return"/Bash.png"}},cn=()=>{zt(!1)},un=()=>{Bt(tn=>tn+5)},hn=()=>{nn(!1),Kt()};return reactExports.useEffect(()=>{const tn=Ut/fn;dn(tn)},[Ut,fn]),jsxRuntimeExports.jsxs("div",{className:"flex justify-center items-center h-screen w-screen text-black",children:[Qt&&jsxRuntimeExports.jsx(MathChallengePopup,{onClose:hn,onSuccess:un}),jsxRuntimeExports.jsxs("div",{className:"relative bg-[#A8A8A87A] bg-opacity-45 rounded-3xl w-8/12 h-5/6 flex flex-col items-center",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mt-4",children:[jsxRuntimeExports.jsx("h1",{className:"text-5xl font-extrabold text-black mb-2",children:"BANANA QUIZ GAME"}),jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold text-black mb-4 underline",children:bt==="Bash"?"Banana Bash":bt==="Blitz"?"Banana Blitz":"Banana Frenzy"})]}),jsxRuntimeExports.jsxs("div",{className:"w-full",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between w-full px-10 items-center",children:[jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("h1",{className:"text-xl font-bold",children:"Lives:"})}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs("p",{className:"font-bold text-4xl font-itim text-black text-center select-none",children:["Score: ",Vt]})}),jsxRuntimeExports.jsx("div",{className:"flex items-center space-x-2",children:jsxRuntimeExports.jsxs("div",{className:"inline-flex items-center font-itim select-none",children:[jsxRuntimeExports.jsx("p",{className:"text-black font-bold font-itim text-4xl",children:"Timer:"}),jsxRuntimeExports.jsxs("svg",{id:"progress",width:"75",height:"55",viewBox:"10 20 75 55",className:"top-4 left-4",children:[jsxRuntimeExports.jsx(motion$1.circle,{cx:"50",cy:"50",r:"20",className:`${Ut>3?"text-black":"text-red-600"} stroke-current `,strokeDasharray:2*Math.PI*20,strokeDashoffset:2*Math.PI*20*(1-ln),fill:"none",strokeWidth:"8",transform:"rotate(-90 50 50)",animate:{strokeDashoffset:2*Math.PI*20*(1-ln)},transition:{duration:.5,ease:"easeInOut"}}),jsxRuntimeExports.jsx("text",{x:"50",y:"50",dominantBaseline:"middle",textAnchor:"middle",className:"text-black font-bold text-2xl fill-current",children:Ut})]})]})})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("div",{className:"flex space-x-2 ml-10",children:Array.from({length:Ct},(tn,on)=>jsxRuntimeExports.jsx("img",{disabled:!xt||!$t||qt,src:sn(),alt:"Life",className:"w-12 h-15"},on))}),Dt&&jsxRuntimeExports.jsx("p",{className:`text-4xl font-bold text-center absolute top-1/4 left-1/2 transform -translate-x-1/2 ${Dt==="Correct! "?"text-green-800":"text-red-800"}`,children:Dt})]})]}),jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center flex-grow",children:qt?jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("l-bouncy",{size:55,speed:1.8,color:"black"})}):jsxRuntimeExports.jsx("img",{src:xt,alt:"Banana",className:"w-11/12 object-fill z-0"})}),jsxRuntimeExports.jsx("div",{className:"mt-4",children:vt?jsxRuntimeExports.jsx("p",{className:"text-red-500",children:vt}):xt?jsxRuntimeExports.jsx("p",{className:"text-lg font-medium",children:"Select The Correct Answer"}):jsxRuntimeExports.jsx("p",{children:"Loading..."})}),jsxRuntimeExports.jsx("div",{className:"mt-4 flex flex-wrap justify-center gap-4 mb-2",children:Array.from({length:10},(tn,on)=>jsxRuntimeExports.jsx("button",{onClick:()=>Ht(on),className:"rounded-full w-12 h-12 bg-[#A8A8A87A] text-black hover:bg-amber-600 transition-colors duration-300 bg-opacity-45",children:on},on))}),jsxRuntimeExports.jsx("div",{className:"mt-auto mb-4 flex flex-col items-center",children:jsxRuntimeExports.jsx(Link,{to:"/Difficulty",children:jsxRuntimeExports.jsx("button",{onClick:Zt,type:"submit",className:"rounded-full w-24 h-10 bg-emerald-600 text-white text-xl hover:bg-white hover:text-emerald-600 py-2 transition-colors duration-300",children:"Restart"})})}),jsxRuntimeExports.jsx("div",{className:"absolute top-4 left-4",children:jsxRuntimeExports.jsx(Link,{to:"/Difficulty",children:jsxRuntimeExports.jsx("img",{src:"back.png",alt:"Back"})})})]}),Wt&&jsxRuntimeExports.jsx(Game_summary,{onClose:cn,score:Vt,restartGame:Zt,difficulty:Nt})]})},Instructions=()=>jsxRuntimeExports.jsxs("div",{className:"flex justify-center items-center h-screen w-screen text-black relative",children:[jsxRuntimeExports.jsx("div",{className:"relative bg-[#A8A8A87A] bg-opacity-45 rounded-3xl w-7/12 h-5/6 flex flex-col justify-start items-center pt-8",children:jsxRuntimeExports.jsxs("div",{className:"text-center mt-8 overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"flex relative",children:[jsxRuntimeExports.jsx(Link,{to:"/Home",className:"absolute ml-10",children:jsxRuntimeExports.jsx("img",{src:"back.png",alt:"Back Button"})}),jsxRuntimeExports.jsx("h1",{className:"text-4xl font-bold text-black mb-2 underline text-center w-full",children:"Instructions"})]}),jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center h-full",children:jsxRuntimeExports.jsxs("div",{className:"text-2xl font-itim text-black overflow-y-auto h-full w-11/12 no-scrollbar text-left",children:[jsxRuntimeExports.jsxs("h1",{className:"md:text-lg lg:text-xl",children:[jsxRuntimeExports.jsx("span",{className:"font-bold text-3xl md:text-xl lg:text-3xl",children:"Objective:"})," ","Find the hidden number in the math equations before time runs out and without losing all your lives. Earn extra points with random bonus questions!"]}),jsxRuntimeExports.jsxs("h1",{className:"md:text-lg",children:[jsxRuntimeExports.jsx("p",{className:"font-bold text-3xl md:text-xl lg:text-3xl",children:"Difficulty Levels:"}),jsxRuntimeExports.jsx("div",{className:"ml-16",children:jsxRuntimeExports.jsxs("ul",{className:"list-disc",children:[jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx("h1",{children:"Banana Bash: 5 lives and 30 seconds per question."})}),jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx("h1",{children:"Banana Blitz: 3 lives and 20 seconds per question."})}),jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx("h1",{children:"Banana Frenzy: 3 lives and 15 seconds per question."})})]})})]}),jsxRuntimeExports.jsxs("h1",{className:"md:text-lg",children:[jsxRuntimeExports.jsx("p",{className:"font-bold text-3xl md:text-xl lg:text-3xl",children:"PlayGame:"}),jsxRuntimeExports.jsx("div",{className:"ml-16",children:jsxRuntimeExports.jsxs("ul",{className:"list-disc",children:[jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx("h1",{children:"Solve math equations with numbers hidden behind bananas. Pick the correct number to score 1 point and move to the next question."})}),jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx("h1",{children:"Every 5 questions, you'll get a random bonus quiz. Answer correctly: Earn 5 extra points. Answer wrong: Your score stays the same (no penalty)."})}),jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx("h1",{children:"Be careful! Picking the wrong number in regular questions or running out of time costs a life."})}),jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx("h1",{children:"The game ends if you lose all your lives or run out of time."})})]})})]}),jsxRuntimeExports.jsxs("h1",{className:"md:text-lg ",children:[jsxRuntimeExports.jsx("p",{className:"font-bold text-3xl",children:"Tips:"}),jsxRuntimeExports.jsx("div",{className:"ml-16",children:jsxRuntimeExports.jsxs("ul",{className:"list-disc",children:[jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx("h1",{children:"Focus on the equations to find the right number."})}),jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("h1",{children:"Keep track of the timer and your remaining lives."}),jsxRuntimeExports.jsx("h1",{children:"Bonus quizzes are a great chance to boost your score!"})]})]})})]}),jsxRuntimeExports.jsxs("h1",{className:"md:text-lg ",children:[jsxRuntimeExports.jsx("span",{className:"font-bold text-3xl",children:"Restart: "}),"You can restart the game anytime by clicking the Restart button."]}),jsxRuntimeExports.jsx("h1",{className:"text-center text-4xl mt-2 mb-14",children:"Challenge yourself, boost your score, and show your math skills in the Banana Quiz Game!"})]})})]})}),jsxRuntimeExports.jsxs("div",{className:"absolute -bottom-28 -z-10 left-0 w-full flex justify-between p-4 opacity-10",children:[jsxRuntimeExports.jsx("img",{src:"bg.png",alt:"Background Image 1",className:"w-1/2"}),jsxRuntimeExports.jsx("img",{src:"bg.png",alt:"Background Image 2",className:"w-1/2"})]})]}),GameModule=()=>jsxRuntimeExports.jsxs("div",{className:"flex justify-center items-center h-screen w-screen text-black",children:[jsxRuntimeExports.jsx("div",{className:"relative bg-[#A8A8A87A] bg-opacity-45 rounded-3xl w-7/12 h-4/6 flex flex-col justify-center items-center",children:jsxRuntimeExports.jsxs("div",{className:"text-center -mt-96",children:[jsxRuntimeExports.jsx("h1",{className:"text-5xl font-extrabold text-black mb-2",children:"BANANA QUIZ GAME"}),jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold text-black mb-2 underline",children:"Banana Bash"}),jsxRuntimeExports.jsx("h1",{className:"text-xl font-bold text-black mr-96 ",children:"Lives:"}),jsxRuntimeExports.jsx("h1",{className:"text-xl font-bold text-black -mt-5 ml-96 ",children:"Time Left:"}),jsxRuntimeExports.jsxs("div",{className:"absolute top-40 left-2 -mt-32 ml-8",children:[jsxRuntimeExports.jsx(Link,{to:"/Home",children:jsxRuntimeExports.jsx("img",{src:"back.png",alt:""})}),jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center space-x-4 mt-96 ml-56 ",children:Array.from({length:10},(vt,ht)=>jsxRuntimeExports.jsx("button",{className:"rounded-full w-12 h-12 bg-[#A8A8A87A] text-black hover:bg-amber-600 transition-colors duration-300 bg-opacity-45",children:ht},ht))})]})]})}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-48 left-1/2 transform -translate-x-1/2 ",children:jsxRuntimeExports.jsx(Link,{to:"/Home",children:jsxRuntimeExports.jsx("button",{type:"submit",className:"rounded-full w-24 h-10 m- bg-emerald-600 text-white text-xl  hover:bg-white hover:text-emerald-600 py-2 transition-colors duration-300 ",children:"Restart"})})})]});function App(){return jsxRuntimeExports.jsx(HashRouter,{children:jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/",element:jsxRuntimeExports.jsx(Landing,{})}),jsxRuntimeExports.jsx(Route,{path:"/Login",element:jsxRuntimeExports.jsx(Signin,{})}),jsxRuntimeExports.jsx(Route,{path:"/SignUp",element:jsxRuntimeExports.jsx(SignUp$1,{})}),jsxRuntimeExports.jsx(Route,{path:"/Home",element:jsxRuntimeExports.jsx(Home,{})}),jsxRuntimeExports.jsx(Route,{path:"/Difficulty",element:jsxRuntimeExports.jsx(Difficulty,{})}),jsxRuntimeExports.jsx(Route,{path:"/User",element:jsxRuntimeExports.jsx(SignUp,{})}),jsxRuntimeExports.jsx(Route,{path:"/ScoreBoard",element:jsxRuntimeExports.jsx(ScoreBoard,{})}),jsxRuntimeExports.jsx(Route,{path:"/GameModule",element:jsxRuntimeExports.jsx(GameModule$1,{})}),jsxRuntimeExports.jsx(Route,{path:"/Instructions",element:jsxRuntimeExports.jsx(Instructions,{})}),jsxRuntimeExports.jsx(Route,{path:"/ExtraQuiz",element:jsxRuntimeExports.jsx(GameModule,{})})]})})}createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(reactExports.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}))});export default Un();
